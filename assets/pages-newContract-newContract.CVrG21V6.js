import{g as t,$ as e,a$ as o,b2 as a,l,a as r,h as s,s as c,b3 as n,aW as i,n as u,f as d,q as p,aX as f,t as h,w as m,u as _,v as g,x as y,y as b,z as w,E as k,D as $,b4 as x,A as v,aD as C,aE as S,B as F,F as T,C as I,H as z,G as P,b5 as A,b6 as D,J as V,S as U,K as j,L as M}from"./index-DJtkXLbk.js";import{_ as O}from"./fui-nav-bar.jzMwm7nO.js";import{r as B}from"./uni-app.es.DnKBEGT2.js";import{_ as L}from"./fui-dropdown-menu.DQYFSUGe.js";import{_ as R}from"./fui-icon.Di2eQoC1.js";import{_ as H}from"./fui-tag.DcXe62xw.js";import{_ as K}from"./uni-popup.CzvQehha.js";import{_ as W,a as q}from"./fui-collapse.rq1WOFQN.js";import{_ as N}from"./fui-input-number.Dmlw4bJX.js";import{_ as X}from"./uni-popup-dialog.BcHbARwi.js";import{_ as E}from"./fui-button.Bz1nWTaC.js";import{_ as Z}from"./fui-bottom-popup.D5yJPoCm.js";import{_ as J}from"./uni-drawer.DSCPgCf7.js";import{_ as G}from"./alert.Dea_H56C.js";import{_ as Q}from"./loading.4tTz4-j4.js";import{t as Y}from"./timeIndex.BC1hOYxu.js";import{f as tt}from"./fui-bottom-popup.BN1-lEtb.js";import{e as et}from"./emptyView.DCr5M3Jb.js";import{c as ot}from"./currency.DmkscNLR.js";import{c as at}from"./contract.CRMtuJ7L.js";import{T as lt}from"./lightweight-charts.production.BDItWdTS.js";import{_ as rt}from"./collect-select.ljX-P_F9.js";import{_ as st}from"./tran-icon.DWd0NTvl.js";import{_ as ct}from"./check-s.DGG9M_rm.js";import{_ as nt}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./fui-loading.PBeNzzTK.js";import"./fui-empty.DSVpH_3j.js";var it,ut;let dt;var pt,ft,ht,mt,_t,gt=0,yt=!1,bt=0,wt=0,kt=0;const $t=nt({components:{FuiTag:H,FuiNavBar:O,fuiBottomPopup:tt,emptyView:et},data(){return{navHeight:"",timeIndex:0,timeIist:Y.time,OrderType:"",value:"0",showPopover:!1,actions:[this.$t("市价下单"),this.$t("限价下单"),this.$t("条件单")],orderUnitValue:"",showUnitValue:"0.01",showUnit:["0.01","0.1","1"],active:0,sort:[{type:0,active:"/static/img/z-nomal.png",img:"/static/img/z-nomal.png",up:"/static/img/z-up-sms.png",down:"/static/img/z-down-sms.png"},{type:0,img:"/static/img/z-nomal.png",up:"/static/img/z-up-sms.png",down:"/static/img/z-down-sms.png"},{type:0,img:"/static/img/z-nomal.png",up:"/static/img/z-up-sms.png",down:"/static/img/z-down-sms.png"},{type:0,img:"/static/img/z-nomal.png",up:"/static/img/z-up-sms.png",down:"/static/img/z-down-sms.png"}],listTabIndex:0,IsShow:!1,update:!1,showMenu:!1,stopProfit:!1,support:0,priceInput:!1,priceNum:!1,alertMsg:"一键平仓将会撤销合约下所有挂单并以市价委托方式平仓合约下所有相关键仓位。",ticker:{P:"0.00"},searchValue:"",currency:[],mlist:[],mindex:0,currentCurrency:{},bids:[],asks:[],market:{},time:"--",balance:{legal_balance:0,position_balance:0},amountType:0,direction:1,tmutil:0,mutil:50,tmargin:1,margin_type:1,order_type:0,amount:"0",price_up:"",price_down:"",order_price:"",t_price:"",check:{sw:0,ps:1},rate:0,inputAm:"",content:"",onlyCurrency:!1,position:{totalAmount:{currency_id:0},position:[],legal_balance:0},pindex:0,ptype:!1,pprice:"",pamount:"",marginTip:!1,mtabIndex:0,numVal:"",plpopup:!1,rateValue:0,windowHeight:t().windowHeight,popSliderValue:0,like:!1,swiperHeight:"",matches:{}}},onReady(){this.getCurrentCurrency(),this.getMlistCurrency(),this.initForm(),e("contract",(t=>{this.onContractMessageHandler(t)})),setInterval((()=>{0===o.prototype.getStatus()&&(this.subscribeDepth(),e("contract",(t=>{t.type,this.onContractMessageHandler(t)})))}),1e3)},onShow(){a("connect"),this.getBalance(),this.getPosition();let t=l("margin_type");parseInt(t)>0&&(this.margin_type=parseInt(t));let e=l("mutil");parseInt(e)>0&&(this.mutil=parseInt(e))},onHide(){},watch:{timeIndex(t){this.reDrawKline(t)},IsShow(t){t&&setTimeout((()=>{this.Kcreate()}),500)},searchValue(t){0==this.mindex?this.mlist=ft.filter((e=>e.symbol.toLowerCase().includes(t.toLowerCase()))):this.currency[0].currency=pt.filter((e=>e.symbol.toLowerCase().includes(t.toLowerCase())))},onlyCurrency(t){this.getPosition()}},computed:{...r(["isLogin","userTheme","lang"])},methods:{navInit(e){const o=t().windowHeight;this.navHeight=e.height+e.statusBarHeight,this.swiperHeight=o-this.navHeight-44},filterTap(t){0==t&&this.$refs.ddmRange.show(),1==t&&this.$refs.decimal.show()},selectDecimal(t){console.log(t),this.showUnitValue=t.text},klineTimeChange(t){this.timeIndex=t.index},mgtipShow(){this.marginTip=!0,this.hideTabBar()},closePopup(){this.marginTip=!1,this.showTabbar()},hideTabBar(){s({animation:!0})},showTabbar(){c({animation:!0})},onContractMessageHandler(t){if(200===t.type&&it===t.data.cm_id||500===t.type&&t.data.cm_id===it||600===t.type&&it===t.data.cm_id||700===t.type&&it===t.data.cm_id){console.log(t.data);try{let e=t.data.data[this.currentCurrency.id.toString()];if(void 0===e||""===e)return;this.ticker=e,this.currentCurrency.new_price=e.c}catch(e){}try{0!==kt&&kt==parseFloat(ticker.c)||!this.IsShow||(this.updatePrice(this.ticker.C,this.ticker.c),kt=parseFloat(ticker.c))}catch(e){console.log(e)}this.calacPosition(t.data.data)}if(200!==t.type&&500!==t.type&&600!==t.type&&700!==t.type||(this.currency=this.currency.map((e=>(e.id===t.data.cm_id&&(e.currency=this.$util.compareCurrency(e.currency,t.data.data)),e)))),(201===t.type||501===t.type||601===t.type||701===t.type)&&t.data.currency_id===this.currentCurrency.id&&t.data.cm_id===it){let e=9;this.isLogin?(0===this.order_type&&(e=6),1===this.order_type&&(e=7),2===this.order_type&&(e=8)):e=3,this.bids=t.data.data.b.slice(0,e),this.asks=t.data.data.a.slice(0,e)}202==t.type&&t.data.currency_id==this.currentCurrency.id&&(this.market=t.data.data,0==gt&&(gt=this.market.T),gt!=this.market.T&&(gt=this.market.T),yt||this.calacTime()),400==t.type&&(this.getBalance(),this.getPosition())},calacPosition(t){var e=this.position.position;if(e.length<=0)return!1;for(var o in t)for(var l=t[o],r=0;r<e.length;r++)if(parseInt(e[r].currency_id)===parseInt(o)){var s=e[r],c=parseFloat(s.amount)-parseFloat(s.close),n=parseFloat(s.price),i=parseFloat(l.c);let t=0;if(t=1==parseInt(s.direction)?c*(i-n):c*(n-i),s.p=t,a("profit",s.id,t),1==parseInt(s.direction))var u=s.amount*(i-s.price)/s.margin*100;else u=s.amount*(s.price-i)/s.margin*100;s.rate=u>0?"+"+this.$util.thousandSeparator(u,2):this.$util.thousandSeparator(u),t=1==parseInt(s.direction)?s.amount*(i-s.price):s.amount*(s.price-i),s.mr=(parseFloat(s.margin)+parseFloat(t))/parseFloat(s.margin)*100,e[r]=s}this.position.position=e},getStopPrice(){if(!this.balance.legal_balance||this.balance.legal_balance<=0)return!1;let t=0,e=0,o=0;this.position.position.filter((t=>1===parseInt(t.margin_type))).map((a=>{if(1===a.margin_type){let l=parseFloat(a.amount)-parseFloat(a.close),r=parseFloat(a.price)*l;1===parseInt(a.direction)?t+=r:e+=r,o+=r/parseInt(a.muilt)}return a}));let a=0,l=0;t>e?(a=1,l=t-e):(a=2,l=e-t),console.log("direction:",a,"positionAmount:",l);let r=parseFloat(this.balance.legal_balance)+o;console.log("balance : ",r),this.position.position=this.position.position.map((t=>{if(1===parseInt(t.margin_type)){let e=r/(l/parseFloat(t.price)),o=0;o=1===a?parseFloat(t.price)-e:parseFloat(t.price)+e,o<0&&(o=0),t.stopPrice=o}return t}))},calacTime(){yt=setInterval((()=>{const t=Date.now(),e=gt-t,o=Math.floor(e%864e5/36e5),a=Math.floor(e%36e5/6e4),l=Math.floor(e%6e4/1e3);this.time=(o<10?"0"+o:o)+":"+(a<10?"0"+a:a)+":"+(l<10?"0"+l:l)}),1e3)},submit(t){if(0===this.order_type)var e=parseFloat(0===this.amountType?this.amount/this.mutil*this.currentCurrency.new_price:this.inputAm).toFixed(2);else if(1===this.order_type){if(1===t){if(this.order_price>this.currentCurrency.new_price)return this.content=this.$t("contruct.pl35a"),this.$refs.alert.open(),!1}else if(2===t&&this.order_price<this.currentCurrency.new_price)return this.content=this.$t("contruct.pl35b"),this.$refs.alert.open(),!1;e=parseFloat(0===this.amountType?this.amount/this.mutil*this.order_price:this.inputAm).toFixed(2)}else e=parseFloat(0===this.amountType?this.amount/this.mutil*this.order_price:this.inputAm).toFixed(2);if(this.currentCurrency.min_amount&&parseFloat(e)<parseFloat(this.currentCurrency.min_amount))return this.content=this.$t("contract.order_min_tip")+this.$util.float(this.currentCurrency.min_amount)+"USDT",this.$refs.alert.open(),!1;if(parseFloat(e)>parseFloat(this.balance.legal_balance))return this.content=this.$t("contruct.pl17"),this.$refs.alert.open(),!1;if(""==this.amount||this.amount<=0)return this.content=this.$t("contruct.pl16"),this.$refs.alert.open(),!1;if(this.order_type>=1&&(""==this.order_price||parseFloat(this.order_price)<=0))return this.content=this.$t("contruct.pl19"),this.$refs.alert.open(),!1;if(2==this.order_type&&(""==this.wprice||parseFloat(this.wprice)<=0))return this.content=this.$t("contruct.pl20"),this.$refs.alert.open(),!1;let o;if(o=1===t?this.getAvliAmount(1):this.getAvliAmount(2),0===this.amountType&&this.amount>o)return this.content=this.$t("contruct.pl17"),this.$refs.alert.open(),!1;if(1===this.amountType&&this.inputAm>o)return console.log(this.inputAm),this.content=this.$t("contruct.pl17"),this.$refs.alert.open(),!1;let a={cm_id:it,currency_id:ut,direction:t,muilt:this.mutil,order_type:this.order_type+1,margin_type:this.margin_type};0===this.amountType?a.amount=this.$util.str2number(this.amount):a.uamount=this.inputAm,0===this.order_type&&(a.price=this.ticker.c),1===this.order_type&&(a.price=this.order_price),2===this.order_type&&(a.price=this.order_price,a.wprice=this.t_price),a.nowprice=this.ticker.c,this.$refs.loading.open(),at.submitOrder(a).then((t=>{if(this.$refs.loading.close(),200!==t.code)return this.content=t.message,this.$refs.alert.open(),!1;this.order_price="",this.amount="",this.inputAm="",0!==this.order_type&&this.getPosition()})).catch((t=>{this.$refs.loading.close(),this.content=this.$t("trade.unknown_error"),this.$refs.alert.open()}))},getPosition(){at.getPositionList(this.onlyCurrency?ut:0).then((t=>{200===t.code?(this.position=t.data,this.getStopPrice()):this.position={position:[],totalAmount:[]}}))},initForm(){const t=l("mutil");void 0!==t&&parseInt(t)>0&&(this.mutil=t,this.tmutil=t);const e=l("margin_type");void 0!==e&&parseInt(e)>0&&(this.margin_type=e,this.tmargin=e)},getBalance(){setTimeout((()=>{this.isLogin&&it>0&&ut>0&&at.getBalance(it,ut).then((t=>{if(200==t.code&&(this.balance=t.data,this.balance.depth)){let t=6;this.balance.depth.data.b.length<6&&(t=this.balance.depth.data.b.length),this.bids=this.balance.depth.data.b.slice(0,t),this.asks=this.balance.depth.data.a.slice(0,t),this.currentCurrency.new_price=this.bids[0][0]}}))}),1e3)},subscribeDepth(){try{n().globalData.csocket.send({event:"contrade_depth_subscribe",cm_id:it,currency_id:ut})}catch(t){setTimeout((()=>{n().globalData.csocket.restart(),this.subscribeDepth()}),2e3)}},async getCurrentCurrency(){var t=l("current-contract");let e=!1;if(void 0!==t&&""!==t||(e=await this.getContracuMatches(),i("contract-matches",e),t=e[0].currency[0],it=t.cm_id=e[0].id,t.currency_type=e[0].currency_type),!e)try{e=await this.getContracuMatches();let o=e.filter((e=>e.id===t.cm_id));it=o[0].id,dt=o[0].currency_type,this.mindex=it,o[0].currency.map((e=>{parseInt(e.id)===parseInt(t.id)&&((t=e).cm_id=it,t.currency_type=o[0].currency_type)}))}catch(o){(t=e[0].currency[0]).cm_id=e[0].id,t.currency_type=e[0].currency_type,it=t.cm_id,dt=t.currency_type,this.mindex=it}pt=e[0].currency,this.currentCurrency=t,this.currency=e,ut=t.id,dt=t.currency_type,this.mindex=it,this.subscribeDepth(),i("current-contract",this.currentCurrency),this.getBalance(),this.getPosition(),this.like=this.favStatus(2,t.id)},setCurrentCurrency(t,e){it=t.id,dt=t.currency_type,this.matches=t,e.cm_id=it,e.currency_type=dt,this.currentCurrency=e,ut=e.id,this.subscribeDepth(),i("current-contract",e),this.getBalance(),this.getPosition(),this.$refs.showSelect.close(),this.IsShow&&this.loadKline()},getMlistCurrency(){ft=l("select-contract"),this.mlist=ft},getContracuMatches:async()=>(await ot.contractCurrencyList()).data,allPingcang(){this.$refs.alertDialog.open()},changeMutil(t){this.tmutil=t.detail.value},inputAmount(t){this.amount=t.detail.value/this.ticker.c},sliderChange(t){if(""==t.detail.value||t.detail.value<=0)return this.amount="",void(this.inputAm="");if(this.balance.legal_balance<=0)return this.amount="",void(this.inputAm="");if(this.irate=parseInt(t.detail.value),1==this.direction){let e=this.getAvliAmount(1),o=this.getAvliAmount(2),a=e>o?e:o;this.amount=parseFloat(a*(t.detail.value/100)).toFixed(this.currentCurrency.decimals),1==this.amountType&&(this.inputAm=this.amount)}else this.rate=t.detail.value},selectType(t){this.order_type=t.index,this.order_price=this.$util.thousandSeparator(this.ticker.c,this.currentCurrency.decimals)},onSelect(t){},switchSort(t){return console.log(t),0==this.sort[t].type?(this.sort[t].type=1,void(this.sort[t].active=this.sort[t].down)):1==this.sort[t].type?(this.sort[t].type=2,void(this.sort[t].active=this.sort[t].up)):2==this.sort[t].type?(this.sort[t].type=0,void(this.sort[t].active=this.sort[t].img)):void 0},openSupport(t){this.support=t,this.$refs.showSupport.open()},getmaxPosition(){return this.mutil>100?2:this.mutil>75?8:this.mutil>25?20:75},getProfit(t,e,o=!1,a=!1){var l=this.currency[0].currency.findIndex((e=>e.id==t));if(a){if(0===(r=parseFloat(this.pprice)>0?parseFloat(this.pprice):0))return"0.00"}else var r=parseFloat(this.currency[0].currency[l].new_price);if(0==o)var s=parseFloat(this.position.position[e].amount)-parseFloat(this.position.position[e].close);else s=o;var c=parseFloat(this.position.position[e].price);if(1==parseInt(this.position.position[e].direction))var n=this.$util.thousandSeparator(s*(r-c),4);else n=this.$util.thousandSeparator(s*(c-r),4);return n>0?"+"+n:n},getProfitRate(t,e,o,a,l){var r=this.currency[0].currency.findIndex((e=>e.id==t)),s=parseFloat(this.currency[0].currency[r].new_price);if(1==e)var c=o*(s-a)/l*100;else c=o*(a-s)/l*100;return c>0?"+"+this.$util.thousandSeparator(c,2):this.$util.thousandSeparator(c)},getMarginRate(t,e,o,a,l){if(!this.currency[0])return!1;var r=this.currency[0].currency.findIndex((e=>e.id==t)),s=parseFloat(this.currency[0].currency[r].new_price);if(1==e)var c=this.$util.thousandSeparator(o*(s-a),4);else c=this.$util.thousandSeparator(o*(a-s),4);return this.$util.thousandSeparator((parseFloat(l)+parseFloat(c))/parseFloat(l)*100,2)},getNewPrice(t,e){let o=0;return Object.keys(this.currency).forEach((a=>{this.currency[a].id===e&&Object.keys(this.currency[a].currency).forEach((e=>{this.currency[a].currency[e].id===t&&(o=this.currency[a].currency[e].new_price)}))})),o},setMutil(){this.$refs.showMuitl.close(),i("mutil",this.tmutil),this.mutil=this.tmutil},setMargin(){this.$refs.showPosition.close(),this.margin_type=this.tmargin,i("margin_type",this.tmargin)},inputPprice(t){this.pprice=t.detail.value},inputPamount(t){this.pamount=t.detail.value},sliderPamount(t){var e=parseFloat(this.position.position[this.pindex].amount)-parseFloat(this.position.position[this.pindex].close);console.log(e),this.pamount=this.$util.float(parseFloat(t.detail.value/100*e).toFixed(8)),this.popSliderValue=t.detail.value},getPositionCurrencyAmount(t,e){if(0==this.position.position.length)return"0.00";const o=this.position.position.filter((o=>o.currency_id==t&&o.direction==e));return this.$util.float(parseFloat(parseFloat(o[0].amount)-parseFloat(o[0].close)).toFixed(8))},stopLight(t){this.pamount=this.getPositionCurrencyAmount(this.position.position[this.pindex].currency_id,this.position.position[this.pindex].direction),this.ptype=!1,this.stopPosition(t,!0)},stopPosition(t=0,e=!1){if(""===this.pamount||parseFloat(this.pamount)<=0)return!1;if(!1!==this.ptype&&(""===this.pprice||parseFloat(this.pprice)<=0))return!1;let o={id:t,pamount:this.$util.str2number(this.pamount),ptype:this.ptype,price:this.ticker.c,wprice:void 0!==this.wprice?this.wprice:0};!1===this.ptype&&(o.ptype=1),!0===this.ptype&&(o.ptype=2,o.price=this.pprice),this.$refs.loading.open(),at.closeOrder(o).then((o=>{this.$refs.actionOrder.close(),this.$refs.loading.close(),200!==o.code&&(this.content=this.$t("trade.unknown_error"),this.$refs.alert.open()),this.position.position=e?this.position.position.filter((e=>parseInt(e.id)!==parseInt(t))):this.position.position.map((e=>(e.id===t&&(e.close=parseFloat(e.close)+parseFloat(this.pamount)),e))),this.getBalance(),this.position.position.length>0?this.getStopPrice():a("no_position"),this.pindex=0,this.$refs.speedAction.close(),this.$refs.actionOrder.close(),this.ptype=!1,this.pamount=""})).catch((t=>{this.$refs.actionOrder.close(),this.$refs.loading.close(),this.content=this.$t("trade.unknown_error"),this.$refs.alert.open()}))},stopOrderByButton(t){if(0==this.position.position.length)return this.content=this.$t("contract.t101"),this.$refs.alert.open(),!1;if(this.rate<=0)return this.content=this.$t("contract.t102"),this.$refs.alert.open(),!1;var e=this.position.position.filter((e=>e.currency_id==this.currentCurrency.id&&e.direction==t));if(0==e.length)return this.content=this.$t("contract.t101"),this.$refs.alert.open(),!1;if(this.order_type>=1&&(""==this.order_price||parseFloat(this.order_price)<=0))return this.content=this.$t("contract.t103"),this.$refs.alert.open(),!1;if(2==this.order_type&&(""==this.wprice||parseFloat(this.wprice)<=0))return this.content=this.$t("contract.t104"),this.$refs.alert.open(),!1;var o=parseFloat(this.getPositionAmount(e[0].currency_id,t)*this.rate/100).toFixed(8),a={id:e[0].id,pamount:o,ptype:this.order_type,price:this.ticker.c,wprice:void 0!==this.wprice?this.wprice:0};0==this.order_type&&(a.ptype=1),1==this.order_type&&(a.ptype=2,a.price=this.order_price),2==this.order_type&&(a.ptype=3,a.price=this.order_price,a.wprice=this.t_price),console.log(a),this.$refs.loading.open(),at.closeOrder(a).then((t=>{this.$refs.actionOrder.close(),this.$refs.loading.close(),200!=t.code&&(this.content="未知异常，请稍后重试",this.$refs.alert.open()),this.getPosition(),this.rate=0})).catch((t=>{this.$refs.actionOrder.close(),this.$refs.loading.close(),this.content="未知异常，请稍后重试",this.$refs.alert.open()}))},stopAll(){if(0==this.position.position.length)return!1;this.$refs.loading.open(),at.closeOrder({id:0,pamount:0,ptype:1,price:0,wprice:0}).then((t=>{this.$refs.actionOrder.close(),this.$refs.loading.close(),200!=t.code&&(this.content="未知异常，请稍后重试",this.$refs.alert.open()),this.position.position=[],this.rate=0,this.getBalance()})).catch((t=>{this.$refs.actionOrder.close(),this.$refs.loading.close(),this.content="未知异常，请稍后重试",this.$refs.alert.open()}))},cancelOperation(t){wt=t,bt=-1,this.content="请确认撤销当前委托单",this.$refs.alert.open(),console.log(t)},alertConfirm(){this.$refs.alert.close(),-1===bt&&(bt=0,this.$refs.loading.open(),at.cancelOpeartion(wt).then((t=>{if(this.$refs.loading.close(),200!=t.code)return this.content=t.message,this.$refs.alert.open(),!0;this.getPosition()})).catch((t=>{this.$refs.loading.close()})))},getPositionAmount(t,e){if(0==this.position.position.length)return"0.00";const o=this.position.position.filter((o=>o.currency_id==t&&o.direction==e));return o.length>0?0==this.amountType?this.$util.float(parseFloat(parseFloat(o[0].amount)-parseFloat(o[0].close)).toFixed(8)):parseFloat(parseFloat(o[0].uamount)*parseFloat(parseFloat(o[0].amount)-parseFloat(o[0].close))).toFixed(4):"0.00"},Kcreate(){ht=lt(document.getElementById("kline"),{width:window.screen.availWidth,height:245,layout:{background:{color:"#fff"},textColor:"#333"},grid:{vertLines:{color:"#ddd"},horzLines:{color:"#ddd"}},priceScale:{borderColor:"rgba(242, 250, 255, 0.8)"},timeScale:{borderColor:"rgba(242, 250, 255, 0.8)"}}),mt=ht.addAreaSeries({topColor:"#00ddfa",bottomColor:"rgba(41, 98, 255, 0.1)",lineColor:"#2979ff",lineWidth:1,lastPriceAnimation:1}),(_t=ht.addAreaSeries({lastValueVisible:!1,crosshairMarkerVisible:!1,lineColor:"transparent",topColor:"rgba(102, 57, 220, 0.6)",bottomColor:"rgba(102, 57, 220, 0.1)"})).priceScale().applyOptions({scaleMargins:{top:.1,bottom:.2,right:.2,left:.2}}),this.loadKline(),window.addEventListener("resize",(()=>{ht.resize(window.innerWidth,this.$device.screenWidth)}))},loadKline(){var t={interval:"1s",currency_id:this.currentCurrency.id,limit:200};ot.contractLine(t).then((t=>{if(200===t.code){_t.setData(t.data),mt.setData(t.data),ht.timeScale().applyOptions({barSpacing:7,borderColor:"#71649C",timeVisible:!0,secondsVisible:!0,scrollToRealTime:!0,tickMarkFormatter:(t,e,o)=>{var a=new Date(t);return`${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}:${String(a.getSeconds()).padStart(2,"0")}`}}),ht.timeScale().scrollToRealTime();const e=ht.timeScale().scrollPosition();ht.timeScale().scrollToPosition(e+15,!1),ht.applyOptions({localization:{priceFormatter:this.PriceFormatter,timeFormatter:t=>{var e=new Date(t);return`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`}},watermark:{visible:!0,fontSize:24,horzAlign:"center",vertAlign:"center",color:"rgba(171, 71, 188, 0.5)",text:"ComeBit"}})}}))},PriceFormatter(t){return parseFloat(t).toFixed(this.currentCurrency.decimals)},updatePrice(t,e){var o=(new Date).getTime();_t.update({time:o,value:parseFloat(e)}),mt.update({time:o,value:parseFloat(e)}),ht.timeScale().scrollToRealTime();const a=ht.timeScale().scrollPosition();ht.timeScale().scrollToPosition(a,!1)},toKline(){u({url:"/pages/trade/kline?type="+dt+"&id="+this.currentCurrency.id+"&cid="+it})},getAvliAmount(t=1){if(void 0===this.balance.legal_balance||this.balance.legal_balance<=0)return"--";let e=0;2!==this.margin_type&&2!==this.margin_type&&this.position.position.map((t=>{if(1===t.margin_type){let o=parseFloat(t.amount)-parseFloat(t.close),a=parseFloat(t.price)*o;e+=a/parseInt(t.muilt)}}));let o=parseFloat(this.balance.legal_balance),a=this.getDirectionAmount(t),l=0;if(l=0===this.order_type?o/this.ticker.c*this.mutil:o/(""!=this.order_price?this.$util.str2number(this.order_price):this.ticker.c)*this.mutil,l=parseFloat(.9*l).toFixed(this.currentCurrency.decimals),0===this.amountType)return l-a>0?parseFloat(l-a).toFixed(this.currentCurrency.decimals):0;{let t=o*(1-(parseFloat(this.currentCurrency.fee_open)+parseFloat(this.currentCurrency.fee_close)));return t>this.currentCurrency.max_amount?this.currentCurrency.max_amount:t}},getCurrencyAmount(){let t=0;return this.position.position.map((e=>{e.currency_id===ut&&e.cm_id===it&&(t+=parseFloat(e.amount)-parseFloat(e.close))})),t},getDirectionAmount(t){var e=this.position.position.filter((e=>e.direction===t));if(e.length>0)for(var o=0;o<e.length;o++)parseFloat(e[o].amount)-parseFloat(e[o].close);return 0},calacStopPrice(t){if(t<=0)return!1;const e=this.position.position[t];if(0===this.mtabIndex)var o=parseFloat(e.margin)+(parseFloat(this.numVal)>0?parseFloat(this.numVal):0);else o=parseFloat(e.margin)-(parseFloat(this.numVal)>0?parseFloat(this.numVal):0);var a=(o-1e-4*e.uamount)/(e.amount-e.close);return 1===e.direction?parseFloat(e.price)-a:parseFloat(e.price)+a},setFav(){this.like?(this.like=!1,this.remFav(2,this.currentCurrency.id)):(this.like=!0,this.addFav(2,this.currentCurrency))},sharePoster(){d({title:this.$t("download.app"),icon:"none"})}}},[["render",function(t,e,o,a,l,r){const s=z,c=P,n=_,i=B(p("fui-nav-bar"),O),u=B(p("fui-dropdown-menu"),L),d=A,Y=D,tt=B(p("fui-icon"),R),et=V,ot=B(p("fui-tag"),H),at=f("empty-view"),lt=U,nt=j,it=M,ut=B(p("uni-popup"),K),dt=B(p("fui-collapse-item"),W),pt=B(p("fui-collapse"),q),ft=B(p("fui-input-number"),N),ht=B(p("uni-popup-dialog"),X),mt=B(p("fui-button"),E),_t=B(p("fui-bottom-popup"),Z),gt=B(p("uni-drawer"),J),yt=B(p("alert"),G),bt=B(p("loading"),Q);return g(),h(n,{class:"contract","data-theme":t.userTheme},{default:m((()=>[y(i,{statusBar:"",isFixed:"",isOccupy:"",zIndex:"9",padding:"0",custom:"",background:"var(--background-primary)",onInit:t.navInit},{default:m((()=>[y(n,{class:"nav-bar"},{default:m((()=>[y(n,{class:"nav-bar-left",onClick:e[0]||(e[0]=e=>t.$refs.showSelect.open())},{default:m((()=>[y(n,{class:"flex flex-row align-center"},{default:m((()=>[y(s,{class:"font-16 color-black font-bold"},{default:m((()=>[b(w(t.currentCurrency.symbol)+"/USDT ",1)])),_:1}),y(c,{class:"change-icon",src:`/static/img/tactic/down-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"])])),_:1}),y(n,{class:"flex flex-row align-center"},{default:m((()=>[y(s,{class:"font-11 color-gray mr-5"},{default:m((()=>[b(w(t.$t("contract.p1")),1)])),_:1}),y(s,{class:k(["font-11 color-black",t.ticker.P>0?"price_up":"price_down"])},{default:m((()=>[b(w(t.$util.thousandSeparator(t.ticker.P,2))+"% ",1)])),_:1},8,["class"])])),_:1})])),_:1}),y(n,{class:"nav-bar-right"},{default:m((()=>[y(n,{class:"nav-bar-right-image",onClick:t.setFav},{default:m((()=>[t.like?(g(),h(c,{key:1,src:rt,mode:"widthFix"})):(g(),h(c,{key:0,src:`/static/newImage/collect-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"]))])),_:1},8,["onClick"]),y(n,{class:"nav-bar-right-image",onClick:t.toKline},{default:m((()=>[y(c,{src:`/static/newImage/zd-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"])])),_:1},8,["onClick"]),y(n,{class:"nav-bar-right-image",onClick:e[1]||(e[1]=e=>t.showMenu=!t.showMenu)},{default:m((()=>[y(c,{src:`/static/newImage/more-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"])])),_:1})])),_:1}),y(n,{class:k(["nav-bar-menu",t.showMenu?"menu-show":""]),style:$({top:t.navHeight+5+"px"})},{default:m((()=>[y(n,{class:"nav-bar-menu-item",onClick:e[2]||(e[2]=e=>{t.$mroute.exchange(),t.showMenu=!1})},{default:m((()=>[y(s,{class:"font-13 color-dark"},{default:m((()=>[b(w(t.$t("contruct.fund_tran")),1)])),_:1})])),_:1}),y(n,{class:"nav-bar-menu-item",onClick:e[3]||(e[3]=e=>{t.$mroute.contractOrder(1),t.showMenu=!1})},{default:m((()=>[y(s,{class:"font-13 color-dark"},{default:m((()=>[b(w(t.$t("wallet.capital_flow")),1)])),_:1})])),_:1}),y(n,{class:"nav-bar-menu-item",onClick:e[4]||(e[4]=e=>{t.$mroute.contractInfo(1),t.showMenu=!1})},{default:m((()=>[y(s,{class:"font-13 color-dark"},{default:m((()=>[b(w(t.$t("contruct.con_info")),1)])),_:1})])),_:1})])),_:1},8,["class","style"])])),_:1})])),_:1},8,["onInit"]),y(n,{class:"contract-body"},{default:m((()=>[t.IsShow?(g(),h(n,{key:0,class:"contract-body-kline"},{default:m((()=>[x("div",null,[x("div",{class:"kline",style:$({width:t.$device.windowWidth+"px",height:"250px"}),id:"kline",ref:"kline"},null,4)]),y(n,{class:"line-view"})])),_:1})):v("",!0),y(n,{class:"contract-body-top"},{default:m((()=>[y(n,{class:"contract-body-top-left"},{default:m((()=>[y(n,{class:"contract-body-top-left-cell"},{default:m((()=>[y(n,{class:"tag-box",onClick:e[5]||(e[5]=e=>t.$refs.showPosition.open())},{default:m((()=>[y(s,{class:"font-11 color-black"},{default:m((()=>[b(w(1==t.margin_type?this.$t("contract.pall"):2==t.margin_type?this.$t("contruct.wbw"):this.$t("contract.fall")),1)])),_:1}),y(c,{src:`/static/img/tactic/down-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"])])),_:1}),y(n,{class:"tag-box",onClick:e[6]||(e[6]=e=>t.$refs.showMuitl.open())},{default:m((()=>[y(s,{class:"font-11 color-black"},{default:m((()=>[b(w(t.mutil)+"X ",1)])),_:1}),y(c,{src:`/static/img/tactic/down-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"])])),_:1})])),_:1}),y(n,{class:"contract-body-top-left-cell flex align-center justify-between mt-10"},{default:m((()=>[y(s,{class:"font-11 color-gray"},{default:m((()=>[b(w(t.$t("contruct.available")),1)])),_:1}),y(n,{class:"flex align-center"},{default:m((()=>[1===t.direction?(g(),h(s,{key:0,class:"font-11 color-black font-weight"},{default:m((()=>[b(w(t.$util.thousandSeparator(t.balance.legal_balance,2))+" USDT ",1)])),_:1})):v("",!0),2===t.direction?(g(),h(s,{key:1,class:"font-11 color-black font-weight"},{default:m((()=>[b(w(t.$util.float(t.getCurrencyAmount()))+" "+w(t.currentCurrency.symbol),1)])),_:1})):v("",!0),y(c,{class:"change-icon",onClick:e[7]||(e[7]=e=>t.$mroute.exchange()),src:st,mode:"widthFix"})])),_:1})])),_:1}),y(n,{class:"contract-body-top-left-cell mt-10"},{default:m((()=>[y(u,{background:"var(--background-secondary)",minWidth:415,size:24,isCheckbox:!1,radius:8,padding:"12rpx",color:"var(--content-primary)",selectedColor:"var(--color-primary)",options:t.actions,ref:"ddmRange",onClick:t.selectType},{default:m((()=>[y(n,{class:"down-box bg-gray",onClick:e[8]||(e[8]=e=>t.filterTap(0))},{default:m((()=>[y(s,{class:"font-12 color-black"},{default:m((()=>[b(w(t.actions[t.order_type]),1)])),_:1}),y(c,{src:`/static/img/tactic/down-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"])])),_:1})])),_:1},8,["options","onClick"])])),_:1}),C(y(n,{class:"contract-body-top-left-cell mt-10"},{default:m((()=>[y(n,{class:"input-box bg-gray"},{default:m((()=>[y(d,{type:"number",class:"font-12 color-black",modelValue:t.t_price,"onUpdate:modelValue":e[9]||(e[9]=e=>t.t_price=e),placeholder:this.$t("contruct.trigger_price"),"placeholder-class":"placeholder"},null,8,["modelValue","placeholder"]),y(s,{class:"font-12 color-black"},{default:m((()=>[b("USDT")])),_:1})])),_:1})])),_:1},512),[[S,2===t.order_type]]),C(y(n,{class:"contract-body-top-left-cell mt-10"},{default:m((()=>[y(n,{class:"input-box bg-gray"},{default:m((()=>[y(d,{type:"number",class:"font-12 color-black",modelValue:t.order_price,"onUpdate:modelValue":e[10]||(e[10]=e=>t.order_price=e),placeholder:1==t.order_price?this.$t("contruct.price"):this.$t("contruct.com_pr"),"placeholder-class":"placeholder"},null,8,["modelValue","placeholder"]),y(s,{class:"font-12 color-black"},{default:m((()=>[b("USDT")])),_:1})])),_:1})])),_:1},512),[[S,t.order_type>=1]]),y(n,{class:"contract-body-top-left-cell mt-10"},{default:m((()=>[y(n,{class:"number-group"},{default:m((()=>[y(n,{class:"number-group-top"},{default:m((()=>[y(n,{class:"number-group-top-item",onClick:e[11]||(e[11]=e=>t.amountType=0)},{default:m((()=>[y(s,{class:k(["font-11",0===t.amountType?"color-black":"color-gray"])},{default:m((()=>[b(w(t.currentCurrency.symbol?t.currentCurrency.symbol:"--"),1)])),_:1},8,["class"])])),_:1}),y(n,{class:"number-group-top-item",onClick:e[12]||(e[12]=e=>t.amountType=1)},{default:m((()=>[y(s,{class:k(["font-11",1===t.amountType?"color-black":"color-gray"])},{default:m((()=>[b(" USDT ")])),_:1},8,["class"])])),_:1})])),_:1}),y(n,{class:"number-group-bottom"},{default:m((()=>[y(n,{class:"input-box bg-gray"},{default:m((()=>[0==t.amountType?(g(),F(T,{key:0},[1==t.direction?(g(),h(n,{key:0},{default:m((()=>[y(d,{modelValue:t.amount,"onUpdate:modelValue":e[13]||(e[13]=e=>t.amount=e),type:"number",placeholder:this.$t("contruct.quantity"),class:"font-12 color-black","placeholder-class":"placeholder"},null,8,["modelValue","placeholder"])])),_:1})):(g(),h(n,{key:1},{default:m((()=>[y(d,{type:"text",value:t.rate+"%",disabled:!0,class:"font-12 color-black","placeholder-class":"placeholder"},null,8,["value"])])),_:1})),y(s,{class:"font-12 color-black"},{default:m((()=>[b(w(t.currentCurrency.symbol),1)])),_:1})],64)):(g(),F(T,{key:1},[1==t.direction?(g(),h(n,{key:0},{default:m((()=>[y(d,{onInput:t.inputAmount,modelValue:t.inputAm,"onUpdate:modelValue":e[14]||(e[14]=e=>t.inputAm=e),type:"number",placeholder:this.$t("contruct.quantity"),class:"font-12 color-black","placeholder-class":"placeholder"},null,8,["onInput","modelValue","placeholder"])])),_:1})):(g(),h(n,{key:1},{default:m((()=>[y(d,{type:"text",value:t.rate+"%",disabled:!0,class:"font-12 color-black","placeholder-class":"placeholder"},null,8,["value"])])),_:1})),y(s,{class:"font-12 color-black"},{default:m((()=>[b("USDT")])),_:1})],64))])),_:1})])),_:1})])),_:1})])),_:1}),y(n,{class:"contract-body-top-left-cell mt-10"},{default:m((()=>[y(n,{class:"slider-box"},{default:m((()=>[y(n,{class:"slider-box-top"},{default:m((()=>[y(Y,{class:"slider","block-color":"var(--color-blue-bg)",backgroundColor:"var(--color-arcode-input-bg)",activeColor:"var(--color-blue-bg)","block-size":"20",step:"1",onChanging:t.sliderChange},null,8,["onChanging"]),y(n,{class:"slider-points"},{default:m((()=>[(g(),F(T,null,I([0,25,50,75,100],(e=>y(s,{class:k(["points",t.rateValue>=e?"active":""])},null,8,["class"]))),64))])),_:1})])),_:1}),y(n,{class:"slider-box-bottom"},{default:m((()=>[(g(),F(T,null,I([0,25,50,75,100],(e=>y(s,{class:k(["font-10 font-weight",t.rateValue>=e?"color-black":"color-gray"])},{default:m((()=>[b(w(e+"%"),1)])),_:2},1032,["class"]))),64))])),_:1})])),_:1})])),_:1}),y(n,{class:"contract-body-top-left-cell mt-10"},{default:m((()=>[y(n,{class:"check-box"},{default:m((()=>[y(n,{class:"flex align-center",onClick:e[15]||(e[15]=e=>t.stopProfit=!t.stopProfit)},{default:m((()=>[y(n,{class:"checkbox"},{default:m((()=>[t.stopProfit?(g(),h(c,{key:0,src:ct,mode:"widthFix"})):v("",!0)])),_:1}),y(s,{class:"font-12 color-black"},{default:m((()=>[b(w(t.$t("contruct.tp_sl")),1)])),_:1})])),_:1}),y(tt,{name:"help-fill",size:28,color:"var(--content-tertiary)",onClick:e[16]||(e[16]=e=>t.$refs.showPFti.open())})])),_:1}),t.stopProfit?(g(),h(n,{key:0,class:"input-group"},{default:m((()=>[y(n,{class:"input-group-item"},{default:m((()=>[y(d,{modelValue:t.price_up,"onUpdate:modelValue":e[17]||(e[17]=e=>t.price_up=e),type:"text",class:"font-12 color-black","placeholder-class":"placeholder",placeholder:this.$t("contruct.t_price")},null,8,["modelValue","placeholder"])])),_:1}),y(n,{class:"input-group-item"},{default:m((()=>[y(d,{modelValue:t.price_up,"onUpdate:modelValue":e[18]||(e[18]=e=>t.price_up=e),type:"text",class:"font-12 color-black","placeholder-class":"placeholder",placeholder:this.$t("contruct.t_price")},null,8,["modelValue","placeholder"])])),_:1})])),_:1})):v("",!0)])),_:1}),t.isLogin?(g(),h(n,{key:0},{default:m((()=>[y(n,{class:"contract-body-top-left-cell flex align-center justify-between mt-10"},{default:m((()=>[y(n,{class:"flex align-center"},{default:m((()=>[1===t.direction?(g(),h(s,{key:0,class:"font-11 color-gray mr-5"},{default:m((()=>[b(w(t.$t("contruct.open_long")),1)])),_:1})):v("",!0),2===t.direction?(g(),h(s,{key:1,class:"font-11 color-gray mr-5"},{default:m((()=>[b(w(t.$t("contruct.kepingduo")),1)])),_:1})):v("",!0),y(tt,{name:"help-fill",size:28,color:"var(--content-tertiary)",onClick:e[19]||(e[19]=e=>t.openSupport(0))})])),_:1}),1===t.direction?(g(),h(n,{key:0},{default:m((()=>[0===t.amountType?(g(),h(s,{key:0,class:"font-11 font-weight color-black"},{default:m((()=>[b(w(t.getAvliAmount(2))+" "+w(t.currentCurrency.symbol),1)])),_:1})):(g(),h(s,{key:1,class:"font-11 font-weight color-black"},{default:m((()=>[b(w(t.$util.thousandSeparator(t.balance.legal_balance,2))+" USDT ",1)])),_:1}))])),_:1})):v("",!0),2===t.direction?(g(),h(n,{key:1},{default:m((()=>[0===t.amountType?(g(),h(s,{key:0,class:"font-11 font-weight color-black"},{default:m((()=>[b(w(t.getPositionAmount(t.currentCurrency.id?t.currentCurrency.id:0,1))+" "+w(t.currentCurrency.symbol),1)])),_:1})):(g(),h(s,{key:1,class:"font-11 font-weight color-black"},{default:m((()=>[b(w(t.getPositionAmount(t.currentCurrency.id?t.currentCurrency.id:0,1))+" USDT ",1)])),_:1}))])),_:1})):v("",!0)])),_:1}),1===t.direction?(g(),h(n,{key:0,class:"contract-body-top-left-cell flex align-center justify-between mt-10"},{default:m((()=>[y(n,null,{default:m((()=>[y(s,{class:"font-11 color-gray"},{default:m((()=>[b(w(t.$t("contruct.margin")),1)])),_:1})])),_:1}),y(n,{class:"flex align-center"},{default:m((()=>[0==t.order_type?(g(),h(s,{key:0,class:"font-11 font-weight color-black"},{default:m((()=>[b(w(t.amount>0?t.$util.thousandSeparator(0===t.amountType?t.amount/t.mutil*t.ticker.c:t.inputAm,2):"0.00")+" USDT ",1)])),_:1})):v("",!0),1==t.order_type?(g(),h(s,{key:1,class:"font-11 font-weight color-black"},{default:m((()=>[b(w(t.amount>0?t.$util.thousandSeparator(0===t.amountType?t.amount/t.mutil*t.$util.str2number(t.order_price):t.inputAm,2):"0.00")+" USDT ",1)])),_:1})):v("",!0),2==t.order_type?(g(),h(s,{key:2,class:"font-11 font-weight color-black"},{default:m((()=>[b(w(t.amount>0?t.$util.thousandSeparator(0===t.amountType?t.amount/t.mutil*t.$util.str2number(t.order_price):t.inputAm,2):"0.00")+" USDT ",1)])),_:1})):v("",!0)])),_:1})])),_:1})):v("",!0),1===t.direction?(g(),h(n,{key:1,class:"contract-body-top-left-cell mt-10"},{default:m((()=>[y(et,{"hover-class":"none",onClick:e[20]||(e[20]=e=>t.submit(1)),class:"button-box bg-green"},{default:m((()=>[y(s,{class:"always-white font-13"},{default:m((()=>[b(w(t.$t("contruct.open_bullish")),1)])),_:1})])),_:1})])),_:1})):v("",!0),2===t.direction?(g(),h(n,{key:2,class:"contract-body-top-left-cell mt-10"},{default:m((()=>[y(et,{"hover-class":"none",onClick:e[21]||(e[21]=e=>t.stopOrderByButton(1)),class:"button-box bg-green"},{default:m((()=>[y(s,{class:"always-white font-13"},{default:m((()=>[b(w(t.$t("contruct.pindo")),1)])),_:1})])),_:1})])),_:1})):v("",!0),y(n,{class:"contract-body-top-left-cell flex align-center justify-between mt-10"},{default:m((()=>[y(n,{class:"flex align-center"},{default:m((()=>[y(s,{class:"font-11 color-gray mr-5"},{default:m((()=>[b(w(t.$t("contruct.open_null")),1)])),_:1}),y(tt,{name:"help-fill",size:28,color:"var(--content-tertiary)",onClick:e[22]||(e[22]=e=>t.openSupport(1))})])),_:1}),1===t.direction?(g(),h(n,{key:0},{default:m((()=>[0===t.amountType?(g(),h(s,{key:0,class:"font-11 font-weight color-black"},{default:m((()=>[b(w(t.getAvliAmount(2))+" "+w(t.currentCurrency.symbol),1)])),_:1})):v("",!0),1===t.amountType?(g(),h(s,{key:1,class:"font-11 font-weight color-black"},{default:m((()=>[b(w(t.$util.thousandSeparator(t.balance.legal_balance,2))+" USDT ",1)])),_:1})):v("",!0)])),_:1})):v("",!0),2===t.direction?(g(),h(n,{key:1},{default:m((()=>[0===t.amountType?(g(),h(s,{key:0,class:"font-11 font-weight color-black"},{default:m((()=>[b(w(t.getPositionAmount(t.currentCurrency.id?t.currentCurrency.id:0,2))+" "+w(t.currentCurrency.symbol),1)])),_:1})):(g(),h(s,{key:1,class:"font-11 font-weight color-black"},{default:m((()=>[b(w(t.getPositionAmount(t.currentCurrency.id?t.currentCurrency.id:0,2))+" USDT ",1)])),_:1}))])),_:1})):v("",!0)])),_:1}),1===t.direction?(g(),h(n,{key:3,class:"contract-body-top-left-cell flex align-center justify-between mt-10"},{default:m((()=>[y(n,null,{default:m((()=>[y(s,{class:"font-11 color-gray"},{default:m((()=>[b(w(t.$t("contruct.margin")),1)])),_:1})])),_:1}),y(n,null,{default:m((()=>[0==t.order_type?(g(),h(s,{key:0,class:"font-11 font-weight color-black"},{default:m((()=>[b(w(t.amount>0?t.$util.thousandSeparator(0===t.amountType?t.amount/t.mutil*t.ticker.c:t.inputAm,2):"0.00")+" USDT ",1)])),_:1})):v("",!0),1==t.order_type?(g(),h(s,{key:1,class:"font-11 font-weight color-black"},{default:m((()=>[b(w(t.amount>0?t.$util.thousandSeparator(0===t.amountType?t.amount/t.mutil*t.$util.str2number(t.order_price):t.inputAm,2):"0.00")+" USDT ",1)])),_:1})):v("",!0),2==t.order_type?(g(),h(s,{key:2,class:"font-11 font-weight color-black"},{default:m((()=>[b(w(t.amount>0?t.$util.thousandSeparator(0===t.amountType?t.amount/t.mutil*t.$util.str2number(t.order_price):t.inputAm,2):"0.00")+" USDT ",1)])),_:1})):v("",!0)])),_:1})])),_:1})):v("",!0),y(n,{class:"contract-body-top-left-cell mt-10"},{default:m((()=>[1===t.direction?(g(),h(n,{key:0},{default:m((()=>[y(et,{"hover-class":"none",onClick:e[23]||(e[23]=e=>t.submit(2)),class:"button-box bg-red"},{default:m((()=>[y(s,{class:"always-white font-13"},{default:m((()=>[b(w(t.$t("contruct.open_bear")),1)])),_:1})])),_:1})])),_:1})):v("",!0),2===t.direction?(g(),h(n,{key:1},{default:m((()=>[y(et,{"hover-class":"none",onClick:e[24]||(e[24]=e=>t.stopOrderByButton(2)),class:"button-box bg-red"},{default:m((()=>[y(s,{class:"always-white font-13"},{default:m((()=>[b(w(t.$t("contruct.empty")),1)])),_:1})])),_:1})])),_:1})):v("",!0)])),_:1})])),_:1})):(g(),h(n,{key:1,class:"contract-body-top-left-cell mt-10"},{default:m((()=>[y(et,{class:"button-box bg-black button-active","hover-class":"none",onClick:e[25]||(e[25]=e=>t.$mroute.login())},{default:m((()=>[y(s,{class:"font-13 color-white"},{default:m((()=>[b(w(t.$t("contruct.lg")),1)])),_:1})])),_:1})])),_:1}))])),_:1}),y(n,{class:"contract-body-top-right"},{default:m((()=>[0===t.matches.currency_type?(g(),h(n,{key:0,class:"rate-box"},{default:m((()=>[y(n,{class:"flex align-center"},{default:m((()=>[y(tt,{name:"help-fill",size:28,color:"var(--content-tertiary)",onClick:e[26]||(e[26]=e=>t.$refs.showZjfl.open())}),y(s,{class:"font-10 color-gray ml-5"},{default:m((()=>[b(w(t.$t("contruct.funding_rate"))+"/"+w(t.$t("contruct.set_time")),1)])),_:1})])),_:1}),y(s,{class:"font-11 font-weight color-black"},{default:m((()=>[b(w(t.$util.float(100*t.market.r))+"% / "+w(t.time),1)])),_:1})])),_:1})):v("",!0),y(n,{class:"data-desc mt-10"},{default:m((()=>[y(n,{class:"data-desc-item"},{default:m((()=>[y(s,{class:"font-10 color-gray"},{default:m((()=>[b(w(t.$t("contruct.price")),1)])),_:1}),y(s,{class:"font-10 color-gray"},{default:m((()=>[b("(USDT)")])),_:1})])),_:1}),y(n,{class:"data-desc-item"},{default:m((()=>[y(s,{class:"font-10 color-gray"},{default:m((()=>[b(w(t.$t("contruct.quantity")),1)])),_:1}),y(s,{class:"font-10 color-gray"},{default:m((()=>[b(" ("+w(t.currentCurrency.symbol)+") ",1)])),_:1})])),_:1})])),_:1}),y(n,{class:"data-list"},{default:m((()=>[(g(!0),F(T,null,I(t.bids,((e,o)=>(g(),h(n,{class:"data-list-item",key:"b"+o},{default:m((()=>[y(n,{class:"bg-box bg-green",style:$({width:100*e[1]+"%"})},null,8,["style"]),y(s,{class:"font-10 font-weight price_up"},{default:m((()=>[b(w(t.$util.thousandSeparator(e[0],t.currentCurrency.decimals)),1)])),_:2},1024),y(s,{class:"font-10 font-weight color-black"},{default:m((()=>[b(w(t.$util.thousandSeparator(e[1],2)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),y(n,{class:"data-center"},{default:m((()=>[y(s,{class:"font-14 font-weight price_up"},{default:m((()=>[b(w(t.$util.thousandSeparator(t.currentCurrency.new_price,t.currentCurrency.decimals)),1)])),_:1}),y(n,{class:"flex align-center"},{default:m((()=>[y(s,{class:"font-10 font-weight color-gray"},{default:m((()=>[b(w(t.$t("contruct.mark_price")),1)])),_:1}),y(s,{class:"font-10 color-black pl-5"},{default:m((()=>[b(w(t.$util.thousandSeparator(t.market.p,t.currentCurrency.decimals)),1)])),_:1})])),_:1})])),_:1}),y(n,{class:"data-list"},{default:m((()=>[(g(!0),F(T,null,I(t.asks,((e,o)=>(g(),h(n,{class:"data-list-item",key:"a"+o},{default:m((()=>[y(n,{class:"bg-box bg-red",style:$({width:100*e[1]+"%"})},null,8,["style"]),y(s,{class:"font-10 font-weight price_down"},{default:m((()=>[b(w(t.$util.thousandSeparator(e[0],t.currentCurrency.decimals)),1)])),_:2},1024),y(s,{class:"font-10 font-weight color-black"},{default:m((()=>[b(w(t.$util.thousandSeparator(e[1],2)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),y(n,{class:"line-view"}),y(n,{class:"contract-body-bottom"},{default:m((()=>[y(n,{class:"contract-body-bottom-tab"},{default:m((()=>[y(n,{class:"contract-body-bottom-tab-left"},{default:m((()=>[y(n,{class:"contract-body-bottom-tab-left-item",onClick:e[27]||(e[27]=e=>t.listTabIndex=0)},{default:m((()=>[y(s,{class:k(["font-14 font-weight",0==t.listTabIndex?"color-black":"color-gray"])},{default:m((()=>[b(w(t.$t("contruct.cur_pos"))+"("+w(t.position.position?t.position.position.length:"0")+") ",1)])),_:1},8,["class"])])),_:1}),y(n,{class:"contract-body-bottom-tab-left-item",onClick:e[28]||(e[28]=e=>t.listTabIndex=1)},{default:m((()=>[y(s,{class:k(["font-14 font-weight",1==t.listTabIndex?"color-black":"color-gray"])},{default:m((()=>[b(w(t.$t("contruct.cur_od"))+"("+w(t.position.entrust?t.position.entrust.length:"0")+") ",1)])),_:1},8,["class"])])),_:1}),y(n,{class:"contract-body-bottom-tab-left-item",onClick:e[29]||(e[29]=e=>t.listTabIndex=2)},{default:m((()=>[y(s,{class:k(["font-14 font-weight",2==t.listTabIndex?"color-black":"color-gray"])},{default:m((()=>[b(w(t.$t("contruct.plan_com"))+"("+w(t.position.entrustP?t.position.entrustP.length:"0")+") ",1)])),_:1},8,["class"])])),_:1})])),_:1}),y(c,{class:"order-icon",src:`/static/img/tactic/order-${t.userTheme}.png`,mode:"widthFix",onClick:e[30]||(e[30]=e=>t.$mroute.newOrders())},null,8,["src"])])),_:1}),y(it,{class:"bottom-swiper",current:t.listTabIndex,style:$(`height: ${t.swiperHeight}px`),onChange:e[41]||(e[41]=e=>t.listTabIndex=e.detail.current)},{default:m((()=>[y(nt,{class:"bottom-swiper-item"},{default:m((()=>[t.isLogin?(g(),F(T,{key:0},[y(n,{class:"tip-box"},{default:m((()=>[y(n,{class:"label",onClick:e[31]||(e[31]=e=>t.onlyCurrency=!t.onlyCurrency)},{default:m((()=>[y(n,{class:"checkbox"},{default:m((()=>[t.onlyCurrency?(g(),h(c,{key:0,src:ct,mode:"widthFix"})):v("",!0)])),_:1}),y(s,{class:"font-11 color-black"},{default:m((()=>[b(w(t.$t("contruct.only_cur")),1)])),_:1})])),_:1}),y(s,{class:"font-11 color-primary",onClick:e[32]||(e[32]=e=>t.allPingcang())},{default:m((()=>[b(w(t.$t("contruct.click_close")),1)])),_:1})])),_:1}),y(lt,{"scroll-y":"true",class:"scroll-view"},{default:m((()=>[y(n,{class:"list-container"},{default:m((()=>[(g(!0),F(T,null,I(t.position.position,((e,o)=>(g(),h(n,{class:"list-item",key:e.order_id},{default:m((()=>[y(n,{class:"row"},{default:m((()=>[y(n,{class:"row-left"},{default:m((()=>[y(ot,{text:2===e.direction?t.$t("tradeInfo.null"):t.$t("tradeInfo.many"),size:20,marginRight:10,radius:3,padding:["6rpx","8rpx"],color:"#ffffff",background:2===e.direction?"var(--content-trade-sell)":"var(--color-primary)"},null,8,["text","background"]),y(s,{class:"font-15 font-weight color-black coin"},{default:m((()=>[b(w(e.symbol)+"USDT ",1)])),_:2},1024),y(ot,{text:t.$t("contruct.sustainable"),size:20,marginRight:10,marginLeft:10,radius:3,padding:["6rpx","8rpx"],color:"var(--content-tertiary)",background:"var(--background-secondary)"},null,8,["text"]),y(ot,{size:20,marginRight:10,radius:3,padding:["6rpx","8rpx"],color:"var(--content-tertiary)",background:"var(--background-secondary)"},{default:m((()=>[b(w(1==e.margin_type?this.$t("tradeInfo.full_w"):this.$t("contruct.wbw"))+w(e.muilt)+"X ",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),y(n,{class:"column"},{default:m((()=>[y(n,{class:"row-cell"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pp_los"))+"(USDT) ",1)])),_:1}),y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.response_rate")),1)])),_:1})])),_:1}),y(n,{class:"row-cell"},{default:m((()=>[y(s,{class:k(["font-13 color-black font-weight",e.p>0?"color-green":"color-red"])},{default:m((()=>[b(w(t.$util.thousandSeparator(e.p,2)),1)])),_:2},1032,["class"]),y(s,{class:k(["font-13 color-black font-weight",e.p>0?"color-green":"color-red"])},{default:m((()=>[b(w(t.$util.thousandSeparator(e.rate,2))+"% ",1)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1024),y(n,{class:"column"},{default:m((()=>[y(n,{class:"row-cell"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.avp_price")),1)])),_:1}),y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.ex_pr")),1)])),_:1})])),_:1}),y(n,{class:"row-cell"},{default:m((()=>[y(s,{class:"font-13 color-black font-weight"},{default:m((()=>[b(w(t.$util.thousandSeparator(e.price,t.currentCurrency.decimals)),1)])),_:2},1024),y(s,{class:"font-13 color-black font-weight"},{default:m((()=>[b(w(e.stopPrice<=0?t.$t("contruct.nl_yp"):t.$util.thousandSeparator(e.stopPrice,t.currentCurrency.decimals)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),y(n,{class:"column"},{default:m((()=>[y(n,{class:"row-cell"},{default:m((()=>[y(n,{class:"row-cell-item"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.mark_price")),1)])),_:1})])),_:1}),y(n,{class:"row-cell-item"},{default:m((()=>[y(s,{class:k(["font-12 color-gray",1!=e.margin_type?"mr-5":""])},{default:m((()=>[b(w(t.$t("contruct.margin"))+"(USDT) ",1)])),_:2},1032,["class"]),1!=e.margin_type?(g(),h(tt,{key:0,name:"warning-fill",size:28,color:"var(--content-tertiary)",onClick:t.mgtipShow},null,8,["onClick"])):v("",!0)])),_:2},1024),y(n,{class:"row-cell-item"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.total_pos"))+"(USDT) ",1)])),_:1})])),_:1})])),_:2},1024),y(n,{class:"row-cell"},{default:m((()=>[y(n,{class:"row-cell-item"},{default:m((()=>[y(s,{class:"font-13 color-black font-weight"},{default:m((()=>[b(w(t.$util.thousandSeparator(t.getNewPrice(e.currency_id,e.cm_id),t.currentCurrency.decimals)),1)])),_:2},1024)])),_:2},1024),y(n,{class:"row-cell-item"},{default:m((()=>[y(s,{class:"font-13 color-black font-weight"},{default:m((()=>[b(w(t.$util.thousandSeparator(e.margin,2)),1)])),_:2},1024)])),_:2},1024),y(n,{class:"row-cell-item"},{default:m((()=>[y(s,{class:"font-13 color-black font-weight"},{default:m((()=>[b(w(t.$util.thousandSeparator(e.uamount,t.currentCurrency.decimals)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),y(n,{class:"column"},{default:m((()=>[y(n,{class:"row-cell"},{default:m((()=>[y(n,{class:"row-cell-item"},{default:m((()=>[y(s,{class:"font-12 color-gray mr-5"},{default:m((()=>[b(w(t.$t("contruct.set_pl")),1)])),_:1}),y(tt,{name:"help-fill",size:28,color:"var(--content-tertiary)",onClick:e=>{t.pindex=o,t.$refs.jiesuan.open()}},null,8,["onClick"])])),_:2},1024),y(n,{class:"row-cell-item"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.margin_rate")),1)])),_:1})])),_:1}),y(n,{class:"row-cell-item"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.can_close"))+"("+w(e.symbol)+") ",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),y(n,{class:"row-cell"},{default:m((()=>[y(n,{class:"row-cell-item"},{default:m((()=>[y(s,{class:"font-13 color-black font-weight"},{default:m((()=>[b(w(t.$util.thousandSeparator(parseFloat(t.position.position[o].profit)-parseFloat(t.position.position[o].charge)-parseFloat(t.position.position[o].fund_charge),2)),1)])),_:2},1024)])),_:2},1024),y(n,{class:"row-cell-item"},{default:m((()=>[y(s,{class:"font-13 color-black font-weight"},{default:m((()=>[b(w(t.getMarginRate(e.currency_id,e.direction,e.amount,e.price,e.margin))+"% ",1)])),_:2},1024)])),_:2},1024),y(n,{class:"row-cell-item"},{default:m((()=>[y(s,{class:"font-13 color-black font-weight"},{default:m((()=>[b(w(t.$util.float(t.$util.thousandSeparator(parseFloat(e.amount)-parseFloat(e.close),8))),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),y(n,{class:"item-footer"},{default:m((()=>[y(et,{"hover-class":"none",onClick:o=>t.$mroute.entrust(e)},{default:m((()=>[b(w(t.$t("contruct.tp_sl")),1)])),_:2},1032,["onClick"]),y(et,{"hover-class":"none",onClick:e=>{t.pindex=o,t.$refs.actionOrder.open()}},{default:m((()=>[b(w(t.$t("contruct.close_position")),1)])),_:2},1032,["onClick"]),y(et,{"hover-class":"none",onClick:e=>{t.pindex=o,t.$refs.speedAction.open()}},{default:m((()=>[b(w(t.$t("contruct.flash_close")),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128)),y(at,{visible:!t.position.position||0===t.position.position.length,width:690,height:300,title:t.$t("list.not_data")},null,8,["visible","title"])])),_:1})])),_:1})],64)):(g(),h(n,{key:1,class:"not-login",style:$(`height: ${t.swiperHeight}px`)},{default:m((()=>[y(n,{class:"row"},{default:m((()=>[y(s,{class:"font-14 app-font font-weight color-black"},{default:m((()=>[b(" 您在此账户没有资产 ")])),_:1})])),_:1}),y(n,{class:"row"},{default:m((()=>[y(s,{class:"font-12 color-gray app-font"},{default:m((()=>[b(" 充值或划转加密货币 ")])),_:1})])),_:1}),y(n,{class:"row row-last"},{default:m((()=>[y(n,{class:"column",onClick:e[33]||(e[33]=e=>t.$mroute.recharge())},{default:m((()=>[y(c,{class:"button-icon",src:`/static/wallet/cz-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"]),y(s,{class:"font-12 color-black app-font font-weight"},{default:m((()=>[b(w(t.$t("wallet.desposit")),1)])),_:1})])),_:1}),y(n,{class:"column",onClick:e[34]||(e[34]=e=>t.$mroute.exchange())},{default:m((()=>[y(c,{class:"button-icon",src:`/static/wallet/hz-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"]),y(s,{class:"font-12 color-black app-font font-weight"},{default:m((()=>[b(w(t.$t("wallet.transfer")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["style"]))])),_:1}),y(nt,{class:"bottom-swiper-item"},{default:m((()=>[t.isLogin?(g(),F(T,{key:0},[y(n,{class:"tip-box"},{default:m((()=>[y(n,{class:"label",onClick:e[35]||(e[35]=e=>t.onlyCurrency=!t.onlyCurrency)},{default:m((()=>[y(n,{class:"checkbox"},{default:m((()=>[t.onlyCurrency?(g(),h(c,{key:0,src:ct,mode:"widthFix"})):v("",!0)])),_:1}),y(s,{class:"font-11 color-black"},{default:m((()=>[b(w(t.$t("contruct.only_cur")),1)])),_:1})])),_:1})])),_:1}),y(lt,{"scroll-y":"true",class:"scroll-view"},{default:m((()=>[y(n,{class:"list-container"},{default:m((()=>[y(at,{visible:!t.position.entrust||0===t.position.entrust.length,width:690,height:300,title:t.$t("list.not_data")},null,8,["visible","title"]),(g(!0),F(T,null,I(t.position.entrust,((e,o)=>(g(),h(n,{class:"list-item",key:"w"+o},{default:m((()=>[y(n,{class:"row-cell"},{default:m((()=>[y(n,{class:"row-left"},{default:m((()=>[1===e.type?(g(),h(ot,{key:0,text:t.$t("contruct.buy_long"),size:20,marginRight:10,radius:3,padding:["6rpx","8rpx"],color:"#ffffff",background:"var(--color-primary)"},null,8,["text"])):v("",!0),2===e.type?(g(),h(ot,{key:1,text:t.$t("contruct.sell_short"),size:20,marginRight:10,radius:3,padding:["6rpx","8rpx"],color:"#ffffff",background:"var(--content-trade-sell)"},null,8,["text"])):v("",!0),3===e.type?(g(),h(ot,{key:2,text:t.$t("contruct.sell_fl"),size:20,marginRight:10,radius:3,padding:["6rpx","8rpx"],color:"#ffffff",background:"var(--color-primary)"},null,8,["text"])):v("",!0),4===e.type?(g(),h(ot,{key:3,text:t.$t("contruct.buy_short"),size:20,marginRight:10,radius:3,padding:["6rpx","8rpx"],color:"#ffffff",background:"var(--content-trade-sell)"},null,8,["text"])):v("",!0),5===e.type?(g(),h(ot,{key:4,text:t.$t("contruct.tp"),size:20,marginRight:10,radius:3,padding:["6rpx","8rpx"],color:"#ffffff",background:"var(--color-primary)"},null,8,["text"])):v("",!0),6===e.type?(g(),h(ot,{key:5,text:t.$t("contruct.sl"),size:20,marginRight:10,radius:3,padding:["6rpx","8rpx"],color:"#ffffff",background:"var(--color-primary)"},null,8,["text"])):v("",!0),y(s,{class:"font-15 font-weight color-black coin"},{default:m((()=>[b(w(e.symbol)+"USDT ",1)])),_:2},1024),y(ot,{text:t.$t("contruct.sustainable"),size:20,marginRight:10,marginLeft:10,radius:3,padding:["6rpx","8rpx"],color:"var(--content-tertiary)",background:"var(--background-secondary)"},null,8,["text"])])),_:2},1024),y(s,{class:"font-12 color-primary",onClick:o=>t.cancelOperation(e.id)},{default:m((()=>[b(w(t.$t("contruct.cancel_order")),1)])),_:2},1032,["onClick"])])),_:2},1024),y(n,{class:"row-cell"},{default:m((()=>[y(n,{class:"row-left"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(e.created_at),1)])),_:2},1024),1==e.ttype?(g(),h(ot,{key:0,text:t.$t("trade.mk_od"),size:20,marginLeft:10,radius:3,padding:["6rpx","8rpx"],color:"var(--content-tertiary)",background:"var(--background-secondary)"},null,8,["text"])):v("",!0),2==e.ttype?(g(),h(ot,{key:1,text:t.$t("trade.lm_od"),size:20,marginLeft:10,radius:3,padding:["6rpx","8rpx"],color:"var(--content-tertiary)",background:"var(--background-secondary)"},null,8,["text"])):v("",!0),3==e.ttype?(g(),h(ot,{key:2,text:t.$t("contruct.con_sheet"),size:20,marginLeft:10,radius:3,padding:["6rpx","8rpx"],color:"var(--content-tertiary)",background:"var(--background-secondary)"},null,8,["text"])):v("",!0)])),_:2},1024)])),_:2},1024),y(n,{class:"row-cell"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.com_pr"))+"(USDT) ",1)])),_:1}),y(s,{class:"font-13 color-black font-weight"},{default:m((()=>[b(w(t.$util.thousandSeparator(e.price,2)),1)])),_:2},1024)])),_:2},1024),y(n,{class:"row-cell"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.od_quan"))+"("+w(e.symbol)+") ",1)])),_:2},1024),y(s,{class:"font-13 color-black font-weight"},{default:m((()=>[b(w(e.amount),1)])),_:2},1024)])),_:2},1024),y(n,{class:"row-cell"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.aver_tp"))+"(USDT) ",1)])),_:1}),y(s,{class:"font-13 color-black font-weight"},{default:m((()=>[b(" -- ")])),_:1})])),_:1}),y(n,{class:"row-cell"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.tp"))+"/"+w(t.$t("contruct.sl")),1)])),_:1}),y(s,{class:"font-13 color-black font-weight"},{default:m((()=>[b(" --/-- ")])),_:1})])),_:1})])),_:2},1024)))),128))])),_:1})])),_:1})],64)):(g(),h(n,{key:1,class:"not-login",style:$(`height: ${t.swiperHeight}px`)},{default:m((()=>[y(n,{class:"row"},{default:m((()=>[y(s,{class:"font-14 app-font font-weight color-black"},{default:m((()=>[b(" 您在此账户没有资产 ")])),_:1})])),_:1}),y(n,{class:"row"},{default:m((()=>[y(s,{class:"font-12 color-gray app-font"},{default:m((()=>[b(" 充值或划转加密货币 ")])),_:1})])),_:1}),y(n,{class:"row row-last"},{default:m((()=>[y(n,{class:"column",onClick:e[36]||(e[36]=e=>t.$mroute.recharge())},{default:m((()=>[y(c,{class:"button-icon",src:`/static/wallet/cz-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"]),y(s,{class:"font-12 color-black app-font font-weight"},{default:m((()=>[b(w(t.$t("wallet.desposit")),1)])),_:1})])),_:1}),y(n,{class:"column",onClick:e[37]||(e[37]=e=>t.$mroute.exchange())},{default:m((()=>[y(c,{class:"button-icon",src:`/static/wallet/hz-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"]),y(s,{class:"font-12 color-black app-font font-weight"},{default:m((()=>[b(w(t.$t("wallet.transfer")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["style"]))])),_:1}),y(nt,{class:"bottom-swiper-item"},{default:m((()=>[t.isLogin?(g(),F(T,{key:0},[y(n,{class:"tip-box"},{default:m((()=>[y(n,{class:"label",onClick:e[38]||(e[38]=e=>t.onlyCurrency=!t.onlyCurrency)},{default:m((()=>[y(n,{class:"checkbox"},{default:m((()=>[t.onlyCurrency?(g(),h(c,{key:0,src:ct,mode:"widthFix"})):v("",!0)])),_:1}),y(s,{class:"font-11 color-black"},{default:m((()=>[b(w(t.$t("contruct.only_cur")),1)])),_:1})])),_:1})])),_:1}),y(lt,{"scroll-y":"true",class:"scroll-view"},{default:m((()=>[y(n,{class:"list-container"},{default:m((()=>[y(at,{visible:!t.position.entrustP||0===t.position.entrustP.length,width:690,height:300,title:t.$t("list.not_data")},null,8,["visible","title"]),(g(!0),F(T,null,I(t.position.entrustP,((e,o)=>(g(),h(n,{class:"list-item",key:"wp"+o},{default:m((()=>[y(n,{class:"row-cell"},{default:m((()=>[y(n,{class:"row-left"},{default:m((()=>[y(ot,{text:5==e.type?t.$t("contruct.tp"):t.$t("contruct.sl"),size:20,marginRight:10,radius:3,padding:["6rpx","8rpx"],color:"#ffffff",background:5==e.type?"var(--color-primary)":"var(--content-trade-sell)"},null,8,["text","background"]),y(s,{class:"font-15 font-weight color-black coin"},{default:m((()=>[b(w(e.symbol)+"USDT ",1)])),_:2},1024),y(ot,{text:t.$t("contruct.sustainable"),size:20,marginRight:10,marginLeft:10,radius:3,padding:["6rpx","8rpx"],color:"var(--content-tertiary)",background:"var(--background-secondary)"},null,8,["text"])])),_:2},1024),y(s,{class:"font-12 color-primary",onClick:o=>t.cancelOperation(e.id)},{default:m((()=>[b(w(t.$t("contruct.cancel_order")),1)])),_:2},1032,["onClick"])])),_:2},1024),y(n,{class:"row-cell"},{default:m((()=>[y(n,{class:"row-left"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(e.created_at),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),y(n,{class:"row-cell"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.trigger_price")),1)])),_:1}),y(s,{class:"font-13 color-black font-weight"},{default:m((()=>[b(w(t.$util.float(e.wprice)),1)])),_:2},1024)])),_:2},1024),y(n,{class:"row-cell"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.com_pr")),1)])),_:1}),y(s,{class:"font-13 color-black font-weight"},{default:m((()=>[b(w(e.price<=0?t.$t("trade.mk_pr"):t.$util.float(e.price)),1)])),_:2},1024)])),_:2},1024),y(n,{class:"row-cell"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.od_quan"))+"("+w(e.symbol)+") ",1)])),_:2},1024),y(s,{class:"font-13 color-black font-weight"},{default:m((()=>[b(w(t.$util.float(e.amount)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})],64)):(g(),h(n,{key:1,class:"not-login",style:$(`height: ${t.swiperHeight}px`)},{default:m((()=>[y(n,{class:"row"},{default:m((()=>[y(s,{class:"font-14 app-font font-weight color-black"},{default:m((()=>[b(" 您在此账户没有资产 ")])),_:1})])),_:1}),y(n,{class:"row"},{default:m((()=>[y(s,{class:"font-12 color-gray app-font"},{default:m((()=>[b(" 充值或划转加密货币 ")])),_:1})])),_:1}),y(n,{class:"row row-last"},{default:m((()=>[y(n,{class:"column",onClick:e[39]||(e[39]=e=>t.$mroute.recharge())},{default:m((()=>[y(c,{class:"button-icon",src:`/static/wallet/cz-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"]),y(s,{class:"font-12 color-black app-font font-weight"},{default:m((()=>[b(w(t.$t("wallet.desposit")),1)])),_:1})])),_:1}),y(n,{class:"column",onClick:e[40]||(e[40]=e=>t.$mroute.exchange())},{default:m((()=>[y(c,{class:"button-icon",src:`/static/wallet/hz-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"]),y(s,{class:"font-12 color-black app-font font-weight"},{default:m((()=>[b(w(t.$t("wallet.transfer")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["style"]))])),_:1})])),_:1},8,["current","style"])])),_:1})])),_:1}),y(ut,{ref:"speedAction",type:"bottom",style:{"z-index":"20000"}},{default:m((()=>[t.position.position[t.pindex]?(g(),h(n,{key:0,class:"popup-wrap-box"},{default:m((()=>[y(n,{class:"popup-wrap-box-title"},{default:m((()=>[y(s,{class:"font-16 color-black font-weight"},{default:m((()=>[b(w(t.$t("contruct.flash_close")),1)])),_:1}),y(n,{class:"close-icon",onClick:e[42]||(e[42]=e=>{t.$refs.speedAction.close()})},{default:m((()=>[y(tt,{name:"close",size:"48",color:"var(--content-primary)"})])),_:1})])),_:1}),y(n,{class:"popup-wrap-box-content"},{default:m((()=>[y(n,{class:"content-cell"},{default:m((()=>[y(n,{class:"flex align-center"},{default:m((()=>[y(ot,{isBorder:!1,padding:["8rpx","10rpx"],radius:6,size:24,marginRight:10,type:"danger",theme:"dark"},{default:m((()=>[b(w(1==t.position.position[t.pindex].direction?this.$t("tradeInfo.many"):this.$t("tradeInfo.null")),1)])),_:1}),y(s,{class:"font-14 color-black font-weight"},{default:m((()=>[b(w(t.position.position[t.pindex].symbol)+"USDT "+w(t.$t("contruct.sustainable")),1)])),_:1}),y(ot,{isBorder:!1,padding:["8rpx","10rpx"],radius:6,size:24,marginLeft:10,type:"warning",theme:"light"},{default:m((()=>[b(w(1==t.position.position[t.pindex].margin_type?this.$t("tradeInfo.full_w"):this.$t("contruct.wbw"))+w(t.position.position[t.pindex].muilt)+"X ",1)])),_:1})])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(s,{class:"font-13 color-gray"},{default:m((()=>[b(w(t.$t("contruct.price")),1)])),_:1}),y(s,{class:"font-13 color-black"},{default:m((()=>[b(w(t.$t("trade.mk_pr")),1)])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(s,{class:"font-13 color-gray"},{default:m((()=>[b(w(t.$t("contruct.quantity")),1)])),_:1}),y(s,{class:"font-13 color-black"},{default:m((()=>[b(w(t.getPositionCurrencyAmount(t.position.position[t.pindex].currency_id,t.position.position[t.pindex].direction)),1)])),_:1})])),_:1}),y(n,{class:"content-button"},{default:m((()=>[y(et,{onClick:e[43]||(e[43]=e=>t.stopLight(t.position.position[t.pindex].id)),class:"_button bg-black button-active"},{default:m((()=>[y(s,{class:"font-13 color-white"},{default:m((()=>[b(w(t.$t("contruct.confirm_btntxt")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):v("",!0)])),_:1},512),y(ut,{ref:"actionOrder",type:"bottom",style:{"z-index":"20000"}},{default:m((()=>[t.position.position[t.pindex]?(g(),h(n,{key:0,class:"popup-wrap-box"},{default:m((()=>[y(n,{class:"popup-wrap-box-title"},{default:m((()=>[y(s,{class:"font-16 color-black font-weight"},{default:m((()=>[b(w(t.$t("contruct.close_position")),1)])),_:1}),y(n,{class:"close-icon",onClick:e[44]||(e[44]=e=>t.$refs.actionOrder.close())},{default:m((()=>[y(tt,{name:"close",size:"48",color:"var(--content-primary)"})])),_:1})])),_:1}),y(n,{class:"popup-wrap-box-content"},{default:m((()=>[y(n,{class:"content-cell"},{default:m((()=>[y(n,{class:"flex align-center"},{default:m((()=>[0===t.position.position[t.pindex].direction?(g(),h(ot,{key:0,isBorder:!1,padding:["8rpx","10rpx"],radius:6,size:24,marginRight:10,type:"danger",theme:"dark",text:t.$t("tradeInfo.null")},null,8,["text"])):v("",!0),1===t.position.position[t.pindex].direction?(g(),h(ot,{key:1,isBorder:!1,padding:["8rpx","10rpx"],radius:6,size:24,marginRight:10,type:"success",theme:"dark",text:t.$t("tradeInfo.many")},null,8,["text"])):v("",!0),y(s,{class:"font-14 color-black font-weight"},{default:m((()=>[b(w(t.position.position[t.pindex].symbol)+"USDT "+w(t.$t("contruct.sustainable")),1)])),_:1}),y(ot,{isBorder:!1,padding:["8rpx","10rpx"],radius:6,size:24,marginLeft:10,type:"warning",theme:"light"},{default:m((()=>[b(w(1==t.position.position[t.pindex].margin_type?this.$t("tradeInfo.full_w"):this.$t("contruct.wbw"))+w(t.position.position[t.pindex].muilt)+"X ",1)])),_:1})])),_:1})])),_:1}),y(n,{class:"content-cell content-cell-column mt-10"},{default:m((()=>[y(s,{class:"font-13 color-gray"},{default:m((()=>[b(w(t.$t("contruct.close_price")),1)])),_:1}),y(n,{class:"content-cell-row"},{default:m((()=>[y(n,{class:k(["input-box",{"input-box-active":0!=t.ptype}])},{default:m((()=>[y(d,{onInput:t.inputPprice,disabled:!t.ptype,class:"font-12 color-black pl-5",focus:0!=t.ptype,type:t.ptype?"number":"text",value:t.ptype?t.pprice:this.$t("contruct.bmp")},null,8,["onInput","disabled","focus","type","value"]),y(s,{class:"font-12 font-weight color-black"},{default:m((()=>[b("USDT")])),_:1})])),_:1},8,["class"]),y(n,{class:"input-button"},{default:m((()=>[y(s,{class:"font-12 color-black",onClick:e[45]||(e[45]=e=>t.ptype=!t.ptype)},{default:m((()=>[b(w(1==t.ptype?this.$t("contruct.marker_t"):this.$t("contruct.limit_t")),1)])),_:1})])),_:1})])),_:1})])),_:1}),y(n,{class:"content-cell content-cell-column mt-10"},{default:m((()=>[y(s,{class:"font-13 color-gray"},{default:m((()=>[b(w(t.$t("contruct.close_num")),1)])),_:1}),y(n,{class:"input-box mt-5"},{default:m((()=>[y(d,{modelValue:t.pamount,"onUpdate:modelValue":e[46]||(e[46]=e=>t.pamount=e),onFocus:e[47]||(e[47]=e=>t.priceNum=!0),onBlur:e[48]||(e[48]=e=>t.priceNum=!1),class:"font-12 color-black pl-5",type:"number"},null,8,["modelValue"]),y(s,{class:"font-12 font-weight color-black"},{default:m((()=>[b(w(t.position.position[t.pindex].symbol),1)])),_:1})])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(n,{class:"slider-box"},{default:m((()=>[y(n,{class:"slider-box-top"},{default:m((()=>[y(Y,{class:"slider",max:100,min:0,onChange:t.sliderPamount,"block-color":"var(--color-blue-bg)",backgroundColor:"var(--color-arcode-input-bg)",activeColor:"var(--color-blue-bg)","block-size":"20",step:"1"},null,8,["onChange"]),y(n,{class:"slider-points"},{default:m((()=>[(g(),F(T,null,I([0,25,50,75,100],(e=>y(s,{class:k(["points",t.popSliderValue>=e?"active":""])},null,8,["class"]))),64))])),_:1})])),_:1}),y(n,{class:"slider-box-bottom"},{default:m((()=>[(g(),F(T,null,I([0,25,50,75,100],(e=>y(s,{class:k(["font-10 font-weight",t.popSliderValue>=e?"color-black":"color-gray"])},{default:m((()=>[b(w(e+"%"),1)])),_:2},1032,["class"]))),64))])),_:1})])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(s,{class:"font-13 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pt_cbc")),1)])),_:1}),y(s,{class:"font-13 color-black"},{default:m((()=>[b(w(t.$util.thousandSeparator(t.position.position[t.pindex].amount-t.position.position[t.pindex].close,8))+" "+w(t.position.position[t.pindex].symbol),1)])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(s,{class:"font-13 color-gray"},{default:m((()=>[b(w(t.$t("contruct.ep_loss")),1)])),_:1}),y(s,{class:"font-13 color-black"},{default:m((()=>[b(w(t.pamount>0||""!=t.pamount?t.getProfit(t.position.position[t.pindex].currency_id,t.pindex,t.pamount,t.ptype):"--")+" USDT ",1)])),_:1})])),_:1}),y(n,{class:"content-button"},{default:m((()=>[y(et,{onClick:e[49]||(e[49]=e=>t.stopPosition(t.position.position[t.pindex].id)),class:k([{"bg-blue":""!=t.pamount||t.pamount>0,"bg-gray":""==t.pamount||t.pamount<=0},"_button"])},{default:m((()=>[b(w(t.$t("contruct.confirm_btntxt")),1)])),_:1},8,["class"])])),_:1})])),_:1})])),_:1})):v("",!0)])),_:1},512),y(ut,{ref:"showPosition",type:"bottom",style:{"z-index":"20000"}},{default:m((()=>[y(n,{class:"popup-wrap-box"},{default:m((()=>[y(n,{class:"popup-wrap-box-title"},{default:m((()=>[y(s,{class:"font-16 color-black font-weight"},{default:m((()=>[b(w(t.$t("contruct.mt11")),1)])),_:1}),y(n,{class:"close-icon",onClick:e[50]||(e[50]=e=>t.$refs.showPosition.close())},{default:m((()=>[y(tt,{name:"close",size:"48",color:"var(--content-primary)"})])),_:1})])),_:1}),y(n,{class:"popup-wrap-box-content"},{default:m((()=>[y(n,{class:"content-cell"},{default:m((()=>[y(n,{class:"content-cell-buttons"},{default:m((()=>[y(n,{class:k(["_button",{"_button-active":1===t.tmargin}]),onClick:e[51]||(e[51]=e=>t.tmargin=1)},{default:m((()=>[y(s,{class:k(["font-13 color-black",{"color-primary":1==t.tmargin}])},{default:m((()=>[b(w(t.$t("contract.pall")),1)])),_:1},8,["class"])])),_:1},8,["class"]),y(n,{class:k(["_button bg-gray",{"_button-active":3===t.tmargin}]),onClick:e[52]||(e[52]=e=>t.tmargin=3)},{default:m((()=>[y(s,{class:k(["font-13 color-black",{"color-primary":3==t.tmargin}])},{default:m((()=>[b(w(t.$t("contract.fall")),1)])),_:1},8,["class"])])),_:1},8,["class"]),y(n,{class:k(["_button bg-gray",{"_button-active":2===t.tmargin}]),onClick:e[53]||(e[53]=e=>t.tmargin=2)},{default:m((()=>[y(s,{class:k(["font-13 color-black",{"color-primary":2==t.tmargin}])},{default:m((()=>[b(w(t.$t("contruct.wbw")),1)])),_:1},8,["class"])])),_:1},8,["class"])])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(pt,null,{default:m((()=>[y(dt,{open:"",borderColor:"var(--background-primary)",background:"var(--background-primary)",contentBg:"var(--background-primary)"},{content:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.mt3")),1)])),_:1}),y(s,{class:"font-12 color-gray mt-10"},{default:m((()=>[b(w(t.$t("contruct.mt4")),1)])),_:1})])),default:m((()=>[y(s,{class:"font-14 color-black font-weight"},{default:m((()=>[b(w(t.$t("contruct.mt2")),1)])),_:1})])),_:1})])),_:1})])),_:1}),y(n,{class:"content-button"},{default:m((()=>[y(et,{onClick:e[54]||(e[54]=e=>t.setMargin()),"hover-class":"none",class:"_button button-active bg-black"},{default:m((()=>[y(s,{class:k(["font-13",t.position.position.length>0?"color-gray":"color-white"])},{default:m((()=>[b(w(t.$t("hand.confirm_t")),1)])),_:1},8,["class"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),y(ut,{ref:"showMuitl",type:"bottom",style:{"z-index":"20000"}},{default:m((()=>[y(n,{class:"popup-wrap-box"},{default:m((()=>[y(n,{class:"popup-wrap-box-title"},{default:m((()=>[y(s,{class:"font-16 color-black font-weight"},{default:m((()=>[b(w(t.$t("contruct.lt1")),1)])),_:1}),y(n,{class:"close-icon",onClick:e[55]||(e[55]=e=>t.$refs.showMuitl.close())},{default:m((()=>[y(tt,{name:"close",size:"48",color:"var(--content-primary)"})])),_:1})])),_:1}),y(n,{class:"popup-wrap-box-content"},{default:m((()=>[y(n,{class:"content-cell"},{default:m((()=>[y(ft,{custom:"",modelValue:t.tmutil,"onUpdate:modelValue":e[56]||(e[56]=e=>t.tmutil=e),backgroundColor:"var(--background-secondary)",color:"var(--content-primary)",size:30,margin:"0",min:1,max:125},{plus:m((()=>[y(tt,{name:"plus",size:48,color:"var(--content-primary)"})])),default:m((()=>[y(tt,{name:"minus",size:48,color:"var(--content-primary)"})])),_:1},8,["modelValue"])])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(n,{class:"slider-box"},{default:m((()=>[y(n,{class:"slider-box-top"},{default:m((()=>[y(Y,{class:"slider",max:125,min:1,"block-color":"var(--color-blue-bg)",backgroundColor:"var(--color-arcode-input-bg)",activeColor:"var(--color-blue-bg)","block-size":"20",value:t.tmutil,onChange:t.changeMutil,step:"1"},null,8,["value","onChange"]),y(n,{class:"slider-points"},{default:m((()=>[(g(),F(T,null,I([1,25,50,75,100,125],(e=>y(s,{class:k(["points",t.tmutil>=e?"active":""])},null,8,["class"]))),64))])),_:1})])),_:1}),y(n,{class:"slider-box-bottom"},{default:m((()=>[(g(),F(T,null,I([1,25,50,75,100,125],(e=>y(s,{class:k(["font-10 font-weight",t.tmutil>=e?"color-black":"color-gray"])},{default:m((()=>[b(w(e+"X"),1)])),_:2},1032,["class"]))),64))])),_:1})])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(n,{class:"content-cell-column"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.lt2"))+"(USDT) ",1)])),_:1}),y(s,{class:"font-14 color-black font-weight"},{default:m((()=>[b(w(t.$util.float(t.currentCurrency.max_amount)),1)])),_:1})])),_:1}),y(n,{class:"content-cell-column",style:{"align-items":"flex-end"}},{default:m((()=>[y(n,null,{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.lt3"))+"(USDT) ",1)])),_:1})])),_:1}),y(n,{style:{"align-items":"flex-end"}},{default:m((()=>[y(s,{class:"font-14 color-black font-weight"},{default:m((()=>[b(w(t.$util.thousandSeparator(t.balance.legal_balance?t.balance.legal_balance:t.currentCurrency.max_amount)),1)])),_:1})])),_:1})])),_:1})])),_:1}),y(n,{class:"content-button"},{default:m((()=>[y(et,{onClick:e[57]||(e[57]=e=>t.setMutil()),class:"_button button-active bg-black"},{default:m((()=>[y(s,{class:k(["font-13",{"color-gray":t.position.position.length>0,"color-white":t.position.position.length<=0}])},{default:m((()=>[b(w(t.$t("hand.confirm_t")),1)])),_:1},8,["class"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),y(ut,{ref:"showPFti",type:"bottom",style:{"z-index":"20000"}},{default:m((()=>[y(n,{class:"popup-wrap-box"},{default:m((()=>[y(n,{class:"popup-wrap-box-title"},{default:m((()=>[y(s,{class:"font-16 color-black font-weight"},{default:m((()=>[b(w(t.$t("contruct.pl1")),1)])),_:1}),y(n,{class:"close-icon",onClick:e[58]||(e[58]=e=>t.$refs.showPFti.close())},{default:m((()=>[y(tt,{name:"close",size:"48",color:"var(--content-primary)"})])),_:1})])),_:1}),y(n,{class:"popup-wrap-box-content max-content"},{default:m((()=>[y(n,{class:"content-cell"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl2")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),y(ut,{ref:"showSupport",type:"bottom",style:{"z-index":"20000"}},{default:m((()=>[y(n,{class:"popup-wrap-box"},{default:m((()=>[y(n,{class:"popup-wrap-box-title"},{default:m((()=>[y(s,{class:"font-16 color-black font-weight"},{default:m((()=>[b(w(0==t.support?t.$t("contruct.pl3"):t.$t("contruct.pl5")),1)])),_:1}),y(n,{class:"close-icon",onClick:e[59]||(e[59]=e=>t.$refs.showSupport.close())},{default:m((()=>[y(tt,{name:"close",size:"48",color:"var(--content-primary)"})])),_:1})])),_:1}),y(n,{class:"popup-wrap-box-content max-content"},{default:m((()=>[0==t.support?(g(),h(n,{key:0,class:"content-cell"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl4")),1)])),_:1})])),_:1})):v("",!0),1==t.support?(g(),h(n,{key:1,class:"content-cell"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl6")),1)])),_:1})])),_:1})):v("",!0)])),_:1})])),_:1})])),_:1},512),y(ut,{ref:"showZjfl",type:"bottom",style:{"z-index":"20000"}},{default:m((()=>[y(n,{class:"popup-wrap-box"},{default:m((()=>[y(n,{class:"popup-wrap-box-title"},{default:m((()=>[y(s,{class:"font-16 color-black font-weight"},{default:m((()=>[b(w(t.$t("contruct.pl26")),1)])),_:1}),y(n,{class:"close-icon",onClick:e[60]||(e[60]=e=>t.$refs.showZjfl.close())},{default:m((()=>[y(tt,{name:"close",size:"48",color:"var(--content-primary)"})])),_:1})])),_:1}),y(n,{class:"popup-wrap-box-content max-content"},{default:m((()=>[y(n,{class:"content-cell"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl27")),1)])),_:1}),y(s,{class:"font-12 color-black"},{default:m((()=>[b(w(t.$util.dateFormatter(t.market.T,t.$t("contruct.pl28"),2))+" "+w(t.time),1)])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl29"))+"（"+w(t.market.r>0?t.$t("contruct.pl30"):t.$t("contruct.pl31"))+"） ",1)])),_:1}),y(s,{class:"font-12 color-black"},{default:m((()=>[b(w(t.$util.float(100*t.market.r))+"% ",1)])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(s,{class:"font-14 color-black font-weight"},{default:m((()=>[b(w(t.$t("contruct.pl32")),1)])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl33")),1)])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl34")),1)])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl35")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),y(ut,{ref:"jiesuan",type:"bottom",style:{"z-index":"20000"}},{default:m((()=>[y(n,{class:"popup-wrap-box"},{default:m((()=>[y(n,{class:"popup-wrap-box-title"},{default:m((()=>[y(s,{class:"font-16 color-black font-weight"},{default:m((()=>[b(w(t.$t("contruct.pl21")),1)])),_:1}),y(n,{class:"close-icon",onClick:e[61]||(e[61]=e=>t.$refs.jiesuan.close())},{default:m((()=>[y(tt,{name:"close",size:"48",color:"var(--content-primary)"})])),_:1})])),_:1}),y(n,{class:"popup-wrap-box-content"},{default:m((()=>[y(n,{class:"content-cell"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl21")),1)])),_:1}),y(n,{class:"flex align-center"},{default:m((()=>[y(s,{class:"font-12 price_down"},{default:m((()=>[b(w(t.$util.thousandSeparator(parseFloat(t.position.position[t.pindex].profit)-parseFloat(t.position.position[t.pindex].charge)+parseFloat(t.position.position[t.pindex].fund_charge))),1)])),_:1}),y(s,{class:"font-12 color-black ml-5"},{default:m((()=>[b("USDT")])),_:1})])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl22")),1)])),_:1}),y(n,{class:"flex align-center"},{default:m((()=>[y(s,{class:"font-12 color-black"},{default:m((()=>[b(w(t.$util.float(t.position.position[t.pindex].charge)),1)])),_:1}),y(s,{class:"font-12 color-black ml-5"},{default:m((()=>[b("USDT")])),_:1})])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl23")),1)])),_:1}),y(n,{class:"flex align-center"},{default:m((()=>[y(s,{class:"font-12 color-black"},{default:m((()=>[b(w(t.$util.thousandSeparator(t.position.position[t.pindex].profit)),1)])),_:1}),y(s,{class:"font-12 color-black ml-5"},{default:m((()=>[b("USDT")])),_:1})])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl24")),1)])),_:1}),y(n,{class:"flex align-center"},{default:m((()=>[y(s,{class:"font-12 color-black"},{default:m((()=>[b(w(t.$util.thousandSeparator(t.position.position[t.pindex].fund_charge)),1)])),_:1}),y(s,{class:"font-12 color-black ml-5"},{default:m((()=>[b("USDT")])),_:1})])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl25")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),y(ut,{ref:"alertDialog",type:"dialog"},{default:m((()=>[y(ht,{type:"info",cancelText:t.$t("取消"),confirmText:t.$t("确定"),title:t.$t("contruct.pl7"),content:t.$t("contruct.pl8"),onConfirm:t.stopAll},null,8,["cancelText","confirmText","title","content","onConfirm"])])),_:1},512),y(_t,{background:"var(--white)",show:t.marginTip,onClose:t.closePopup},{default:m((()=>[y(n,{class:"popup-wrap-box"},{default:m((()=>[y(n,{class:"popup-wrap-box-title"},{default:m((()=>[y(s,{class:"font-16 font-bold color-black"},{default:m((()=>[b(w(t.$t("contruct.margin")),1)])),_:1}),y(n,{class:"close-icon",onClick:t.closePopup},{default:m((()=>[y(tt,{name:"close",size:"48",color:"var(--content-primary)"})])),_:1},8,["onClick"])])),_:1}),y(n,{class:"popup-wrap-box-content"},{default:m((()=>[y(n,{class:"content-cell"},{default:m((()=>[y(n,{class:"content-cell-tabs"},{default:m((()=>[y(n,{class:k(["content-cell-tabs-item",0===t.mtabIndex?"bg-gray":""]),onClick:e[62]||(e[62]=e=>t.mtabIndex=0)},{default:m((()=>[y(s,{class:k(["font-13 color-gray font-weight",0===t.mtabIndex?"color-blue":""])},{default:m((()=>[b(w(t.$t("contract.tt1")),1)])),_:1},8,["class"])])),_:1},8,["class"]),y(n,{class:k(["content-cell-tabs-item",1===t.mtabIndex?"bg-gray":""]),onClick:e[63]||(e[63]=e=>t.mtabIndex=1)},{default:m((()=>[y(s,{class:k(["font-13 color-gray font-weight",1===t.mtabIndex?"color-blue":""])},{default:m((()=>[b(w(t.$t("contract.tt2")),1)])),_:1},8,["class"])])),_:1},8,["class"])])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(n,{class:"content-cell-input-box"},{default:m((()=>[y(d,{class:"_input",modelValue:t.numVal,"onUpdate:modelValue":e[64]||(e[64]=e=>t.numVal=e),"cursor-spacing":120,placeholder:t.$t("financing.t40")},null,8,["modelValue","placeholder"]),y(s,{class:"i_text color-gray font-13"},{default:m((()=>[b("USDT")])),_:1}),y(s,{class:"i_text color-blue font-13",onClick:e[65]||(e[65]=e=>0===t.mtabIndex?t.numVal=.95*t.balance.legal_balance:t.numVal=.9*t.position.position[t.pindex].margin)},{default:m((()=>[b(w(t.$t("financing.t89")),1)])),_:1})])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(0===t.mtabIndex?t.$t("contract.tt3"):t.$t("contract.tt33")),1)])),_:1}),y(s,{class:"font-12 color-black"},{default:m((()=>[b(w(t.$util.thousandSeparator(.95*t.balance.legal_balance,2))+" USDT ",1)])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contract.tt4")),1)])),_:1}),y(s,{class:"font-12 color-black"},{default:m((()=>[b(w(t.$util.thousandSeparator(t.calacStopPrice(t.pindex),t.currentCurrency.decimals))+" USDT ",1)])),_:1})])),_:1}),y(n,{class:"content-cell mt-10"},{default:m((()=>[y(mt,{onClick:e[66]||(e[66]=e=>t.changeMargin()),class:"_button",radius:"10rpx",background:"var(--blue)",size:"26",text:t.$t("确定")},null,8,["text"])])),_:1})])),_:1})])),_:1})])),_:1},8,["show","onClose"]),y(gt,{ref:"showSelect",mode:"left",showrAudus:!0,width:.8*t.$device.windowWidth,style:{"z-index":"10002"}},{default:m((()=>[y(n,{class:"drawer",style:$({height:t.$device.windowHeight+"px"})},{default:m((()=>[y(i,{background:"var(--white)",color:"var(--content-primary)",custom:""},{default:m((()=>[y(n,{class:"drawer-title"},{default:m((()=>[y(s,{class:"font-16 color-black font-weight"},{default:m((()=>[b(w(t.$t("contruct.pl9")),1)])),_:1})])),_:1})])),_:1}),y(n,{class:"drawer-search mt-10"},{default:m((()=>[y(n,{class:"drawer-search-box"},{default:m((()=>[y(tt,{name:"search",size:"38",color:"var(--color-text-dark-gray)"}),y(d,{type:"text",modelValue:t.searchValue,"onUpdate:modelValue":e[67]||(e[67]=e=>t.searchValue=e),placeholder:t.$t("contruct.pl10"),"placeholder-class":"placeholder"},null,8,["modelValue","placeholder"])])),_:1})])),_:1}),y(n,{class:"drawer-tabs mt-10"},{default:m((()=>[(g(!0),F(T,null,I(t.currency,((e,o)=>(g(),h(n,{class:k(["drawer-tabs-item",{"bg-gray":t.mindex===e.id}]),key:"drawer-tab"+e.id,onClick:o=>t.mindex=e.id},{default:m((()=>[y(s,{class:k(["font-13",t.mindex===e.id?"color-black font-weight":"color-gray"])},{default:m((()=>[b(w(e.title[t.lang]),1)])),_:2},1032,["class"])])),_:2},1032,["class","onClick"])))),128))])),_:1}),y(n,{class:"drawer-desc mt-10"},{default:m((()=>[y(n,{class:"drawer-desc-item",onClick:e[68]||(e[68]=e=>t.switchSort(0))},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl12")),1)])),_:1}),y(c,{src:t.sort[0].active,mode:"widthFix"},null,8,["src"])])),_:1}),y(n,{class:"drawer-desc-item"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl13")),1)])),_:1})])),_:1}),y(n,{class:"drawer-desc-item"},{default:m((()=>[y(s,{class:"font-12 color-gray"},{default:m((()=>[b(w(t.$t("contruct.pl14")),1)])),_:1})])),_:1})])),_:1}),y(lt,{class:"drawer-list","scroll-y":""},{default:m((()=>[(g(!0),F(T,null,I(t.currency,((e,o)=>(g(),F(T,{key:"sv"+o},[t.mindex===e.id?(g(),F(T,{key:0},[0===e.currency.length?(g(),h(n,{key:0,class:"drawer-list-not"},{default:m((()=>[y(at,{visible:!0,title:t.$t("list.not_data")},null,8,["title"])])),_:1})):(g(!0),F(T,{key:1},I(e.currency,((o,a)=>(g(),h(n,{class:"drawer-list-cell",key:"m"+a,onClick:a=>t.setCurrentCurrency(e,o)},{default:m((()=>[y(n,{class:"drawer-list-cell-item"},{default:m((()=>[y(s,{class:"font-14 color-black font-weight"},{default:m((()=>[b(w(o.symbol)+"/"+w(e.legal?e.legal.symbol:""),1)])),_:2},1024)])),_:2},1024),y(n,{class:"drawer-list-cell-item"},{default:m((()=>[y(s,{class:k([{price_up:o.change_rate>=0,price_down:o.change_rate<0},"font-13 font-weight"])},{default:m((()=>[b(w(t.$util.thousandSeparator(o.new_price,o.decimals)),1)])),_:2},1032,["class"])])),_:2},1024),y(n,{class:"drawer-list-cell-item"},{default:m((()=>[y(s,{class:k(["font-11 font-weight",{price_up:o.change_rate>=0,price_down:o.change_rate<0}])},{default:m((()=>[b(w(t.$util.thousandSeparator(o.change_rate,2))+"% ",1)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))],64)):v("",!0)],64)))),128))])),_:1})])),_:1},8,["style"])])),_:1},8,["width"]),y(yt,{ref:"alert",onConfirm:e[69]||(e[69]=e=>t.alertConfirm()),title:t.$t("login.tip_t2"),ctxt:"取消",content:t.content},null,8,["title","content"]),y(bt,{ref:"loading"},null,512)])),_:1},8,["data-theme"])}],["__scopeId","data-v-8c3fbe1f"]]);export{$t as default};
