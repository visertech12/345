import{m as t,a,b8 as e,i as l,b9 as s,g as o,q as r,t as i,w as n,u as c,v as f,x as d,y as u,z as h,A as g,E as w,B as _,C as m,F as b,D as p,H as x,J as v,S as y}from"./index-DJtkXLbk.js";import{_ as $}from"./fui-icon.Di2eQoC1.js";import{r as k}from"./uni-app.es.DnKBEGT2.js";import{_ as C}from"./fui-nav-bar.jzMwm7nO.js";import{_ as A}from"./fui-tabs.7FauFIrc.js";import{_ as H}from"./fui-empty.DSVpH_3j.js";import{_ as T}from"./fui-toast.Ddm5uvJW.js";import{_ as j}from"./_plugin-vue_export-helper.BCo6x5W8.js";const z=j({components:{fuiNavBar:C,fuiTabs:A,fuiToast:T},data(){return{navHeight:"",windowHeight:"",scrollHeight:"",maxU:150,maxB:10,uNum:.6,bibNum:8,tabOption:[this.$t("welfare.txt35"),this.$t("welfare.txt36")],tabCurrent:0,avaAmount:"--",completed:[],withlist:[]}},onShow(){this.getAvaAmount(),this.getList()},computed:{...t(["userinfo"]),...a(["isLogin","userAccount","userNickname","userTheme"])},methods:{withdraw(){if(parseFloat(this.avaAmount)<=150)return this.showToast(this.$t("welfare.txt32")+" 150.00 CBT"+this.$t("welfare.txt33"),1500),!1;e(),l.activeWithdraw().then((t=>{s(),200==t.code?(this.showToast(this.$t("welfare.suc"),1500),this.getAvaAmount()):this.showToast(t.message,1500)})).catch((t=>{s(),this.showToast(res.message,1500)}))},getList(){l.getCompletedList().then((t=>{this.completed=t.data.list,this.withlist=t.data.with}))},getAvaAmount(){l.getAvaAmount().then((t=>{this.avaAmount=t.data.amount}))},showToast(t,a){let e={};e.text=t,e.duration=a,this.$refs.toast.show(e)},navInit(t){console.log(t),this.getWindowHeight(),this.navHeight=t.height+t.statusBarHeight,this.scrollHeight=this.windowHeight-this.navHeight},getWindowHeight(){this.windowHeight=o().windowHeight},tabChange(t){this.tabCurrent=t.index},justTT(){console.log("79878979")}}},[["render",function(t,a,e,l,s,o){const j=k(r("fui-icon"),$),z=k(r("fui-nav-bar"),C),B=x,I=c,S=v,L=k(r("fui-tabs"),A),F=k(r("fui-empty"),H),N=y,W=k(r("fui-toast"),T);return f(),i(I,{class:"rewards bg-dark","data-theme":t.userTheme},{default:n((()=>[d(z,{title:t.$t("welfare.txt1"),background:"var(--white)",color:"var(--black)",onLeftClick:a[0]||(a[0]=a=>t.$mroute.back()),onInit:o.navInit},{default:n((()=>[d(j,{name:"arrowleft",size:"56",color:"var(--black)"})])),_:1},8,["title","onInit"]),d(N,{"scroll-y":"",class:"scroll-warp bg-dark",style:p({height:s.scrollHeight+"px"})},{default:n((()=>[d(I,{class:"card bg-linear-dark"},{default:n((()=>[d(I,{class:"cell"},{default:n((()=>[d(B,{class:"font-12 color-white font-weight"},{default:n((()=>[u(h(t.$t("welfare.txt4")),1)])),_:1})])),_:1}),1!=t.userinfo.authStatus?(f(),i(I,{key:0,class:"tag-cell bg-golden cell"},{default:n((()=>[d(I,{class:"left"},{default:n((()=>[d(j,{name:"info-fill",size:"30",color:"var(--color-text-golden)"},null,8,["color"]),d(B,{class:"font-11 color-golden ml-5"},{default:n((()=>[u(h(t.$t("welfare.txt13")),1)])),_:1})])),_:1}),d(I,{class:"right"},{default:n((()=>[d(B,{class:"font-11 color-white"},{default:n((()=>[u(h(t.$t("welfare.btn3")),1)])),_:1}),d(j,{name:"arrowright",size:"38",color:"var(--white)"},null,8,["color"])])),_:1})])),_:1})):g("",!0),d(I,{class:"cell"},{default:n((()=>[d(I,{class:"left"},{default:n((()=>[d(I,{class:"_item"},{default:n((()=>[d(B,{class:"mr-5 linear-golden font-16 font-weight"},{default:n((()=>[u(h(t.$util.thousandSeparator(s.avaAmount,2)),1)])),_:1}),d(B,{class:"mr-5 font-12 color-white"},{default:n((()=>[u("CBT")])),_:1})])),_:1}),d(I,{class:"_item mt-5"},{default:n((()=>[d(B,{class:"mr-5 font-11 color-gray"},{default:n((()=>[u(h(t.$t("welfare.txt32"))+" 150.00 CBT "+h(t.$t("welfare.txt33")),1)])),_:1})])),_:1})])),_:1}),d(I,{class:"right"},{default:n((()=>[d(S,{disabled:parseFloat(s.avaAmount)<150,onClick:o.withdraw,class:"button bg-linear-golden"},{default:n((()=>[d(B,{class:w(["font-13 font-weight",parseFloat(s.avaAmount)<150?"color-gray":"color-balck"])},{default:n((()=>[u(h(t.$t("welfare.txt34")),1)])),_:1},8,["class"])])),_:1},8,["disabled","onClick"])])),_:1})])),_:1})])),_:1}),d(I,{class:"rewards-list"},{default:n((()=>[d(I,{class:"rewards-tab"},{default:n((()=>[d(L,{size:"28",background:"#121417",color:"var(--color-text-dark-gray)",selectedColor:"#ffffff",isSlider:!1,height:"66",scale:"1",padding:"0",tabs:s.tabOption,scroll:"",alignLeft:"",onChange:o.tabChange},null,8,["tabs","onChange"])])),_:1}),0==s.tabCurrent?(f(),i(I,{key:0,class:"list-con"},{default:n((()=>[0==s.completed.length?(f(),i(I,{key:0,class:"not-date"},{default:n((()=>[d(F,{descrSize:"26",descrColor:"var(--color-text-dark-gray)",width:"200",height:"200",src:"/static/newImage/not-order.png",descr:t.$t("common.no_records")},null,8,["descr"])])),_:1})):g("",!0),(f(!0),_(b,null,m(s.completed,((a,e)=>(f(),i(I,{class:"cell",key:"c"+a.id},{default:n((()=>[d(I,{class:"_col"},{default:n((()=>[d(B,{class:"font-12 color-gray font-weight"},{default:n((()=>[u(h(t.$t("welfare.txt37")),1)])),_:1}),d(B,{class:"font-12 color-white font-weight mt-5"},{default:n((()=>[u(h(a.created_at),1)])),_:2},1024)])),_:2},1024),d(I,{class:"_col"},{default:n((()=>[d(B,{class:"font-12 color-gray font-weight"},{default:n((()=>[u(h(t.$t("welfare.txt38")),1)])),_:1}),d(B,{class:"font-12 color-white font-weight mt-5"},{default:n((()=>[u(h(a.title),1)])),_:2},1024)])),_:2},1024),d(I,{class:"_col"},{default:n((()=>[d(B,{class:"font-12 color-gray font-weight"},{default:n((()=>[u(h(t.$t("welfare.txt9")),1)])),_:1}),d(B,{class:"font-12 color-white font-weight mt-5"},{default:n((()=>[u(h(a.amount)+" CBT",1)])),_:2},1024)])),_:2},1024),d(I,{class:"_col"},{default:n((()=>[d(B,{class:"font-12 color-gray font-weight"},{default:n((()=>[u(h(t.$t("welfare.txt40")),1)])),_:1}),d(I,{class:"type mt-5"},{default:n((()=>[d(B,{class:"point bg-green"}),d(B,{class:"font-12 color-white font-weight"},{default:n((()=>[u(h(t.$t("welfare.txt43")),1)])),_:1})])),_:1})])),_:1})])),_:2},1024)))),128))])),_:1})):g("",!0),1==s.tabCurrent?(f(),i(I,{key:1,class:"list-con"},{default:n((()=>[0==s.withlist.length?(f(),i(I,{key:0,class:"not-date"},{default:n((()=>[d(F,{descrSize:"26",descrColor:"var(--color-text-dark-gray)",width:"200",height:"200",src:"/static/newImage/not-order.png",descr:t.$t("common.no_records")},null,8,["descr"])])),_:1})):g("",!0),s.withlist.length>0?(f(),i(I,{key:1,class:"cell"},{default:n((()=>[(f(!0),_(b,null,m(s.withlist,((a,e)=>(f(),_(b,{key:"w"+a.id},[d(I,{class:"_col"},{default:n((()=>[d(B,{class:"font-12 color-gray font-weight"},{default:n((()=>[u(h(t.$t("welfare.txt37")),1)])),_:1}),d(B,{class:"font-12 color-white font-weight mt-5"},{default:n((()=>[u(h(a.created_at),1)])),_:2},1024)])),_:2},1024),d(I,{class:"_col"},{default:n((()=>[d(B,{class:"font-12 color-gray font-weight"},{default:n((()=>[u(h(t.$t("welfare.txt38")),1)])),_:1}),d(B,{class:"font-12 color-white font-weight mt-5"},{default:n((()=>[u(h(t.$t("welfare.txt34")),1)])),_:1})])),_:1}),d(I,{class:"_col"},{default:n((()=>[d(B,{class:"font-12 color-gray font-weight"},{default:n((()=>[u(h(t.$t("welfare.txt9")),1)])),_:1}),d(B,{class:"font-12 color-white font-weight mt-5"},{default:n((()=>[u(h(t.$util.thousandSeparator(a.amount,2)),1)])),_:2},1024)])),_:2},1024),d(I,{class:"_col"},{default:n((()=>[d(B,{class:"font-12 color-gray font-weight"},{default:n((()=>[u(h(t.$t("welfare.txt40")),1)])),_:1}),d(I,{class:"type mt-5"},{default:n((()=>[d(B,{class:"point bg-green"}),d(B,{class:"font-12 color-white font-weight"},{default:n((()=>[u(h(t.$t("welfare.txt43")),1)])),_:1})])),_:1})])),_:1})],64)))),128))])),_:1})):g("",!0)])),_:1})):g("",!0)])),_:1})])),_:1},8,["style"]),d(W,{size:"26",background:"var(--mask-bakground-bg)",ref:"toast"},null,8,["background"])])),_:1},8,["data-theme"])}],["__scopeId","data-v-0481f1ae"]]);export{z as default};
