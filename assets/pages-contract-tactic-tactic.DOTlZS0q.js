import{a as t,$ as e,l as a,b0 as s,aW as l,q as i,aX as c,v as r,t as o,w as n,x as d,y as u,z as h,B as f,C as p,F as y,E as m,A as g,H as _,u as b,bl as x,G as $,S as w,J as v}from"./index-DJtkXLbk.js";import{_ as k}from"./fui-icon.Di2eQoC1.js";import{r as T}from"./uni-app.es.DnKBEGT2.js";import{_ as S}from"./fui-nav-bar.jzMwm7nO.js";import{s as C}from"./strategy.9h8T0Exh.js";import{_ as L}from"./fui-button.Bz1nWTaC.js";import{t as I,c as A}from"./createPolicy.GASneNz-.js";import{a as z,_ as D}from"./sc-s.BRuhyDXZ.js";import{_ as P}from"./check-select.DVgewoGK.js";import{_ as j}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as U}from"./fui-tabs.7FauFIrc.js";import{_ as N}from"./fui-tag.DcXe62xw.js";import{t as F}from"./terminationStrategy.Vr5jzMx3.js";import{_ as M}from"./l-painter.DZz8t2JY.js";import{_ as q}from"./fui-backdrop.DtCY6LSX.js";import"./fui-bottom-popup.D5yJPoCm.js";const B=j({name:"overview",components:{tacticPopup:I},computed:{...t(["userTheme"])},data:()=>({visible:!1,foundTabs:[],foundIndex:0,tabIndex:1,currencyType:0,balance:"0.00",profit24:"0.00",currency:[],currencyDesc:[],currencyAsc:[],contract:[],contractyDesc:[],contractyAsc:[],mList:[],showList:0,symbolIndex:0}),created(){this.getTotal(),this.getFt(),this.getTradeMatches(),this.getContractMatches(),this.getTradeSelect(),this.getContractSelect(),e("trades",(t=>{this.onTradeMessage(t)})),e("contract",(t=>{this.onContractMessage(t)}))},onShow(){1==a("load")&&(0==this.symbolIndex?this.getTradeSelect():this.getContractSelect(),s("load"))},methods:{async getTotal(){let t=await C.total();this.balance=t.data.balance,this.profit24=t.data.profit24},getFt(){this.foundTabs=[{title:this.$t("strategy.t45"),subMenu:[{imgName:"xhwg",title:this.$t("strategy.t15"),desc:this.$t("strategy.t46")},{imgName:"hywg",title:this.$t("strategy.t16"),desc:this.$t("strategy.t47")}]},{title:this.$t("strategy.t48"),subMenu:[{imgName:"xhwg",title:this.$t("strategy.t15")+"-"+this.$t("strategy.t19"),desc:this.$t("strategy.t46"),path:"/pages/contract/tactic/createPolicy/creation/creation?type_id=1"},{imgName:"hywg",title:this.$t("strategy.t16")+"-"+this.$t("strategy.t19"),desc:this.$t("strategy.t49"),path:"/pages/contract/tactic/createPolicy/creation/creation?type_id=2"}]},{title:this.$t("strategy.t50"),subMenu:[{imgName:"xhwg",title:this.$t("strategy.t15")+"-做多"+this.$t("strategy.t17"),desc:this.$t("strategy.t46"),path:"/pages/contract/tactic/createPolicy/creation/creation?type_id=1"},{imgName:"hywg",title:this.$t("strategy.t16")+"-做多"+this.$t("strategy.t17"),desc:this.$t("strategy.t46"),path:"/pages/contract/tactic/createPolicy/creation/creation?type_id=2"}]},{title:this.$t("strategy.t51"),subMenu:[{imgName:"xhwg",title:this.$t("strategy.t15")+"-"+this.$t("strategy.t18"),desc:this.$t("strategy.t46"),path:"/pages/contract/tactic/createPolicy/creation/creation?type_id=1"},{imgName:"hywg",title:this.$t("strategy.t16")+"-"+this.$t("strategy.t18"),desc:this.$t("strategy.t46"),path:"/pages/contract/tactic/createPolicy/creation/creation?type_id=2"}]}]},onContractMessage(t){200==t.type&&(this.contract.length>0&&(this.contract=this.$util.compareCurrency(this.contract,t.data.data)),1==this.symbolIndex&&this.mList.length>0&&(this.mList=this.$util.compareCurrency(this.mList,t.data.data)))},onTradeMessage(t){if(100!=t.type)return!1;if(0==this.active&&0==this.symbolIndex)try{this.mList=this.$util.compareCurrency(this.mList,t.data),this.$forceUpdate()}catch(e){console.log(e)}if(1==this.active)try{this.currency=this.$util.compareCurrency(this.currency,t.data),this.$forceUpdate()}catch(e){console.log(e)}},async getContractMatches(){let t=a("contract-matches");""!=t&&void 0!==t||(console.log("reload"),t=await currencyApi.contractCurrencyList(),l("contract-matches",t.data),t=t.data),this.contract=t[0].currency,this.contractDesc=this.$util.sortDesc(this.contract),this.contractAsc=this.$util.sortAsc(this.contract),console.log(this.contractDesc,this.contractAsc)},async getTradeMatches(){let t=a("trade-currency");""!=t&&void 0!==t||(t=await currencyApi.tradeCurrencyList(),l("trade-currency",t.data),t=t.data),this.currency=t[0].currency,this.currencyDesc=this.$util.sortDesc(this.currency),this.currencyAsc=this.$util.sortAsc(this.currency)},getContractSelect(){var t=a("select-contract");void 0!==t&&t.length>0?(this.showList=1,this.mList=t):(this.showList=0,this.mList=[])},getTradeSelect(){var t=a("select-trade");void 0!==t&&t.length>0?(this.showList=1,this.mList=t):(this.showList=0,this.mList=[])}}},[["render",function(t,e,a,s,l,w){const v=_,S=T(i("fui-icon"),k),C=b,I=x,A=$,j=T(i("fui-button"),L),U=c("tactic-popup");return r(),o(C,{class:"overview","data-theme":t.userTheme},{default:n((()=>[d(C,{class:"overview-header"},{default:n((()=>[d(C,{class:"overview-header-left"},{default:n((()=>[d(C,{class:"row"},{default:n((()=>[d(v,{class:"font-12 color-gray mr-5"},{default:n((()=>[u(h(t.$t("strategy.t3")),1)])),_:1}),d(S,{name:"visible",size:"32",color:"var(--text-gray)"})])),_:1}),d(C,{class:"row"},{default:n((()=>[d(v,{class:"font-24 color-black font-bold"},{default:n((()=>[u(h(t.$util.thousandSeparator(l.balance)),1)])),_:1})])),_:1}),d(C,{class:"row"},{default:n((()=>[d(v,{class:"font-12 color-black"},{default:n((()=>[u(h(t.$util.thousandSeparator(l.profit24)),1)])),_:1}),d(v,{class:"font-12 color-gray"},{default:n((()=>[u("("+h(t.$t("strategy.t4"))+")",1)])),_:1})])),_:1})])),_:1}),d(C,{class:"overview-header-right"},{default:n((()=>[d(I)])),_:1})])),_:1}),d(C,{class:"found-box"},{default:n((()=>[d(C,{class:"title-box"},{default:n((()=>[d(v,{class:"font-16 color-black font-bold"},{default:n((()=>[u(h(t.$t("strategy.t5")),1)])),_:1}),d(v,{class:"font-12 color-gray",onClick:e[0]||(e[0]=t=>l.visible=!0)},{default:n((()=>[u(h(t.$t("strategy.t6"))+" ",1),d(S,{name:"arrowright",size:"24",color:"var(--text-gray)"})])),_:1})])),_:1}),d(C,{class:"mine-tabs"},{default:n((()=>[(r(!0),f(y,null,p(l.foundTabs,((t,e)=>(r(),o(C,{class:m(["item",{"item-active":l.foundIndex===e}]),key:e,onClick:t=>l.foundIndex=e},{default:n((()=>[d(v,null,{default:n((()=>[u(h(t.title),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),d(C,{class:"menu-card"},{default:n((()=>[(r(!0),f(y,null,p(l.foundTabs[this.foundIndex].subMenu,(e=>(r(),o(C,{class:"item",onClick:a=>t.$util.toPage(e.path)},{default:n((()=>[d(C,{class:"item-top"},{default:n((()=>[d(A,{src:`/static/img/tactic/${e.imgName}-${t.userTheme}.webp`},null,8,["src"]),d(v,{class:"font-12 color-black"},{default:n((()=>[u(h(e.title),1)])),_:2},1024)])),_:2},1024),d(v,{class:"font-12 color-gray"},{default:n((()=>[u(h(e.desc),1)])),_:2},1024)])),_:2},1032,["onClick"])))),256))])),_:1})])),_:1}),d(C,{class:"currency-recommendation"},{default:n((()=>[d(C,{class:"title"},{default:n((()=>[d(v,{class:"font-16 color-black font-bold"},{default:n((()=>[u(h(t.$t("strategy.t7")),1)])),_:1})])),_:1}),d(C,{class:"tab-box"},{default:n((()=>[d(C,{class:"tab-box-top"},{default:n((()=>[d(C,{class:"item",type:"image",onClick:e[1]||(e[1]=t=>l.tabIndex=0)},{default:n((()=>[0===l.tabIndex?(r(),o(A,{key:0,src:z})):(r(),o(A,{key:1,src:D}))])),_:1}),d(C,{class:m(["item",{"item-active":1===l.tabIndex}]),onClick:e[2]||(e[2]=t=>l.tabIndex=1)},{default:n((()=>[d(v,null,{default:n((()=>[u(h(t.$t("strategy.t8")),1)])),_:1})])),_:1},8,["class"]),d(C,{class:m(["item",{"item-active":2===l.tabIndex}]),onClick:e[3]||(e[3]=t=>l.tabIndex=2)},{default:n((()=>[d(v,null,{default:n((()=>[u(h(t.$t("strategy.t9")),1)])),_:1})])),_:1},8,["class"])])),_:1}),d(C,{class:"tab-box-bottom mine-tabs"},{default:n((()=>[d(C,{class:m(["item",{"item-active":0===l.currencyType}]),onClick:e[4]||(e[4]=t=>{l.currencyType=0,w.getContractSelect()})},{default:n((()=>[d(v,null,{default:n((()=>[u(h(t.$t("strategy.t10")),1)])),_:1})])),_:1},8,["class"]),d(C,{class:m(["item",{"item-active":1===l.currencyType}]),onClick:e[5]||(e[5]=t=>{l.currencyType=1,w.getTradeSelect()})},{default:n((()=>[d(v,null,{default:n((()=>[u(h(t.$t("strategy.t11")),1)])),_:1})])),_:1},8,["class"])])),_:1})])),_:1}),d(C,{class:"currency-list"},{default:n((()=>[0!==l.tabIndex?(r(),o(C,{key:0,class:"currency-list-top"},{default:n((()=>[d(C,{class:"item"},{default:n((()=>[d(v,null,{default:n((()=>[u(h(t.$t("strategy.t12")),1)])),_:1})])),_:1}),d(C,{class:"item"},{default:n((()=>[d(v,null,{default:n((()=>[u(h(t.$t("strategy.t13")),1)])),_:1})])),_:1}),d(C,{class:"item"},{default:n((()=>[d(v,null,{default:n((()=>[u(h(t.$t("strategy.t14")),1)])),_:1})])),_:1})])),_:1})):g("",!0),0===l.tabIndex?(r(),f(y,{key:1},[l.showList?(r(),o(C,{key:0,class:"currency-list-container"},{default:n((()=>[(r(!0),f(y,null,p(l.mList,((e,a)=>(r(),o(C,{class:"cell"},{default:n((()=>[d(C,{class:"cell-item"},{default:n((()=>[d(v,{class:"color-black"},{default:n((()=>[u(h(e.symbol),1),1===l.currencyType?(r(),o(v,{key:0},{default:n((()=>[u("/USDT")])),_:1})):(r(),f(y,{key:1},[u("USDT")],64))])),_:2},1024),d(v,{class:"color-gray"},{default:n((()=>[u(h(t.$t("成交额"))+" "+h(t.$util.bigNumberToString(e.quota)),1)])),_:2},1024)])),_:2},1024),d(C,{class:"cell-item"},{default:n((()=>[e.change>0?(r(),o(v,{key:0,class:"color-primary"},{default:n((()=>[u(h(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)):(r(),o(v,{key:1,class:"price_down"},{default:n((()=>[u(h(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)),d(v,null,{default:n((()=>[u("≈¥ "+h(t.$util.thousandSeparator(7.1*e.new_price)),1)])),_:2},1024)])),_:2},1024),d(C,{class:"cell-item"},{default:n((()=>[d(v,null,{default:n((()=>[u(h(t.$util.thousandSeparator(e.change)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:1})):(r(),o(C,{key:1,class:"currency-list-card"},{default:n((()=>[0===l.currencyType?(r(!0),f(y,{key:0},p(l.contract,((e,a)=>(r(),o(C,{class:"card-item"},{default:n((()=>[d(C,{class:"card-item-left"},{default:n((()=>[d(v,null,{default:n((()=>[u(h(e.symbol)+"USDT ",1)])),_:2},1024),d(v,null,{default:n((()=>[u(h(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024),e.change_rate>0?(r(),o(v,{key:0,class:"color-primar"},{default:n((()=>[u(" +"+h(e.change_rate)+"% ",1)])),_:2},1024)):(r(),o(v,{key:1,class:"price_down"},{default:n((()=>[u(h(e.change_rate)+"% ",1)])),_:2},1024))])),_:2},1024),d(C,{class:"check-box"},{default:n((()=>[d(A,{src:P})])),_:1})])),_:2},1024)))),256)):g("",!0),1===l.currencyType?(r(!0),f(y,{key:1},p(l.currency,((e,a)=>(r(),o(C,{class:"card-item"},{default:n((()=>[d(C,{class:"card-item-left"},{default:n((()=>[d(v,null,{default:n((()=>[u(h(e.symbol)+" ",1),d(v,null,{default:n((()=>[u("/USDT")])),_:1})])),_:2},1024),d(v,null,{default:n((()=>[u(h(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024),e.change_rate>0?(r(),o(v,{key:0,class:"color-primar"},{default:n((()=>[u(" +"+h(e.change_rate)+"% ",1)])),_:2},1024)):(r(),o(v,{key:1,class:"price_down"},{default:n((()=>[u(h(e.change_rate)+"% ",1)])),_:2},1024))])),_:2},1024),d(C,{class:"check-box"},{default:n((()=>[d(A,{src:P})])),_:1})])),_:2},1024)))),256)):g("",!0)])),_:1})),l.showList?g("",!0):(r(),o(C,{key:2,class:"add-button"},{default:n((()=>[d(j,{background:"var(--text-black)",color:"var(--white)",radius:"78rpx",width:"80%",height:"78rpx",size:"24"},{default:n((()=>[u(h(t.$t("strategy.t52")),1)])),_:1})])),_:1}))],64)):g("",!0),1===l.tabIndex?(r(),f(y,{key:2},[0===l.currencyType?(r(),o(C,{key:0,class:"currency-list-container"},{default:n((()=>[(r(!0),f(y,null,p(t.contractDesc,((e,a)=>(r(),o(C,{class:"cell"},{default:n((()=>[d(C,{class:"cell-item"},{default:n((()=>[d(v,{class:"color-black"},{default:n((()=>[u(h(e.symbol)+"USDT",1)])),_:2},1024),d(v,{class:"color-gray"},{default:n((()=>[u(h(t.$t("成交额"))+" "+h(t.$util.bigNumberToString(e.quota)),1)])),_:2},1024)])),_:2},1024),d(C,{class:"cell-item"},{default:n((()=>[e.change>0?(r(),o(v,{key:0,class:"color-primary"},{default:n((()=>[u(h(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)):(r(),o(v,{key:1,class:"price_down"},{default:n((()=>[u(h(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)),d(v,null,{default:n((()=>[u("≈¥ "+h(t.$util.thousandSeparator(7.1*e.new_price)),1)])),_:2},1024)])),_:2},1024),d(C,{class:"cell-item"},{default:n((()=>[d(v,null,{default:n((()=>[u(h(t.$util.thousandSeparator(e.change)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:1})):g("",!0),1===l.currencyType?(r(),o(C,{key:1,class:"currency-list-container"},{default:n((()=>[(r(!0),f(y,null,p(l.currencyDesc,((e,a)=>(r(),o(C,{class:"cell"},{default:n((()=>[d(C,{class:"cell-item"},{default:n((()=>[d(v,{class:"color-black"},{default:n((()=>[u(h(e.symbol)+" ",1),d(v,null,{default:n((()=>[u("/USDT")])),_:1})])),_:2},1024),d(v,{class:"color-gray"},{default:n((()=>[u(h(t.$t("成交额"))+" "+h(t.$util.bigNumberToString(e.quota)),1)])),_:2},1024)])),_:2},1024),d(C,{class:"cell-item"},{default:n((()=>[e.change>0?(r(),o(v,{key:0,class:"color-primary"},{default:n((()=>[u(h(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)):(r(),o(v,{key:1,class:"price_down"},{default:n((()=>[u(h(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)),d(v,null,{default:n((()=>[u("≈¥ "+h(t.$util.thousandSeparator(7.1*e.new_price)),1)])),_:2},1024)])),_:2},1024),d(C,{class:"cell-item"},{default:n((()=>[d(v,null,{default:n((()=>[u(h(t.$util.thousandSeparator(e.change)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:1})):g("",!0)],64)):g("",!0),2===l.tabIndex?(r(),f(y,{key:3},[0===l.currencyType?(r(),o(C,{key:0,class:"currency-list-container"},{default:n((()=>[(r(!0),f(y,null,p(t.contractAsc,((e,a)=>(r(),o(C,{class:"cell"},{default:n((()=>[d(C,{class:"cell-item"},{default:n((()=>[d(v,{class:"color-black"},{default:n((()=>[u(h(e.symbol)+"USDT",1)])),_:2},1024),d(v,{class:"color-gray"},{default:n((()=>[u(h(t.$t("成交额"))+" "+h(t.$util.bigNumberToString(e.quota)),1)])),_:2},1024)])),_:2},1024),d(C,{class:"cell-item"},{default:n((()=>[e.change>0?(r(),o(v,{key:0,class:"color-primary"},{default:n((()=>[u(h(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)):(r(),o(v,{key:1,class:"price_down"},{default:n((()=>[u(h(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)),d(v,null,{default:n((()=>[u("≈¥ "+h(t.$util.thousandSeparator(7.1*e.new_price)),1)])),_:2},1024)])),_:2},1024),d(C,{class:"cell-item"},{default:n((()=>[d(v,null,{default:n((()=>[u(h(t.$util.thousandSeparator(e.change)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:1})):g("",!0),1===l.currencyType?(r(),o(C,{key:1,class:"currency-list-container"},{default:n((()=>[(r(!0),f(y,null,p(l.currencyAsc,((e,a)=>(r(),o(C,{class:"cell"},{default:n((()=>[d(C,{class:"cell-item"},{default:n((()=>[d(v,{class:"color-black"},{default:n((()=>[u(h(e.symbol)+" ",1),d(v,null,{default:n((()=>[u("/USDT")])),_:1})])),_:2},1024),d(v,{class:"color-gray"},{default:n((()=>[u(h(t.$t("成交额"))+" "+h(t.$util.bigNumberToString(e.quota)),1)])),_:2},1024)])),_:2},1024),d(C,{class:"cell-item"},{default:n((()=>[e.change>0?(r(),o(v,{key:0,class:"color-primary"},{default:n((()=>[u(h(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)):(r(),o(v,{key:1,class:"price_down"},{default:n((()=>[u(h(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)),d(v,null,{default:n((()=>[u("≈¥ "+h(t.$util.thousandSeparator(7.1*e.new_price)),1)])),_:2},1024)])),_:2},1024),d(C,{class:"cell-item"},{default:n((()=>[d(v,null,{default:n((()=>[u(h(t.$util.thousandSeparator(e.change)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:1})):g("",!0)],64)):g("",!0)])),_:1})])),_:1}),d(U,{visible:l.visible,onClose:e[6]||(e[6]=t=>l.visible=!1)},null,8,["visible"])])),_:1},8,["data-theme"])}],["__scopeId","data-v-99db8aef"]]);const W=j({name:"tacticShare",props:{visible:{default:!1,type:Boolean},item:{default:{},type:Object}},created(){this.setPoster()},watch:{visible(t){1==t&&this.setPoster()}},methods:{copyLink(){},async setPoster(){const t=(await C.getInviteCode()).data.invite_code;setTimeout((()=>{var e={css:{background:"#161819",width:"540rpx",height:"740rpx",overflow:"hidden",position:"relative",borderRadius:"16rpx"},views:[{type:"image",src:"/static/img/tactic/tactic-share-bg.png",css:{width:"100%",height:"100%",position:"absolute",top:"0",left:"0",borderRadius:"16rpx"}},{type:"view",css:{width:"100%",height:"83%",position:"absolute",top:"0",left:"0"},views:[{type:"image",src:"/static/home/cvlogo.png",css:{width:"100rpx",height:"50rpx",marginLeft:"30rpx",marginTop:"30rpx"}},{type:"text",text:this.item.current_date,css:{width:"100%",textAlign:"left",lineClamp:1,color:"#898989",marginLeft:"30rpx",marginTop:"10rpx"}},{type:"text",text:1==this.item.type_id?this.$t("strategy.t15"):this.$t("strategy.t16"),css:{width:"100%",textAlign:"left",lineClamp:1,fontSize:"24rpx",color:"#898989",marginLeft:"30rpx",marginTop:"80rpx"}},{type:"text",text:this.item.currency?this.item.currency.symbol:"",css:{width:"100%",textAlign:"left",lineClamp:1,color:"#ffffff",fontSize:"32rpx",fontWeight:"bold",marginLeft:"30rpx",marginTop:"20rpx"}},{type:"text",text:this.$t("strategy.t72"),css:{width:"100%",textAlign:"left",fontSize:"24rpx",lineClamp:1,color:"#898989",marginLeft:"30rpx",marginTop:"20rpx"}},{type:"text",text:this.item.rate+"%",css:{width:"100%",textAlign:"left",lineClamp:1,color:"#ffffff",fontSize:"48rpx",fontWeight:"bold",marginLeft:"30rpx",marginTop:"20rpx"}},{type:"view",css:{width:"100%",marginTop:"30rpx"},views:[{type:"text",text:this.$t("strategy.t54"),css:{textAlign:"left",fontSize:"24rpx",lineClamp:1,color:"#898989",marginLeft:"30rpx"}},{type:"text",text:this.item.rate+"%",css:{textAlign:"left",fontSize:"24rpx",fontWeight:"bold",lineClamp:1,color:"#ffffff",marginLeft:"30rpx"}}]},{type:"view",css:{width:"100%",marginTop:"30rpx"},views:[{type:"text",text:this.$t("strategy.t27"),css:{textAlign:"left",fontSize:"24rpx",lineClamp:1,color:"#898989",marginLeft:"30rpx"}},{type:"text",text:this.item.run_time,css:{textAlign:"left",fontSize:"24rpx",fontWeight:"bold",lineClamp:1,color:"#ffffff",marginLeft:"30rpx"}}]}]},{type:"view",css:{width:"100%",height:"17%",position:"absolute",bottom:"0",left:"0"},views:[{type:"text",text:this.$t("strategy.t73")+"："+t,css:{width:"50%",height:"100%",paddingLeft:"30rpx",boxSizing:"border-box",fontSize:"26rpx",fontWeight:"bold",color:"#ffffff"}},{type:"view",css:{width:"88rpx",height:"88rpx",background:"#ffffff",position:"absolute",bottom:"20rpx",right:"20rpx",borderRadius:"8rpx"},views:[{type:"image",src:"/static/img/blogo.png",css:{width:"78rpx",height:"78rpx",background:"red",marginTop:"5rpx",marginLeft:"5rpx"}}]}]}]};this.$refs.dpainter.render(e)}),100)},savePoster(){this.$refs.dpainter.canvasToTempFilePathSync({fileType:"jpg",pathType:"url",quality:1,success:t=>{console.log(t.tempFilePath),window.location.href=t.tempFilePath}})},handClose(){this.$emit("close",!1)}}},[["render",function(t,e,a,s,l,c){const f=T(i("l-painter"),M),p=b,y=$,m=_,g=T(i("fui-backdrop"),q);return r(),o(g,{show:a.visible,closable:!1,zIndex:1e3,onClick:c.handClose},{default:n((()=>[d(p,{class:"share-warp"},{default:n((()=>[d(p,{class:"share-top"},{default:n((()=>[d(p,{class:"canvas-box"},{default:n((()=>[d(f,{ref:"dpainter",hidpi:!0,hybrid:"",isCanvasToTempFilePath:"","pixel-ratio":2},null,512)])),_:1})])),_:1}),d(p,{class:"share-footer"},{default:n((()=>[d(p,{class:"toggle-group"},{default:n((()=>[d(p,{class:"item",onClick:c.copyLink},{default:n((()=>[d(p,{class:"image-box"},{default:n((()=>[d(y,{src:`/static/img/tactic/share-link-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"])])),_:1}),d(m,null,{default:n((()=>[u(h(t.$t("strategy.t70")),1)])),_:1})])),_:1},8,["onClick"]),d(p,{class:"item",onClick:c.savePoster},{default:n((()=>[d(p,{class:"image-box"},{default:n((()=>[d(y,{src:`/static/img/tactic/share-down-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"])])),_:1}),d(m,null,{default:n((()=>[u(h(t.$t("strategy.t71")),1)])),_:1})])),_:1},8,["onClick"]),d(p,{class:"item"},{default:n((()=>[d(p,{class:"image-box"},{default:n((()=>[d(y,{src:`/static/img/tactic/share-more-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"])])),_:1}),d(m,null,{default:n((()=>[u(h(t.$t("更多")),1)])),_:1})])),_:1})])),_:1}),d(p,{class:"cancel",onClick:c.handClose},{default:n((()=>[d(m,null,{default:n((()=>[u(h(t.$t("取消")),1)])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["show","onClick"])}],["__scopeId","data-v-5d8dedc3"]]);const H=j({components:{overView:B,createPolicy:A,myStrategy:j({name:"myStrategy",computed:{...t(["userTheme"])},components:{terminationStrategy:F,tacticShare:W},data(){return{visible:!1,coin:[],tabs:[this.$t("strategy.t29"),this.$t("strategy.t30")],mineTabs:[],shareShow:!1,list:[],tabsIdx:0,mineTabsSelectIdx:0,type_ids:[],item:{},shareItem:{}}},created(){this.getType(),e("stopStrategy",(t=>{this.getList(),this.visible=!1}))},methods:{async getType(){let t=a("strategyType");if(!t){t=(await C.type()).data}let e=[];t.level1.map((t=>{e.push(t.name),this.type_ids.push(t.id)})),t.level2.map((t=>{e.push(t.name),this.type_ids.push(t.id)})),this.mineTabs=e,this.getList()},async getList(){let t=this.type_ids[this.mineTabsSelectIdx],e=1==this.tabsIdx?2:0,a=await C.getList(t,e);this.list=a.data.list},tabsSelect(t){this.tabsIdx=t.index,this.getList()},mineTabsSelect(t){this.mineTabsSelectIdx=t.index,this.getList()},stop(t){this.item=t,this.visible=!0}}},[["render",function(t,e,a,s,l,m){const g=T(i("fui-tabs"),U),x=T(i("fui-icon"),k),S=b,C=_,L=T(i("fui-tag"),N),I=v,A=$,z=w,D=c("termination-strategy"),P=c("tactic-share");return r(),o(S,{class:"myStrategy","data-theme":t.userTheme},{default:n((()=>[d(g,{tabs:l.tabs,height:88,alignLeft:"",scroll:"",size:28,scale:1,selectedSize:28,short:!1,onChange:m.tabsSelect,color:"var(--content-tertiary)",selectedColor:"var(--content-primary)",sliderBackground:"var(--content-primary)",background:"var(--background-primary)"},null,8,["tabs","onChange"]),d(S,{class:"mine-tag-box"},{default:n((()=>[d(g,{tabs:l.mineTabs,height:68,size:20,scale:1,selectedSize:20,isSlider:!1,onChange:m.mineTabsSelect,color:"var(--content-tertiary)",selectedColor:"var(--content-primary)",sliderBackground:"var(--content-primary)",background:"var(--background-primary)",alignLeft:"",scroll:""},null,8,["tabs","onChange"]),d(S,{class:"icon-box"},{default:n((()=>[d(x,{name:"screen",size:"30",color:"var(--content-tertiary)"})])),_:1})])),_:1}),d(S,{class:"list-warp"},{default:n((()=>[d(z,{"scroll-y":"true",class:"tactic-list"},{default:n((()=>[(r(!0),f(y,null,p(l.list,((e,a)=>(r(),o(S,{class:"tactic-list-item"},{default:n((()=>[d(S,{class:"head"},{default:n((()=>[d(S,{class:"row"},{default:n((()=>[d(C,{class:"coin"},{default:n((()=>[u(h(e.currency.symbol)+"/USDT",1)])),_:2},1024),d(S,{class:"row-right"},{default:n((()=>[d(C,{class:"color-black font-12"},{default:n((()=>[u(h(e.new_price),1)])),_:2},1024),d(C,{class:"color-primary font-12"},{default:n((()=>[u(h(e.change_rate)+"%",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),d(S,{class:"row"},{default:n((()=>[d(S,{class:"row-left"},{default:n((()=>[d(L,{text:1==e.type_id?t.$t("strategy.t15"):t.$t("strategy.t16"),size:"20",color:"var(--content-tertiary)",background:"var(--background-gray)"},null,8,["text"]),d(L,{text:1==e.direction?t.$t("strategy.t17"):2==e.direction?t.$t("strategy.t18"):t.$t("strategy.t19"),size:"20",color:"var(--text-green)",background:"var(--light-green)"},null,8,["text"])])),_:2},1024)])),_:2},1024)])),_:2},1024),d(S,{class:"content-box"},{default:n((()=>[d(S,{class:"item"},{default:n((()=>[d(C,null,{default:n((()=>[u(h(t.$t("strategy.t20")),1)])),_:1}),d(C,{class:"color-primary"},{default:n((()=>[u(h(e.profit)+" USDT",1)])),_:2},1024)])),_:2},1024),d(S,{class:"item"},{default:n((()=>[d(C,null,{default:n((()=>[u(h(t.$t("strategy.t21")),1)])),_:1}),d(C,{class:"color-primary"},{default:n((()=>[u(h(e.rate)+"%",1)])),_:2},1024)])),_:2},1024),d(S,{class:"item"},{default:n((()=>[d(C,null,{default:n((()=>[u(h(t.$t("strategy.t22")),1)])),_:1}),d(C,{class:"color-black"},{default:n((()=>[u(h(e.amount)+" USDT",1)])),_:2},1024)])),_:2},1024),d(S,{class:"item"},{default:n((()=>[d(C,null,{default:n((()=>[u(h(t.$t("strategy.t23")),1)])),_:1}),d(C,{class:"color-black"},{default:n((()=>[u(h(e.pairedProfit)+" USDT",1)])),_:2},1024)])),_:2},1024),d(S,{class:"item"},{default:n((()=>[d(C,null,{default:n((()=>[u(h(t.$t("strategy.t24")),1)])),_:1}),d(C,{class:"color-black"},{default:n((()=>[u(h(e.profit)+" USDT",1)])),_:2},1024)])),_:2},1024),d(S,{class:"item"},{default:n((()=>[d(C,null,{default:n((()=>[u(h(t.$t("strategy.t25")),1)])),_:1}),d(C,{class:"color-black"},{default:n((()=>[u("--/--")])),_:1})])),_:1}),d(S,{class:"item"},{default:n((()=>[d(C,null,{default:n((()=>[u(h(t.$t("strategy.t26")),1)])),_:1}),d(C,{class:"color-black"},{default:n((()=>[u(h(e.created_at),1)])),_:2},1024)])),_:2},1024),d(S,{class:"item"},{default:n((()=>[d(C,null,{default:n((()=>[u(h(t.$t("strategy.t27")),1)])),_:1}),d(C,{class:"color-black"},{default:n((()=>[u(h(e.run_time),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),d(S,{class:"footer"},{default:n((()=>[2==e.status?(r(),o(I,{key:0,class:"button"},{default:n((()=>[u(h(t.$t("strategy.t31")),1)])),_:1})):(r(),o(I,{key:1,class:"button",onClick:t=>m.stop(e)},{default:n((()=>[u(h(t.$t("strategy.t32")),1)])),_:2},1032,["onClick"])),d(I,{class:"button",onClick:a=>t.$mroute.policyDetails(e.id,e.type_id)},{default:n((()=>[u(h(t.$t("strategy.t28")),1)])),_:2},1032,["onClick"]),d(S,{class:"share-box",onClick:t=>{l.shareItem=e,l.shareShow=!0}},{default:n((()=>[d(A,{src:`/static/img/tactic/share-${t.userTheme}.png`},null,8,["src"])])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1}),d(D,{item:l.item,visible:l.visible,onClose:e[0]||(e[0]=t=>l.visible=!1)},null,8,["item","visible"]),d(P,{visible:l.shareShow,onClose:e[1]||(e[1]=t=>l.shareShow=!1),item:l.shareItem},null,8,["visible","item"])])),_:1},8,["data-theme"])}],["__scopeId","data-v-003fa3fd"]]),tacticPopup:I},computed:{...t(["userTheme"])},onLoad(t){t.barActive?this.barActive=parseInt(t.barActive):this.visible=!1},onShow(){this.getType()},data(){return{navHeight:"",navTitle:this.$t("strategy.t41"),footerBar:[{src:"zl-n.webp",selected_light:"zl-s-light.webp",selected_dark:"zl-s-dark.webp",text:this.$t("strategy.t44")},{src:"cjcl-n.webp",selected_light:"cjcl-s-light.webp",selected_dark:"cjcl-s-dark.webp",text:this.$t("strategy.t42")},{src:"wdcl-n.webp",selected_light:"wdcl-s-light.webp",selected_dark:"wdcl-s-dark.webp",text:this.$t("strategy.t43")}],barActive:0,visible:!1}},watch:{barActive(t){switch(t){case 0:this.navTitle=this.$t("strategy.t41");break;case 1:this.navTitle=this.$t("strategy.t42");break;case 2:this.navTitle=this.$t("strategy.t43")}}},methods:{navInit(t){this.navHeight=t.height+t.statusBarHeight},async getType(){let t=await C.type();l("strategyType",t.data)}}},[["render",function(t,e,a,s,l,x){const w=T(i("fui-icon"),k),v=T(i("fui-nav-bar"),S),C=c("over-view"),L=c("create-policy"),I=c("my-strategy"),A=b,z=$,D=_,P=c("tactic-popup");return r(),o(A,{class:"tactic-warp","data-theme":t.userTheme},{default:n((()=>[d(v,{isFixed:"",isOccupy:"",zIndex:"9",title:l.navTitle,background:"var(--background-primary)",color:"var(--content-primary)",onInit:x.navInit,onLeftClick:e[0]||(e[0]=e=>t.$mroute.back())},{default:n((()=>[d(w,{name:"arrowleft",size:"56",color:"var(--content-primary)"})])),_:1},8,["title","onInit"]),d(A,{class:"tactic-container"},{default:n((()=>[0===l.barActive?(r(),o(C,{key:0})):g("",!0),1===l.barActive?(r(),o(L,{key:1})):g("",!0),2===l.barActive?(r(),o(I,{key:2})):g("",!0)])),_:1}),d(A,{class:"footer-bar"},{default:n((()=>[(r(!0),f(y,null,p(l.footerBar,((e,a)=>(r(),o(A,{class:m(["bar-item",{"bar-active":l.barActive===a}]),key:a,onClick:t=>l.barActive=a},{default:n((()=>[l.barActive!=a?(r(),o(z,{key:0,src:`/static/img/tactic/${e.src}`,mode:"widthFix"},null,8,["src"])):(r(),o(z,{key:1,src:`/static/img/tactic/${"light"==t.userTheme?e.selected_light:e.selected_dark}`,mode:"widthFix"},null,8,["src"])),d(D,null,{default:n((()=>[u(h(e.text),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),d(P,{visible:l.visible,onClose:e[1]||(e[1]=t=>l.visible=!1)},null,8,["visible"])])),_:1},8,["data-theme"])}],["__scopeId","data-v-2c12a8d8"]]);export{H as default};
