import{_ as t}from"./fui-icon.Di2eQoC1.js";import{Y as r,a1 as a,a4 as s,as as l,x as i,c0 as o,bE as n,_ as c,c1 as u,R as d,a8 as f,aj as h,ag as p,N as m,af as g,v as y,t as _,w,D as b,E as v,y as x,z as k,A as C,u as $,H as S,bB as I,B as D,C as T,F as L,bt as A,I as H,l as O,$ as j,a as B,aW as N,g as U,q as z,G as P,S as M,b5 as F}from"./index-DJtkXLbk.js";import{r as V}from"./uni-app.es.DnKBEGT2.js";import{_ as R}from"./fui-nav-bar.jzMwm7nO.js";import{_ as E}from"./fui-tabs.7FauFIrc.js";import{_ as W}from"./fui-empty.DSVpH_3j.js";import{_ as J}from"./fui-tag.DcXe62xw.js";import{_ as Q}from"./fui-count-down.BD5FihtJ.js";import{_ as q}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as K}from"./fui-button.Bz1nWTaC.js";import{_ as X}from"./fui-dropdown-menu.DQYFSUGe.js";import{_ as G}from"./fui-bottom-popup.D5yJPoCm.js";import{_ as Y}from"./uni-popup.CzvQehha.js";import{_ as Z}from"./alert.Dea_H56C.js";import{_ as tt}from"./loading.4tTz4-j4.js";import{_ as et}from"./uni-drawer.DSCPgCf7.js";import"./lightweight-charts.production.BDItWdTS.js";import{c as rt}from"./currency.DmkscNLR.js";import{u as at}from"./user.Bg4aheva.js";import{t as st}from"./timeIndex.BC1hOYxu.js";import{N as lt}from"./index.BDukOuvF.js";import{_ as it}from"./close2.C034bFwK.js";import{i as ot,c as nt}from"./chartStyle.DwGlLXFK.js";import"./uni-popup-dialog.BcHbARwi.js";import"./fui-loading.PBeNzzTK.js";const ct={figureArr:o(),delay:Number,duration:n(2),isStart:Boolean,direction:c("down"),height:n(40)},[ut,dt]=r("rolling-text-item");var ft=a({name:ut,props:ct,setup(t){const e=s((()=>"down"===t.direction?t.figureArr.slice().reverse():t.figureArr)),r=s((()=>`-${t.height*(t.figureArr.length-1)}px`)),a=s((()=>({lineHeight:l(t.height)}))),o=s((()=>({height:l(t.height),"--van-translate":r.value,"--van-duration":t.duration+"s","--van-delay":t.delay+"s"})));return()=>i("div",{class:dt([t.direction]),style:o.value},[i("div",{class:dt("box",{animate:t.isStart})},[Array.isArray(e.value)&&e.value.map((t=>i("div",{class:dt("item"),style:a.value},[t])))])])}});const[ht,pt]=r("rolling-text"),mt={startNum:n(0),targetNum:Number,textList:o(),duration:n(2),autoStart:p,direction:c("down"),stopOrder:c("ltr"),height:n(40)};const gt=g(a({name:ht,props:mt,setup(t){const e=s((()=>Array.isArray(t.textList)&&t.textList.length)),r=s((()=>e.value?t.textList[0].length:`${Math.max(t.startNum,t.targetNum)}`.length)),a=e=>{const r=[];for(let a=0;a<t.textList.length;a++)r.push(t.textList[a][e]);return r},l=s((()=>e.value?new Array(r.value).fill(""):u(t.targetNum,r.value).split(""))),o=s((()=>u(t.startNum,r.value).split(""))),n=t=>{const e=+o.value[t],r=+l.value[t],a=[];for(let s=e;s<=9;s++)a.push(s);for(let s=0;s<=2;s++)for(let t=0;t<=9;t++)a.push(t);for(let s=0;s<=r;s++)a.push(s);return a},c=(e,r)=>"ltr"===t.stopOrder?.2*e:.2*(r-1-e),p=d(t.autoStart),g=()=>{p.value=!0};return f((()=>t.autoStart),(t=>{t&&g()})),h({start:g,reset:()=>{p.value=!1,t.autoStart&&m((()=>g()))}}),()=>i("div",{class:pt()},[l.value.map(((s,l)=>i(ft,{figureArr:e.value?a(l):n(l),duration:t.duration,direction:t.direction,isStart:p.value,height:t.height,delay:c(l,r.value)},null)))])}}));const yt=q({name:"fui-progress",emits:["activeend"],props:{percent:{type:[Number,String],default:0},height:{type:[Number,String],default:8},radius:{type:[Number,String],default:8},showInfo:{type:Boolean,default:!1},size:{type:[Number,String],default:28},color:{type:String,default:"#333"},percentWidth:{type:[Number,String],default:96},background:{type:String,default:"#CCCCCC"},activeColor:{type:String,default:""},duration:{type:[Number,String],default:15}},watch:{percent(t){this.darwProgress()}},mounted(){this.$nextTick((()=>{this.darwProgress()}))},computed:{getActiveColor(){return this.activeColor}},data:()=>({percentage:0,translateX:"-100%",time:0}),methods:{darwProgress(){let t=Number(this.percent);t=t>100?100:t,this.time=Number(this.duration)*Math.abs(t-this.percentage)/1e3,t<this.percentage&&this.percentage-t>30&&(this.time=this.time/2),this.percentage=t,this.translateX=100-t+"%",setTimeout((()=>{this.$emit("activeend",{})}),this.time)}}},[["render",function(t,e,r,a,s,l){const o=$,n=S;return y(),_(o,{class:"fui-progress__wrap"},{default:w((()=>[i(o,{class:"fui-progress__bar-bg",style:b({height:r.height+"rpx",borderRadius:r.radius+"rpx",background:r.background})},{default:w((()=>[i(o,{class:v(["fui-progress__bar",{"fui-progress__active-color":!r.activeColor}]),style:b({background:l.getActiveColor,transform:`translate3d(-${s.translateX},0,0)`,transitionDuration:`${s.time}s`})},null,8,["class","style"])])),_:1},8,["style"]),r.showInfo?(y(),_(n,{key:0,class:"fui-progress__percent",style:b({width:r.percentWidth+"rpx",fontSize:r.size+"rpx",color:r.color})},{default:w((()=>[x(k(s.percentage)+"% ",1)])),_:1},8,["style"])):C("",!0)])),_:1})}],["__scopeId","data-v-d290d687"]]);const _t=q({name:"fui-digital-roller",props:{value:{type:[Number,String],default:""},color:{type:String,default:""},size:{type:[Number,String],default:32},fontWeight:{type:[Number,String],default:400},width:{type:[Number,String],default:0},height:{type:[Number,String],default:32},duration:{type:[Number,String],default:1.2}},computed:{getStyles(){let t=`height:${this.rollHeight}px;`;return this.width&&0!=this.width&&(t+=`width:${this.width}rpx;`),t},getColor(){return this.color}},watch:{value(t){this.initColumn(this.value)},height(t){this.initHeight(t)}},data:()=>({columns:[],keys:[],rollHeight:0,rows:["0","1","2","3","4","5","6","7","8","9"]}),created(){this.initHeight(this.height),this.initColumn(this.value)},methods:{initHeight(t){let e=Math.floor(I(t||0));e=e%2==0?e:e+1,this.rollHeight=e},initColumn(t){let e=(t+="").split(""),r=e.length,a=[];for(let s=0;s<r;s++)~this.rows.indexOf(e[s])?a.push(this.rows):a.push([e[s]]);this.columns=a,this.startRoll(e)},startRoll(t){let e=this.columns.length,r=[];for(;t.length;){let e=t.pop();~this.rows.indexOf(e)?r.unshift(Number(e)):r.unshift(0)}for(;r.length<e;)r.unshift(0);this.keys=r}}},[["render",function(t,e,r,a,s,l){const o=S,n=$;return y(),_(n,{class:"fui-digital__roller-wrap"},{default:w((()=>[(y(!0),D(L,null,T(s.columns,((t,e)=>(y(),_(n,{class:"fui-digital__roller",key:e,style:b(l.getStyles)},{default:w((()=>[i(n,{class:"fui-digital__roller-column",style:b({transform:`translate3d(0, -${(s.keys[e]||0)*s.rollHeight}px, 0)`,transitionDuration:`${r.duration}s`})},{default:w((()=>[(y(!0),D(L,null,T(t,((t,e)=>(y(),_(o,{class:v(["fui-digital__roller-item",{"fui-digital__roller-color":!r.color}]),key:e,style:b({color:r.color,fontSize:r.size+"rpx",lineHeight:r.size+"rpx",fontWeight:r.fontWeight,height:s.rollHeight+"px"})},{default:w((()=>[x(k(t),1)])),_:2},1032,["class","style"])))),128))])),_:2},1032,["style"])])),_:2},1032,["style"])))),128))])),_:1})}],["__scopeId","data-v-60b74f32"]]),wt={getCurrency:()=>A.request("api/futures/currency"),getCurrencyDep:t=>A.request("api/futures/dep",{currency_id:t}),submitOrder:t=>A.request("api/futures/submit",t,"POST"),getUorderList(t=0){const e={};return t>0&&(e.currency_id=t),A.request("api/futures/ulist",e)},getHistoryList:t=>A.request("api/futures/history",{currency_id:t})};var bt=!1;const vt={components:{[lt.name]:lt,[H.name]:H,[gt.name]:gt,fuiDigitalRoller:_t},data(){return{scrollHeight:"",currency:[],seconds:"00:00",price:"0.00",current:0,items:[this.$t("futures.t33"),this.$t("futures.t34")],activeColor:"#000",btnindex:0,currentCurrency:{},currency_id:0,decimals:2,searchValue:"",new_price:"",history:[],dep:[{amount:0}],depActive:0,balance:"",content:"",ulist:[],orders:[],historys:{list:[],date:"",total:""},them:"",currentOrder:{},activeIndex:0,buyPopupShow:!1,coinList:["USDT"],rangeShow:!1,selectVal:"USDT",direction:0,amount:"",currencyInfo:!1,ticker:{},fchart:"",indicator:["MACD"],bar:!1,timeIndex:1,time:[]}},onReady(){this.currency=O("trade-currency"),this.initInterval(),this.time=st.time.map((t=>this.$t(t))),this.kheight=this.$device.screenHeight-400,j("trades",(t=>{this.onTradeMessages(t)})),this.them=O("userTheme")},onShow(){this.getCurrency(),this.getUOrderList(),this.updatePrices()},onHide(){},computed:{...B(["isLogin","userTheme"])},watch:{current(t){1==t&&this.getHistory()},timeIndex(t){0===t||st.time[t];let e={interval:"Line"===st.time[t]?"1s":st.time[t],currency_id:this.currentCurrency.currency_id,limit:1e3,cm_id:1,type:0};rt.contractLine(e).then((e=>{200===e.code&&(this.history={data:e,interval:t})}))}},methods:{updatePrices(){bt&&clearInterval(bt),bt=setInterval((()=>{}),500)},showInfo(t){this.currentOrder=this.historys.list[t],this.$refs.info.open()},getHistory(){if(!this.isLogin)return!1;wt.getHistoryList(this.currentCurrency.currency_id).then((t=>{t.data.list&&(this.historys=t.data)}))},getUOrderList(){var t=this;this.ulist=[],wt.getUorderList(this.currentCurrency.currency_id).then((e=>{200===e.code&&(this.ulist=e.data.map((e=>(e.seconds=t.getSecondsDifference(e.created_at,e.dep.interval),e.rate=100*(1-e.seconds/60),e.new_price=parseFloat(this.currentCurrency.new_price),e))),this.orders=JSON.parse(JSON.stringify(this.ulist)),this.calcOrderSecond(e.data))}))},calcOrderSecond(t){var e=this,r=0,a=setInterval((()=>{this.ulist.length<=0&&0!=r&&(clearInterval(a),this.ulist=[]),r+=1;var t=this.ulist.map((t=>(t.seconds=e.getSecondsDifference(t.created_at,t.dep.interval),t.rate=100*(1-t.seconds/(60*parseInt(t.dep.interval))),t.new_price=parseFloat(this.currentCurrency.new_price),t))),s=this.ulist.length;this.ulist=t.filter((t=>t.seconds>0)),this.ulist.length!=s&&this.getCurrencyBalance(),e.$forceUpdate()}),1e3)},timeOut(t){this.getCurrencyBalance(),this.getUOrderList()},getSecondsDifference(t,e){const r=new Date(Date.parse(this.$util.serverTime())),a=new Date(Date.parse(t));return a.setSeconds(a.getSeconds()+60*parseInt(e)),a<r?0:Math.abs(a-r)/1e3},order(t){if(!this.amount)return this.content=this.$t("futures.t35"),this.buyPopupShow=!1,this.$refs.alert.open(),!1;if(!this.isLogin)return!1;if(parseFloat(this.balance)<parseFloat(this.amount))return this.content=this.$t("futures.t31"),this.buyPopupShow=!1,this.$refs.alert.open(),!1;const r={dep_id:this.dep[this.depActive].id,currency_id:this.currentCurrency.currency_id,direction:t,amount:this.amount};this.buyPopupShow=!1,this.$refs.loading.open(),wt.submitOrder(r).then((t=>{this.$refs.loading.close(),200===t.code?(this.content=this.$t("futures.t32"),this.$refs.alert.open(),this.getUOrderList()):(this.content=e.message,this.$refs.alert.open())})).catch((t=>{this.$refs.loading.close(),this.content=t.message,this.$refs.alert.open()}))},getCurrencyBalance(){if(!this.isLogin)return!1;at.getUBalance().then((t=>{this.balance=t.data.future_balance}))},getCurrencyDep(t){wt.getCurrencyDep(t).then((t=>{this.dep=t.data}))},getCurrency(){wt.getCurrency().then((t=>{this.currency=t.data;var e=O("futures");"object"==typeof e?this.currentCurrency=e:(this.currentCurrency=this.currency[0],N("futures",this.currency[0])),this.decimals=this.currentCurrency.decimals,this.getCurrencyDep(this.currentCurrency.currency_id),this.getCurrencyBalance(this.currentCurrency.currency_id);var r={interval:"1m",currency_id:this.currentCurrency.currency_id,limit:1e3,cm_id:1,type:0};rt.contractLine(r).then((t=>{200===t.code&&(this.history={data:t,interval:this.timeIndex})}))}))},klineTime(t){this.timeIndex=t,this.$nextTick((()=>{this.timeId=t-1}))},setCurrent(t){N("futures",this.currency[t]),this.currentCurrency=this.currency[t],this.decimals=this.currentCurrency.decimals;var e={interval:"1m",currency_id:this.currentCurrency.currency_id,limit:1e3};rt.contractLine(e).then((t=>{200===t.code&&(this.history={data:t,interval:this.timeIndex})})),this.getCurrencyDep(this.currentCurrency.currency_id),this.$refs.showSelect.close()},open(){this.$refs.profit.open()},onTradeMessages(t){let e=this.$util.getCurrentTicker(this.currentCurrency.currency_id,t.data);parseFloat(e.c)>0&&(this.ticker=e)},initInterval(){setInterval((()=>{var t=(new Date).getSeconds();this.seconds="00:"+(60-t>10?60-t:"060"-t)}),1e3)},onClickItem(t){console.log(t),this.current=t.currentIndex},search(){},input(){},navInit(t){const e=U().windowHeight;this.navHeight=t.height+t.statusBarHeight,this.scrollHeight=e-this.navHeight},filterTap(){this.$refs.ddmRange.show(),this.rangeShow=!0},rangeItemClick(t){console.log(t),this.selectVal=t.text,this.rangeClose()},rangeClose(){this.rangeShow=!1}}};var xt,kt,Ct=!1,$t=!1,St=0;const It=[0,1,5,15,30,60,240,720,1440,10080];var Dt="MA";const Tt={data:()=>({history:[],decimals:2,interval:0,bar:{upColor:"#2DC08E",downColor:"#F92855",upBorderColor:"#2DC08E",downBorderColor:"#F92855"}}),mounted(){},methods:{setThem(t){""!==t&&(kt=t)},setDecimals(t){this.decimals=t.decimals},setBar(t){t&&(this.bar.upColor=t.up,this.bar.upBorderColor=t.up,this.bar.downColor=t.dn,this.bar.downBorderColor=t.dn)},update(t){if(!Ct)return!0;if(0===this.interval&&(St=parseFloat(t.c),Ct.updateData({timestamp:t.E,open:St,close:St,high:St,low:St,volume:parseInt(t.Q),turnover:parseInt(t.Q)})),0!=this.interval){var e=60*It[this.interval]*1e3;if(St=parseFloat(t.c),parseInt(t.E)-xt.timestamp>e){var r={timestamp:parseInt(t.E),open:St,close:St,high:St,low:St,volume:parseInt(t.Q),turnover:parseInt(t.Q)};Ct.updateData(r),xt=r}else{r={timestamp:xt.timestamp,open:xt.open,close:St,high:xt.high<St?St:xt.high,low:xt.low>St?St:xt.low,volume:xt.volume+parseInt(t.Q),turnover:xt.volume+parseInt(t.Q)};Ct.updateData(r),xt=r}}},initChart(t){if(!t||!t.data){if(Ct){try{document.getElementById("kline").innerHTML="",Ct.dispose()}catch(i){}Ct=!1}return!0}if(0===t.interval&&Ct){try{document.getElementById("kline").innerHTML="",Ct.dispose()}catch(i){}Ct=!1}if(!Ct){Ct=ot("kline");var e="light"===kt?"#666666":"#eeeeee",r="light"===kt?"#ffffff":"#333333",a="#999";nt.candle.tooltip.text.color=a,nt.candle.tooltip.text.borderColor=a,nt.candle.tooltip.rect.color=e,nt.xAxis.axisLine.color=r,nt.xAxis.tickText.color=e,nt.yAxis.axisLine.color=r,nt.yAxis.tickText.color=e,nt.yAxis.tickLine.color=r,nt.grid.show=!1,nt.candle.bar=this.bar?this.bar:{upColor:"#2DC08E",downColor:"#F92855",upBorderColor:"#2DC08E",downBorderColor:"#F92855"},Ct.setStyles(nt),Ct.createIndicator({name:"MACD",calcParams:[7,16,31]},!1,{id:"candle_panef-MACD"}),$t=Ct.createIndicator({name:"MA",calcParams:[7,15,30]},!1,{id:"candle_pane"}),window.addEventListener("resize",(()=>{Ct.resize()}))}Ct.setPriceVolumePrecision(this.decimals,this.decimals);for(var s=[],l=0;l<t.data.data.length;l++)s.push({timestamp:t.data.data[l].time,open:t.data.data[l].open,close:t.data.data[l].close,high:t.data.data[l].high,low:t.data.data[l].low,volume:t.data.data[l].vol,turnover:t.data.data[l].amount});xt=s[s.length-1],Ct.applyNewData(s),Ct.setPriceVolumePrecision(this.decimals,this.decimals),this.interval=t.interval,0!==parseInt(t.interval)?(Ct.setStyles({candle:{type:"candle_solid"}}),$t=Ct.createIndicator({name:"MA",calcParams:[5,10,30]},!1,{id:"candle_pane"})):(Ct.removeIndicator("candle_pane"),Ct.setStyles({candle:{type:"area"}}))},switchChart(t){if(Ct){if("MA"===t)var e=[5,10,30];"MA"!=t&&($t=!1),console.log(t,Dt),!1===t&&(console.log($t),Ct.removeIndicator("candle_pane")),Ct.createIndicator({name:t,calcParams:e},!1,{id:"candle_pane"}),Dt=t}},switchCharts(t){Ct&&(Ct.removeIndicator("candle_panef-VOL","VOL"),Ct.removeIndicator("candle_panef-MACD","MACD"),Ct.removeIndicator("candle_panef-KDJ","KDJ"),Ct.removeIndicator("candle_panef-RSI","RSI"),t.map((t=>{var e=[];"VOL"===t&&(e=[7,15,30]),"MACD"===t&&(e=[12,26,9]),"KDJ"===t&&(e=[9,3,3]),"RSI"===t&&(e=[7,15,30]),Ct.createIndicator({name:t,calcParams:e},!1,{id:"candle_panef-"+t})})))}}},Lt=t=>{t.$renderjs||(t.$renderjs=[]),t.$renderjs.push("render"),t.mixins||(t.mixins=[]),t.mixins.push({beforeCreate(){this.render=this},mounted(){this.$ownerInstance=this.$gcd(this,!0)}}),t.mixins.push(Tt)},At=vt;Lt(At);const Ht=q(At,[["render",function(e,r,a,s,l,o){const n=V(z("fui-icon"),t),c=S,u=P,d=$,f=V(z("fui-nav-bar"),R),h=M,p=V(z("fui-tabs"),E),m=V(z("fui-empty"),W),g=V(z("fui-tag"),J),I=V(z("fui-count-down"),Q),A=V(z("fui-progress"),yt),H=V(z("fui-button"),K),O=V(z("fui-dropdown-menu"),X),j=F,B=V(z("fui-bottom-popup"),G),N=V(z("uni-popup"),Y),U=V(z("alert"),Z),q=V(z("loading"),tt),rt=V(z("uni-drawer"),et);return y(),_(d,{class:"futures","data-theme":e.userTheme},{default:w((()=>[i(f,{statusBar:"",isFixed:"",isOccupy:"",zIndex:"9",background:"var(--background-primary)",custom:"",onInit:e.navInit},{default:w((()=>[i(d,{class:"nav-bar"},{default:w((()=>[i(d,{class:"nav-bar-item"},{default:w((()=>[i(n,{onClick:r[0]||(r[0]=t=>e.$mroute.back()),name:"arrowleft",size:"56",color:"var(--content-primary)"}),i(d,{class:"flex flex-row align-center",onClick:r[1]||(r[1]=t=>e.$refs.showSelect.open())},{default:w((()=>[i(c,{class:"font-16 color-black font-bold mr-5"},{default:w((()=>[x(k(e.currentCurrency.symbol)+"USDT-F ",1)])),_:1}),i(u,{class:"change-icon",src:`/static/img/tactic/down-${e.userTheme}.png`,mode:"widthFix"},null,8,["src"])])),_:1})])),_:1})])),_:1})])),_:1},8,["onInit"]),i(d,{class:"futures-body"},{default:w((()=>[i(d,{class:"head-box"},{default:w((()=>[i(c,{class:"font-20 font-bold price_up"},{default:w((()=>[x(k(e.$util.thousandSeparator(e.ticker.c,e.decimals)),1)])),_:1}),i(d,{class:"column"},{default:w((()=>[i(c,{class:"font-12 color-black font-weight"},{default:w((()=>[x(k(e.seconds),1)])),_:1}),i(c,{class:"font-11 color-gray"},{default:w((()=>[x(k(e.$t("futures.t2")),1)])),_:1})])),_:1})])),_:1}),i(d,{class:"futures-body-chart"},{default:w((()=>[i(d,{class:"kline-box"},{default:w((()=>[i(h,{"scroll-x":"true","enable-flex":"true","scroll-with-animation":"true","scroll-into-view":"time"+e.timeIndex,class:"time-box"},{default:w((()=>[(y(!0),D(L,null,T(e.time,((t,r)=>(y(),_(d,{class:v(["item",{active:e.timeIndex==r}]),key:r,id:"time"+(r+1),onClick:t=>e.klineTime(r)},{default:w((()=>[i(c,{class:"font-weight"},{default:w((()=>[x(k(t),1)])),_:2},1024)])),_:2},1032,["id","class","onClick"])))),128))])),_:1},8,["scroll-into-view"]),i(d,{id:"kline",ref:"kline",currencyInfo:e.currencyInfo,"change:currencyInfo":e.render.setDecimals,history:e.history,"change:history":e.render.initChart,them:e.them,"change:them":e.render.setThem,ticker:e.ticker,"change:ticker":e.render.update,fchart:e.fchart,"change:fchart":e.render.switchChart,indicator:e.indicator,"change:indicator":e.render.switchCharts,bar:e.bar,"change:bar":e.render.setBar,style:b({height:e.kheight+"px",width:e.$device.windowWidth+"px"})},null,8,["currencyInfo","change:currencyInfo","history","change:history","them","change:them","ticker","change:ticker","fchart","change:fchart","indicator","change:indicator","bar","change:bar","style"])])),_:1})])),_:1}),i(d,{class:"futures-body-tabs"},{default:w((()=>[i(p,{scroll:"",alignLeft:"",color:"var(--content-tertiary)",selectedSize:"28",selectedColor:"var(--content-primary)",height:"88",scale:"1",background:"var(--background-primary)",sliderBackground:"var(--content-primary)",short:!1,tabs:e.items,current:e.current,onChange:r[2]||(r[2]=t=>e.current=t.index)},null,8,["tabs","current"])])),_:1}),0===e.current?(y(),_(h,{key:0,"scroll-y":"",class:"scroll-view",style:b({height:e.scrollHeight+"px"})},{default:w((()=>[0===e.ulist.length?(y(),_(d,{key:0,class:"not-date"},{default:w((()=>[i(m,{src:`/static/newImage/notData-${e.userTheme}.png`,width:200,height:200,descrColor:"var(--color-text-dark-gray)",descr:e.$t("list.not_data")},null,8,["src","descrColor","descr"])])),_:1})):C("",!0),(y(!0),D(L,null,T(e.ulist,((t,r)=>(y(),_(d,{class:"list-item",key:r},{default:w((()=>[i(d,{class:"list-item-cell"},{default:w((()=>[i(d,{class:"flex align-center"},{default:w((()=>[-1===t.direction?(y(),_(g,{key:0,padding:["8rpx","10rpx"],isBorder:!1,radius:4,marginRight:10,color:"var(--content-always-white)",background:"var(--content-trade-sell)",text:e.$t("futures.t3")},null,8,["text"])):C("",!0),1===t.direction?(y(),_(g,{key:1,padding:["8rpx","10rpx"],isBorder:!1,radius:4,marginRight:10,color:"var(--content-always-white)",background:"var(--content-trade-buy)",text:e.$t("futures.t4")},null,8,["text"])):C("",!0),i(c,{class:"font-14 color-black font-weight mr-5"},{default:w((()=>[x(k(t.created_at.split(" ")[1]),1)])),_:2},1024),i(c,{class:"font-12 color-gray"},{default:w((()=>[x(k(t.currency.symbol)+"/USDT-"+k(t.dep.interval)+k(e.$t("futures.t1")),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),i(d,{class:"list-item-cell"},{default:w((()=>[i(d,{class:"flex align-center"},{default:w((()=>[i(d,{class:"flex align-center mr-10"},{default:w((()=>[i(c,{class:"font-12 color-gray mr-5"},{default:w((()=>[x(k(e.$t("futures.t5")),1)])),_:1}),i(c,{class:"font-12 color-black"},{default:w((()=>[x(k(e.$util.float(t.amount))+" USDT ",1)])),_:2},1024)])),_:2},1024),i(d,{class:"flex align-center"},{default:w((()=>[i(c,{class:"font-12 color-gray mr-5"},{default:w((()=>[x(k(e.$t("futures.t6")),1)])),_:1}),i(c,{class:"font-12 color-black"},{default:w((()=>[x(k(1===t.direction?100*t.dep.up:100*t.dep.down)+"% ",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),1===t.direction&&t.open>=t.new_price?(y(),_(c,{key:0,class:"font-14 price_down font-weight"},{default:w((()=>[x(k(e.$util.float(t.amount*t.dep.up))+" USDT ",1)])),_:2},1024)):C("",!0),1===t.direction&&t.open<t.new_price?(y(),_(c,{key:1,class:"font-14 price_down font-weight"},{default:w((()=>[x(k(e.$util.float(t.amount*t.dep.up))+" USDT ",1)])),_:2},1024)):C("",!0),-1===t.direction&&t.open<=t.new_price?(y(),_(c,{key:2,class:"font-14 price_down font-weight"},{default:w((()=>[x(k(e.$util.float(t.amount*t.dep.up))+" USDT ",1)])),_:2},1024)):C("",!0),-1===t.direction&&t.open>t.new_price?(y(),_(c,{key:3,class:"font-14 price_down font-weight"},{default:w((()=>[x(k(e.$util.float(t.amount*t.dep.down))+" USDT ",1)])),_:2},1024)):C("",!0)])),_:2},1024),i(d,{class:"list-item-cell"},{default:w((()=>[i(I,{background:"var(--background-primary)",borderColor:"var(--background-primary)",color:"var(--content-primary)",colonColor:"var(--color-text-dark-gray)",size:"24rpx",isDays:!1,isHours:!1,isMs:!1,isColon:"",msWidth:"40",value:t.seconds,autoStart:!0,onEnd:e.timeOut,ref_for:!0,ref:"countdown"},null,8,["value","onEnd"]),i(d,{class:"progress"},{default:w((()=>[i(A,{percent:t.rate,background:"var(--color-gray-bg)",activeColor:"var(--blue)"},null,8,["percent"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),i(d,{style:{height:"400rpx"}})])),_:1},8,["style"])):C("",!0),1===e.current?(y(),_(h,{key:1,"scroll-y":"",class:"scroll-view",style:b({height:e.scrollHeight+"px"})},{default:w((()=>[e.isLogin?(y(),_(d,{key:0,class:"list-desc"},{default:w((()=>[i(c,{class:"font-12 color-gray"},{default:w((()=>[x(k(e.historys.date),1)])),_:1}),i(c,{class:"font-12 color-gray"},{default:w((()=>[x(k(e.historys.count)+" "+k(e.$t("futures.t7")),1)])),_:1}),i(d,{class:"flex align-center",onClick:r[3]||(r[3]=t=>e.$refs.profit.open())},{default:w((()=>[i(c,{class:"font-12 price_down mr-5"},{default:w((()=>[x(k(e.$util.float(e.historys.total))+" USDT ",1)])),_:1}),i(n,{name:"more-fill",size:"38",color:"var(--content-primary)"})])),_:1})])),_:1})):C("",!0),e.historys.list&&0===e.historys.list.length?(y(),_(d,{key:1,class:"not-date"},{default:w((()=>[i(m,{src:`/static/newImage/notData-${e.userTheme}.png`,width:200,height:200,descrColor:"var(--color-text-dark-gray)",descr:e.$t("list.not_data")},null,8,["src","descrColor","descr"])])),_:1})):C("",!0),(y(!0),D(L,null,T(e.historys.list,((t,r)=>(y(),_(d,{class:"list-item",key:"h"+t.id,onClick:t=>e.showInfo(r)},{default:w((()=>[i(d,{class:"list-item-cell"},{default:w((()=>[i(d,{class:"flex align-center"},{default:w((()=>[-1===t.direction?(y(),_(g,{key:0,padding:["8rpx","10rpx"],isBorder:!1,radius:4,marginRight:10,type:"danger",theme:"dark",text:e.$t("futures.t3")},null,8,["text"])):(y(),_(g,{key:1,padding:["8rpx","10rpx"],isBorder:!1,radius:4,marginRight:10,type:"success",theme:"dark",text:e.$t("futures.t4")},null,8,["text"])),i(c,{class:"font-14 color-black font-weight mr-5"},{default:w((()=>[x(k(t.created_at.split(" ")[1]),1)])),_:2},1024),i(c,{class:"font-12 color-gray"},{default:w((()=>[x(k(t.currency.symbol)+"/USDT-"+k(t.dep.interval)+k(e.$t("futures.t1")),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),i(d,{class:"list-item-cell"},{default:w((()=>[i(c,{class:"font-14 color-black"},{default:w((()=>[x(" USDT ")])),_:1}),i(c,{class:"font-14 color-black"},{default:w((()=>[x(k(1===t.direction?100*t.dep.up:100*t.dep.down)+"% ",1)])),_:2},1024),i(c,{class:"font-14 color-black"},{default:w((()=>[x(k(e.$util.float(t.profit)),1)])),_:2},1024)])),_:2},1024),i(d,{class:"list-item-cell"},{default:w((()=>[i(c,{class:"font-12 color-gray"},{default:w((()=>[x(k(e.$t("futures.t8")),1)])),_:1}),i(c,{class:"font-12 color-gray"},{default:w((()=>[x(k(e.$t("futures.t9")),1)])),_:1}),i(c,{class:"font-12 color-gray"},{default:w((()=>[x(k(e.$t("futures.t10")),1)])),_:1})])),_:1})])),_:2},1032,["onClick"])))),128)),i(d,{style:{height:"400rpx"}})])),_:1},8,["style"])):C("",!0)])),_:1}),i(d,{class:"footer-box"},{default:w((()=>[i(d,{class:"footer-box-button"},{default:w((()=>[e.isLogin?(y(),D(L,{key:0},[i(d,{class:"button"},{default:w((()=>[i(H,{onClick:r[4]||(r[4]=t=>{e.buyPopupShow=!0,e.direction=1}),height:"78rpx",radius:"10rpx",size:"28",background:"var(--green)"},{default:w((()=>[x(k(e.$t("futures.t4")),1)])),_:1})])),_:1}),i(d,{class:"button"},{default:w((()=>[i(H,{onClick:r[5]||(r[5]=t=>{e.buyPopupShow=!0,e.direction=-1}),height:"78rpx",radius:"10rpx",size:"28",background:"var(--red)"},{default:w((()=>[x(k(e.$t("futures.t3")),1)])),_:1})])),_:1})],64)):(y(),_(d,{key:1,style:{width:"100%"}},{default:w((()=>[i(d,{class:"button",style:{margin:"auto"}},{default:w((()=>[i(H,{height:"78rpx",radius:"10rpx",size:"28",background:"var(--green)"},{default:w((()=>[x(k(e.$t("futures.t13")),1)])),_:1})])),_:1})])),_:1}))])),_:1})])),_:1}),i(B,{background:"var(--background-primary)",show:e.buyPopupShow,onClose:r[9]||(r[9]=t=>e.buyPopupShow=!1)},{default:w((()=>[i(d,{class:v(["fui-popup-warp",e.userTheme])},{default:w((()=>[i(d,{class:"popupTitle"},{default:w((()=>[i(d,{class:"closeIcon",onClick:r[6]||(r[6]=t=>e.buyPopupShow=!1)},{default:w((()=>[i(n,{name:"close",size:"48",color:"var(--content-primary)"})])),_:1})])),_:1}),i(d,{class:"popupContent"},{default:w((()=>[i(d,{class:"title"},{default:w((()=>[i(c,{class:"font-15 color-black font-weight"},{default:w((()=>[x(k(e.$t("futures.tt1"))+"（"+k(e.currentCurrency.symbol)+"/USDT-F）"+k(e.$t("futures.tt2")),1)])),_:1})])),_:1}),i(d,{class:"cell"},{default:w((()=>[i(c,{class:"font-13 color-gray"},{default:w((()=>[x(k(e.$util.getDateTimeAddTime(1)),1)])),_:1}),i(c,{class:"font-13 color-black font-weight"},{default:w((()=>[x(k(e.seconds),1)])),_:1})])),_:1}),i(d,{class:"label"},{default:w((()=>[i(c,{class:"font-13 color-gray"},{default:w((()=>[x(k(e.$t("futures.tt3")),1)])),_:1}),i(d,{style:{display:"flex",width:"100%","flex-flow":"wrap"}},{default:w((()=>[(y(!0),D(L,null,T(e.dep,((t,r)=>(y(),_(d,{key:"dep"+t.id,class:"tagBox",style:{width:"100px",margin:"5px"},onClick:t=>e.depActive=r},{default:w((()=>[i(d,{class:v(["tagBtn",{"tagBtn-selected":e.depActive===r}]),style:{width:"100%"}},{default:w((()=>[i(c,{class:"font-12 color-black"},{default:w((()=>[x(k(e.dep[r].interval)+k(e.$t("futures.tt5")),1)])),_:2},1024),i(c,{class:"font-12 color-black"},{default:w((()=>[x(k(e.$t("futures.tt4"))+k(1===e.direction?e.$util.float(100*e.dep[r].up):e.$util.float(100*e.dep[r].down))+"% ",1)])),_:2},1024)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),i(d,{class:"label"},{default:w((()=>[i(c,{class:"font-13 color-gray"},{default:w((()=>[x(k(e.$t("futures.tt6")),1)])),_:1}),i(d,{class:"label-input"},{default:w((()=>[i(O,{background:"var(--background-primary)",size:26,maxHeight:270,radius:10,padding:"24rpx",color:"var(--content-primary)",selectedColor:"var(--color-primary)",minWidth:100,isCheckbox:!1,options:e.coinList,onClick:e.rangeItemClick,onClose:e.rangeClose,ref:"ddmRange"},{default:w((()=>[i(d,{class:"coinType",onClick:e.filterTap},{default:w((()=>[i(c,{class:"font-13 color-black font-weight"},{default:w((()=>[x(k(e.selectVal),1)])),_:1}),i(n,{name:"arrowdown",size:"38",color:"var(--text-black)"})])),_:1},8,["onClick"])])),_:1},8,["background","selectedColor","options","onClick","onClose"]),i(j,{type:"digit",modelValue:e.amount,"onUpdate:modelValue":r[7]||(r[7]=t=>e.amount=t),placeholder:e.$t("futures.tt7"),"placeholder-class":"placeholder"},null,8,["modelValue","placeholder"])])),_:1}),i(d,{class:"numGroup"},{default:w((()=>[(y(),D(L,null,T([10,50,100,200],((t,r)=>i(d,{class:v(["numTag",e.activeIndex==r?"numTag-active":""]),onClick:t=>{e.activeIndex=r,e.amount=[10,50,100,200][r]},key:r},{default:w((()=>[i(c,{class:"font-13"},{default:w((()=>[x(k(t),1)])),_:2},1024)])),_:2},1032,["onClick","class"]))),64))])),_:1})])),_:1}),i(d,{class:"cell"},{default:w((()=>[i(c,{class:"font-12 color-black"}),i(c,{class:"font-12 color-black"},{default:w((()=>[x(k(e.$t("futures.tt8"))+"："+k(e.$util.float(e.balance)),1)])),_:1})])),_:1}),i(d,{class:"buttonBox"},{default:w((()=>[i(H,{onClick:r[8]||(r[8]=t=>e.order(e.direction)),height:"78rpx",radius:"78rpx",size:"26",color:"var(--content-always-white)",background:"var(--content-trade-sell)",text:e.$t("futures.tt9")},null,8,["text"])])),_:1})])),_:1})])),_:1},8,["class"])])),_:1},8,["show"]),i(N,{type:"center",ref:"notice"},{default:w((()=>[i(d,{class:"popup-box"},{default:w((()=>[i(c,{class:"font-13 color-gray"},{default:w((()=>[x(k(e.$t("futures.t15")),1)])),_:1}),i(c,{class:"font-13 color-gray"},{default:w((()=>[x(k(e.$t("futures.t16")),1)])),_:1}),i(c,{class:"font-13 color-gray"},{default:w((()=>[x(k(e.$t("futures.t17")),1)])),_:1})])),_:1})])),_:1},512),i(U,{ref:"alert",title:e.$t("login.tip_t2"),ctxt:e.$t("取消"),content:e.content},null,8,["title","ctxt","content"]),i(q,{ref:"loading"},null,512),i(N,{type:"center",ref:"info"},{default:w((()=>[i(d,{class:"popup-box"},{default:w((()=>[i(d,{class:"pd-15"},{default:w((()=>[i(d,{class:"flex acenter"},{default:w((()=>[i(d,{style:{width:"70%"}},{default:w((()=>[i(c,{class:"font-13 color-black font-weight"},{default:w((()=>[x(k(e.currentCurrency.symbol)+"/USDT-F ",1)])),_:1})])),_:1}),i(d,{style:{width:"30%","text-align":"right"}},{default:w((()=>[i(u,{onClick:r[10]||(r[10]=t=>e.$refs.info.close()),style:{width:"25px",height:"25px"},src:it,mode:""})])),_:1})])),_:1}),i(d,{class:"mt-15 bg-gray"},{default:w((()=>[i(d,{class:"mt-15"}),i(d,{class:"flex acenter"},{default:w((()=>[i(d,{class:"wr-50"},{default:w((()=>[i(d,{class:"mt-5"},{default:w((()=>[i(c,{class:"font-13 font-weight price_up block"},{default:w((()=>[x(k(1===e.currentOrder.direction?e.$t("futures.t4"):e.$t("futures.t3")),1)])),_:1}),i(c,{class:"font-12 color-999 block mt-5"},{default:w((()=>[x(k(e.$t("futures.t18")),1)])),_:1})])),_:1})])),_:1}),i(d,{class:"wr-50",style:{"text-align":"center"}},{default:w((()=>[i(c,{class:"font-13 font-weight price_up block"},{default:w((()=>[x(k(e.$util.float(e.currentOrder.profit)),1)])),_:1}),i(c,{class:"font-12 color-999 block mt-5"},{default:w((()=>[x(k(e.$t("futures.t19")),1)])),_:1})])),_:1})])),_:1}),i(d,{class:"flex acenter mt-10"},{default:w((()=>[i(d,{class:"wr-50"},{default:w((()=>[i(d,{class:"mt-5"},{default:w((()=>[i(c,{class:"font-13 font-weight color-black block"},{default:w((()=>[x(k(e.$util.float(e.currentOrder.open))+" / "+k(e.$util.float(e.currentOrder.close)),1)])),_:1}),i(c,{class:"font-12 color-999 block mt-5"},{default:w((()=>[x(k(e.$t("futures.t20")),1)])),_:1})])),_:1})])),_:1}),i(d,{class:"wr-50",style:{"text-align":"center"}},{default:w((()=>[i(c,{class:"font-13 font-weight price_up block"},{default:w((()=>[x(k(1===e.currentOrder.direction?100*e.currentOrder.dep.up:100*e.currentOrder.dep.down)+" % ",1)])),_:1}),i(c,{class:"font-12 color-999 block mt-5"},{default:w((()=>[x(k(e.$t("futures.t21")),1)])),_:1})])),_:1})])),_:1}),i(d,{class:"flex acenter mt-10"},{default:w((()=>[i(d,{class:"wr-50"},{default:w((()=>[i(d,{class:"mt-5"},{default:w((()=>[i(c,{class:"font-13 font-weight color-black block"},{default:w((()=>[x("USDT")])),_:1}),i(c,{class:"font-12 color-999 block mt-5"},{default:w((()=>[x(k(e.$t("futures.t22")),1)])),_:1})])),_:1})])),_:1}),i(d,{class:"wr-50",style:{"text-align":"center"}},{default:w((()=>[i(c,{class:"font-13 font-weight price_up block"},{default:w((()=>[x(k(parseFloat(e.currentOrder.profit)<=0?e.$t("futures.t23"):e.$t("futures.t30")),1)])),_:1}),i(c,{class:"font-12 color-999 block mt-5"},{default:w((()=>[x(k(e.$t("futures.t24")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),i(N,{type:"bottom",ref:"profit"},{default:w((()=>[i(d,{class:"popup-warp"},{default:w((()=>[i(d,{class:"popup-warp-title"},{default:w((()=>[i(c,{class:"font-16 color-black font-weight"},{default:w((()=>[x(k(e.$t("futures.t25")),1)])),_:1}),i(d,{class:"close",onClick:r[11]||(r[11]=t=>e.$refs.profit.close())},{default:w((()=>[i(n,{name:"close",size:"48",color:"var(--content-primary)"})])),_:1})])),_:1}),i(d,{class:"popup-warp-content"},{default:w((()=>[i(d,{class:"popup-warp-content-cell"},{default:w((()=>[i(c,{class:"font-12 color-gray"},{default:w((()=>[x(k(e.historys.date),1)])),_:1}),i(c,{class:"font-12 color-gray"},{default:w((()=>[x(k(e.historys.count)+" "+k(e.$t("futures.t7")),1)])),_:1})])),_:1}),i(d,{class:"popup-warp-content-card"},{default:w((()=>[i(d,{class:"flex flex-column"},{default:w((()=>[i(c,{class:"font-14 color-black font-weight"},{default:w((()=>[x(k(e.$t("futures.t26")),1)])),_:1}),i(c,{class:"font-12 color-gray mt-5"},{default:w((()=>[x(k(e.$t("futures.t27")),1)])),_:1})])),_:1}),i(c,{class:"font-16 price_down font-weight"},{default:w((()=>[x(k(e.$util.float(e.historys.total))+" USDT ",1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),i(rt,{ref:"showSelect",mode:"left",showrAudus:!0,width:.8*e.$device.windowWidth,style:{"z-index":"10002"}},{default:w((()=>[i(d,{class:"drawer"},{default:w((()=>[i(d,{class:"status_bar"}),i(d,{class:"title"},{default:w((()=>[i(c,{class:"font-16 color-black font-weight"},{default:w((()=>[x(k(e.$t("futures.t28")),1)])),_:1})])),_:1}),i(d,{class:"drawer-search"},{default:w((()=>[i(n,{name:"search",size:"34",color:"var(--color-text-dark-gray)"}),i(j,{type:"text",onConfirm:e.search,modelValue:e.searchValue,"onUpdate:modelValue":r[12]||(r[12]=t=>e.searchValue=t),onInput:e.input,placeholder:e.$t("futures.t29"),"placeholder-class":"placeholder"},null,8,["onConfirm","modelValue","onInput","placeholder"])])),_:1}),i(h,{"scroll-y":"",class:"drawer-bottom",style:b({height:e.$device.windowHeight-110+"px"})},{default:w((()=>[(y(!0),D(L,null,T(e.currency,((t,r)=>(y(),_(d,{class:"drawer-coin-cell",key:r,onClick:t=>e.setCurrent(r)},{default:w((()=>[i(d,{class:"left"},{default:w((()=>[i(c,{class:"font-14 color-black font-weight"},{default:w((()=>[x(k(t.symbol)+"/USDT ",1)])),_:2},1024)])),_:2},1024),i(d,{class:"right"},{default:w((()=>[i(c,{class:v(["font-13 font-weight",{price_up:t.change_rate>=0,price_down:t.change_rate<0}])},{default:w((()=>[x(k(e.$util.thousandSeparator(t.new_price,t.decimals)),1)])),_:2},1032,["class"]),i(c,{class:v(["font-13 font-weight",{price_up:t.change_rate>=0,price_down:t.change_rate<0}])},{default:w((()=>[x(k(e.$util.thousandSeparator(t.change_rate))+"% ",1)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1032,["onClick"])))),128)),i(d,{style:{height:"240rpx"}})])),_:1},8,["style"])])),_:1})])),_:1},8,["width"])])),_:1},8,["data-theme"])}],["__scopeId","data-v-718d45c9"]]);export{Ht as default};
