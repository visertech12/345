import{a as t,i as a,ba as e,q as o,t as c,w as r,u as l,v as s,x as n,y as i,z as d,H as f,b5 as u}from"./index-DJtkXLbk.js";import{_}from"./fui-icon.Di2eQoC1.js";import{r as m}from"./uni-app.es.DnKBEGT2.js";import{_ as p}from"./fui-nav-bar.jzMwm7nO.js";import{_ as h}from"./fui-switch.BAYrlVQn.js";import{_ as g}from"./fui-button.Bz1nWTaC.js";import{_ as b}from"./loading.4tTz4-j4.js";import{_ as v}from"./alert.Dea_H56C.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./fui-loading.PBeNzzTK.js";import"./uni-popup.CzvQehha.js";import"./uni-popup-dialog.BcHbARwi.js";const $=k({components:{fuiSwitch:h,fuiNavBar:p},data:()=>({config:{},mtrade:"",mcontract:"",ftrade:0,fcontract:0,checked:!1,content:""}),onShow(){this.getConfig()},computed:{...t(["userTheme"])},methods:{submit(){if(""===this.ftrade||""===this.fcontract)return!1;const t={mtrade:this.mtrade,ftrade:this.ftrade,mcontract:this.mcontract,fcontract:this.fcontract,is_default:this.checked?1:0};this.$refs.loading.open(),a.saveShareSetting(t).then((t=>{this.$refs.loading.close(),200===t.code?e():(this.content=t.message,this.$refs.alert.open())})).catch((t=>{this.$refs.loading.close(),this.content=res.message,this.$refs.alert.open()}))},change(t){console.log(t),this.checked=t.detail.value},inputFtrade(t){var a=t.detail.value;""!=a&&a>0&&a<=parseFloat(this.config.income_ratio_trade_agent)?(this.mtrade=parseInt(this.config.income_ratio_trade_agent)-parseInt(a),this.ftrade=a):(this.mtrade=this.config.income_ratio_trade_agent,this.ftrade="")},inputFcontract(t){var a=t.detail.value;""!=a&&a>0&&a<=parseInt(this.config.income_ratio_contract_agent)?(this.mcontract=parseInt(this.config.income_ratio_contract_agent)-a,this.fcontract=a):(this.mcontract=this.config.income_ratio_contract_agent,this.fcontract="")},getConfig(){a.getShareConfig().then((t=>{this.config=t.data,this.mtrade=parseInt(t.data.income_ratio_trade_agent),this.mcontract=parseInt(t.data.income_ratio_contract_agent)}))}}},[["render",function(t,a,e,k,$,x){const y=m(o("fui-icon"),_),I=m(o("fui-nav-bar"),p),j=f,w=l,C=u,F=m(o("fui-switch"),h),S=m(o("fui-button"),g),z=m(o("loading"),b),V=m(o("alert"),v);return s(),c(w,{class:"addLink","data-theme":t.userTheme},{default:r((()=>[n(I,{isFixed:"",isOccupy:"",zIndex:"9",background:"var(--background-primary)",color:"var(--content-primary)",title:t.$t("sadd.t1"),onLeftClick:a[0]||(a[0]=a=>t.$mroute.back())},{default:r((()=>[n(y,{name:"arrowleft",size:"56",color:"var(--content-primary)"})])),_:1},8,["title"]),n(w,{class:"cell"},{default:r((()=>[n(j,{class:"font-13 color-black"},{default:r((()=>[i(d(t.$t("sadd.t2")),1)])),_:1}),n(j,{class:"font-13 color-gray"},{default:r((()=>[i(d(t.$t("sadd.t3"))+"： ",1),n(j,{class:"color-warring"},{default:r((()=>[i(d($.config.income_ratio_trade_agent)+"% ",1)])),_:1}),i(" | "+d(t.$t("sadd.t4"))+"： ",1),n(j,{class:"color-warring"},{default:r((()=>[i(d($.config.income_ratio_contract_agent)+"% ",1)])),_:1})])),_:1})])),_:1}),n(w,{class:"cell-box"},{default:r((()=>[n(j,{class:"font-13 color-black"},{default:r((()=>[i(d(t.$t("sadd.t5")),1)])),_:1}),n(w,{class:"box"},{default:r((()=>[n(C,{type:"digit",modelValue:$.mtrade,"onUpdate:modelValue":a[1]||(a[1]=t=>$.mtrade=t),disabled:"",placeholder:t.$t("sadd.t5")},null,8,["modelValue","placeholder"]),n(j,{class:"font-13 color-black"},{default:r((()=>[i("%")])),_:1})])),_:1})])),_:1}),n(w,{class:"cell-box"},{default:r((()=>[n(j,{class:"font-13 color-black"},{default:r((()=>[i(d(t.$t("sadd.t6")),1)])),_:1}),n(w,{class:"box"},{default:r((()=>[n(C,{type:"digit",value:$.ftrade,onInput:x.inputFtrade,placeholder:t.$t("calc.t9")},null,8,["value","onInput","placeholder"]),n(j,{class:"font-13 color-black"},{default:r((()=>[i("%")])),_:1})])),_:1})])),_:1}),n(w,{class:"cell-box"},{default:r((()=>[n(j,{class:"font-13 color-black"},{default:r((()=>[i(d(t.$t("sadd.t7")),1)])),_:1}),n(w,{class:"box"},{default:r((()=>[n(C,{type:"digit",value:$.mcontract,disabled:"",placeholder:t.$t("sadd.t7")},null,8,["value","placeholder"]),n(j,{class:"font-13 color-black"},{default:r((()=>[i("%")])),_:1})])),_:1})])),_:1}),n(w,{class:"cell-box"},{default:r((()=>[n(j,{class:"font-13 color-black"},{default:r((()=>[i(d(t.$t("sadd.t8")),1)])),_:1}),n(w,{class:"box"},{default:r((()=>[n(C,{type:"digit",value:$.fcontract,onInput:x.inputFcontract,placeholder:t.$t("calc.t9")},null,8,["value","onInput","placeholder"]),n(j,{class:"font-13 color-black"},{default:r((()=>[i("%")])),_:1})])),_:1})])),_:1}),n(w,{class:"cell_row"},{default:r((()=>[n(j,{class:"font-13 color-black"},{default:r((()=>[i(d(t.$t("sadd.t9")),1)])),_:1}),n(F,{color:"var(--color-primary)",onChange:x.change,scaleRatio:"0.8"},null,8,["onChange"])])),_:1}),n(w,{class:"footer-button"},{default:r((()=>[n(S,{height:"78rpx",radius:"78rpx",size:"26",onClick:x.submit,color:"var(--background-primary)",background:"var(--content-primary)"},{default:r((()=>[i(d(t.$t("sadd.t10")),1)])),_:1},8,["onClick"])])),_:1}),n(z,{ref:"loading"},null,512),n(V,{ref:"alert",content:$.content},null,8,["content"])])),_:1},8,["data-theme"])}],["__scopeId","data-v-940b1a04"]]);export{$ as default};
