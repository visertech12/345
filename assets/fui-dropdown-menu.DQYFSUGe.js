import{v as e,t,w as i,bp as s,D as o,A as r,E as l,x as d,B as a,C as c,F as u,u as n,S as h,bm as m,y as f,z as p,G as k,H as _}from"./index-DJtkXLbk.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";const g=y({name:"fui-dropdown-menu",emits:["click","close"],props:{options:{type:Array,default:()=>[]},maxHeight:{type:[Number,String],default:400},minWidth:{type:[Number,String],default:0},left:{type:[Number,String],default:0},right:{type:[Number,String],default:-1},background:{type:String,default:"#fff"},radius:{type:[Number,String],default:0},padding:{type:String,default:"32rpx"},isCheckbox:{type:Boolean,default:!0},checkboxColor:{type:String,default:""},borderColor:{type:String,default:"#ccc"},isCheckMark:{type:Boolean,default:!1},checkmarkColor:{type:String,default:"#fff"},isReverse:{type:Boolean,default:!1},splitLine:{type:Boolean,default:!1},lineColor:{type:String,default:"#eee"},iconWidth:{type:[Number,String],default:48},size:{type:[Number,String],default:32},color:{type:String,default:"#181818"},selectedColor:{type:String,default:""},isMask:{type:Boolean,default:!0},maskBackground:{type:String,default:"transparent"},direction:{type:String,default:"down"}},watch:{options(e){this.initData(e)}},data:()=>({isNvue:!1,isNvueShow:!1,itemList:[],isShow:!1}),computed:{getStyles(){let e=`border-radius:${this.radius}rpx;background:${this.background};`,t=Number(this.right||0),i=Number(this.left||0);return e+=t>=0?"right:0;":`left:${i}rpx;`,e},getChkColor(){return this.checkboxColor}},created(){this.initData(this.options)},methods:{resetCalc(e,t){},initData(e){e&&e.length>0&&("object"!=typeof e[0]?e=e.map((e=>({text:e,checked:!1}))):e.map((e=>{e.checked=e.checked||!1})),this.itemList=e)},itemClick(e){let t=this.itemList[e],i=[...this.itemList];i.forEach(((t,i)=>{t.checked=e===i})),this.itemList=i,this.$emit("click",{index:e,...t}),this.close(2)},close(e){this.isShow=!1,1===e&&this.$emit("close",{})},show(){this.isShow=!0}}},[["render",function(y,g,C,b,x,S){const w=n,v=k,N=_,B=h;return e(),t(w,{class:"fui-dropdown__menu",ref:"fui_dm_wrap",onClick:S.resetCalc},{default:i((()=>[s(y.$slots,"default",{},void 0,!0),x.isShow&&C.isMask?(e(),t(w,{key:0,class:"fui-ddm__mask",style:o({background:C.maskBackground}),onClick:g[0]||(g[0]=e=>S.close(1))},null,8,["style"])):r("",!0),x.isNvueShow||!x.isNvue?(e(),t(w,{key:1,class:l(["fui-dropdown__menu-list",{"fui-ddm__down":"up"!==C.direction,"fui-ddm__up":"up"===C.direction,"fui-ddm__down-show":x.isShow&&"up"!==C.direction,"fui-ddm__up-show":x.isShow&&"up"===C.direction}]),style:o(S.getStyles),ref:"fui_ddm_list"},{default:i((()=>[d(B,{"show-scrollbar":!1,class:"fui-ddm__scroll","scroll-y":"",style:o({height:x.isNvue?C.maxHeight+"rpx":"auto",maxHeight:C.maxHeight+"rpx",minWidth:C.minWidth+"rpx"})},{default:i((()=>[d(w,null,{default:i((()=>[(e(!0),a(u,null,c(x.itemList,((s,a)=>(e(),t(w,{class:l(["fui-dropdown__menu-item",{"fui-ddm__reverse":C.isReverse,"fui-ddm__item-line":C.splitLine&&x.itemList.length-1!==a}]),style:o({background:C.background,padding:C.padding,borderBottomColor:C.splitLine&&x.isNvue?C.lineColor:"transparent"}),key:a,onClick:m((e=>S.itemClick(a)),["stop"])},{default:i((()=>[C.isCheckbox?(e(),t(w,{key:0,class:l(["fui-ddm__checkbox",{"fui-is__checkmark":C.isCheckMark,"fui-ddm__checkbox-color":(!C.checkboxColor||!0===C.checkboxColor)&&s.checked&&!C.isCheckMark}]),style:o({background:s.checked&&!C.isCheckMark?S.getChkColor:"transparent",borderColor:s.checked&&!C.isCheckMark?S.getChkColor:C.borderColor})},{default:i((()=>[s.checked?(e(),t(w,{key:0,class:"fui-ddm__checkmark",style:o({borderBottomColor:C.checkmarkColor,borderRightColor:C.checkmarkColor})},null,8,["style"])):r("",!0)])),_:2},1032,["class","style"])):r("",!0),d(w,{class:"fui-ddm__flex"},{default:i((()=>[s.src?(e(),t(w,{key:0,class:l(["fui-ddm__icon-box",{"fui-ddm__icon-ml":!C.isReverse&&C.isCheckbox,"fui-ddm__icon-mr":C.isReverse}]),style:o({width:C.iconWidth+"rpx",height:C.iconWidth+"rpx"})},{default:i((()=>[d(v,{src:s.src,style:o({width:C.iconWidth+"rpx",height:C.iconWidth+"rpx"})},null,8,["src","style"])])),_:2},1032,["class","style"])):r("",!0),d(N,{class:l(["fui-ddm__item-text",{"fui-ddm__text-pl":!C.isReverse&&(C.isCheckbox||s.src),"fui-ddm__text-pr":C.isReverse&&(C.isCheckbox||s.src)}]),style:o({fontSize:C.size+"rpx",color:C.selectedColor&&s.checked?C.selectedColor:C.color})},{default:i((()=>[f(p(s.text),1)])),_:2},1032,["class","style"])])),_:2},1024)])),_:2},1032,["style","class","onClick"])))),128))])),_:1})])),_:1},8,["style"])])),_:1},8,["class","style"])):r("",!0)])),_:3},8,["onClick"])}],["__scopeId","data-v-78b7696e"]]);export{g as _};
