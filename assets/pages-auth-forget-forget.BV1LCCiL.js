import{I as e,a as t,b8 as a,i as o,b9 as l,q as n,B as i,x as s,w as r,F as c,u as d,v as u,E as p,y as f,z as m,t as h,H as g,b5 as _}from"./index-DJtkXLbk.js";import{_ as v}from"./fui-icon.Di2eQoC1.js";import{r as b}from"./uni-app.es.DnKBEGT2.js";import{_ as x}from"./fui-nav-bar.jzMwm7nO.js";import{_ as $}from"./fui-button.Bz1nWTaC.js";import{_ as k}from"./authPop.J76QaGfj.js";import{_ as y}from"./areacode.D1oZi0ud.js";import{_ as C}from"./alert.Dea_H56C.js";import{_ as j}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-popup.CzvQehha.js";import"./uni-popup-dialog.BcHbARwi.js";const V=j({components:{[e.name]:e},data(){return{active:0,onFocus:"",account:"",title:this.$t("login.tip_t2"),content:"",ctxt:this.$t("login.cancel"),ftxt:this.$t("login.confirm"),area:"+86"}},watch:{active(){this.account=""}},computed:{...t(["userTheme"])},methods:{confirm(e){0!=this.active&&(this.area=""),this.$mroute.setPwd(this.account,e,this.area,1)},resend(){a({title:this.$t("login.send")}),o.sendFindCode(this.account,0===this.active?1:2,this.area).then((e=>{if(l(),200!=e.code)return this.$refs.alert.close(),void(this.content=e.message)}))},sendCode(){if(this.account.length<6)return!1;a({title:this.$t("login.send")}),o.sendFindCode(this.account,0===this.active?1:2,this.area).then((e=>{if(l(),200!=e.code)return this.content=e.message,void this.$refs.alert.open();this.openVerifyCode()}))},openVerifyCode(){this.$refs.authPop.open()},closeVerifyCode(){this.$refs.authPop.close()},openarea(){this.$refs.areacode.open()},areacode(e){this.area=e.dialingCode}}},[["render",function(e,t,a,o,l,j){const V=b(n("fui-icon"),v),w=b(n("fui-nav-bar"),x),I=g,P=d,z=_,F=b(n("fui-button"),$),B=b(n("authPop"),k),H=b(n("areacode"),y),O=b(n("alert"),C);return u(),i(c,null,[s(P,{class:"forget","data-theme":e.userTheme},{default:r((()=>[s(w,{isFixed:"",isOccupy:"",statusBar:"",zIndex:"9",background:"var(--background-primary)",color:"var(--content-primary)",title:e.$t("login.forget_t"),onLeftClick:t[0]||(t[0]=t=>e.$mroute.back())},{default:r((()=>[s(V,{name:"arrowleft",size:"56",color:"var(--content-primary)"},null,8,["color"])])),_:1},8,["title"]),s(P,{class:"body-wrap"},{default:r((()=>[s(P,{class:"login-mode"},{default:r((()=>[s(P,{class:p(["item",0===l.active?"active":""]),onClick:t[1]||(t[1]=e=>l.active=0)},{default:r((()=>[s(I,null,{default:r((()=>[f(m(e.$t("login.phone")),1)])),_:1})])),_:1},8,["class"]),s(P,{class:p(["item",1===l.active?"active":""]),onClick:t[2]||(t[2]=e=>l.active=1)},{default:r((()=>[s(I,null,{default:r((()=>[f(m(e.$t("login.email")),1)])),_:1})])),_:1},8,["class"])])),_:1}),s(P,{class:"login-label"},{default:r((()=>[s(I,{class:"font-13 color-gray"},{default:r((()=>[f(m(0===l.active?e.$t("login.phone1"):e.$t("login.email1")),1)])),_:1}),0===l.active?(u(),h(P,{key:0,class:"input-box mt-7",type:"phone"},{default:r((()=>[s(P,{class:"area-code",onClick:t[3]||(t[3]=e=>j.openarea())},{default:r((()=>[s(I,{class:"font-14 color-black font-weight"},{default:r((()=>[f(m(l.area),1)])),_:1}),s(V,{name:"turningdown",size:"36",color:"var(--content-tertiary)"},null,8,["color"])])),_:1}),s(z,{type:"number",modelValue:l.account,"onUpdate:modelValue":t[4]||(t[4]=e=>l.account=e),placeholder:this.$t("login.phone_p"),"placeholder-class":"placeholder"},null,8,["modelValue","placeholder"])])),_:1})):(u(),h(P,{key:1,class:"input-box mt-7"},{default:r((()=>[s(z,{type:"text",modelValue:l.account,"onUpdate:modelValue":t[5]||(t[5]=e=>l.account=e),placeholder:this.$t("login.email_p"),"placeholder-class":"placeholder"},null,8,["modelValue","placeholder"])])),_:1}))])),_:1}),s(P,{class:"button-box"},{default:r((()=>[s(F,{onClick:j.sendCode,height:"78rpx",radius:"78rpx",size:"26",background:"var(--content-primary)",color:"var(--background-primary)"},{default:r((()=>[f(m(e.$t("login.next")),1)])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["data-theme"]),s(B,{ref:"authPop",onCallback:j.confirm,onResend:j.resend},null,8,["onCallback","onResend"]),s(H,{ref:"areacode",onItemclick:j.areacode},null,8,["onItemclick"]),s(O,{ref:"alert",title:l.title,ctxt:l.ctxt,ftxt:l.ftxt,content:l.content},null,8,["title","ctxt","ftxt","content"])],64)}],["__scopeId","data-v-955dbdb0"]]);export{V as default};
