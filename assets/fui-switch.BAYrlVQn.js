import{v as e,t as a,w as l,E as t,D as s,x as o,A as i,bI as c,u as r}from"./index-DJtkXLbk.js";import{_ as d}from"./_plugin-vue_export-helper.BCo6x5W8.js";const n=d({name:"fui-switch",emits:["change"],behaviors:["uni://form-field"],props:{name:{type:String,default:""},checked:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{type:String,default:"switch"},color:{type:String,default:""},borderColor:{type:String,default:"#ccc"},checkMarkColor:{type:String,default:"#fff"},scaleRatio:{type:[Number,String],default:1}},computed:{getColor(){return this.color}},data:()=>({val:!1,isNvue:!1,isLabel:!1}),watch:{checked(e){this.val=e}},created(){this.val=this.checked,this.label=this.getParent(),this.label&&(this.isLabel=!0,this.label.childrens.push(this))},methods:{change(e,a){this.label&&!a||(this.val=e.detail.value,this.$emit("change",e))},labelClick(){if(this.disabled)return;let e={detail:{value:!this.val}};this.change(e,!0)},getParent(e="fui-label"){let a=this.$parent,l=a.$options.name;for(;l!==e;){if(a=a.$parent,!a)return!1;l=a.$options.name}return a}}},[["render",function(d,n,h,u,f,b){const p=c,_=r;return e(),a(_,{class:"fui-switch__input",style:s({zoom:f.isNvue?1:h.scaleRatio,transform:`scale(${f.isNvue?h.scaleRatio:1})`})},{default:l((()=>["switch"===h.type?(e(),a(_,{key:0,class:t(["fui-switch__input-def",{"fui-switch__input--checked":f.val,"fui-checkbox__disabled":h.disabled,"fui-switch__color":f.val&&!h.color}]),style:s({background:f.val?h.color:"#dfdfdf",borderColor:f.val?h.color:h.borderColor})},{default:l((()=>[o(p,{class:t(["fui-switch__hidden",{"fui-pointer__events":f.isLabel}]),onChange:b.change,name:h.name,checked:f.val,disabled:h.disabled,color:h.color},null,8,["class","onChange","name","checked","disabled","color"])])),_:1},8,["style","class"])):(e(),a(_,{key:1,class:t(["fui-checkbox__self",{"fui-checkbox__disabled":h.disabled,"fui-switch__color":!b.getColor&&f.val}]),style:s({background:f.val?b.getColor:"#fff",border:f.val?`1px solid ${b.getColor}`:`1px solid ${h.borderColor}`})},{default:l((()=>[f.val?(e(),a(_,{key:0,class:"fui-check__mark",style:s({borderBottomColor:h.checkMarkColor,borderRightColor:h.checkMarkColor})},null,8,["style"])):i("",!0),o(p,{class:t(["fui-switch__hidden",{"fui-pointer__events":f.isLabel}]),style:{opacity:"0",position:"absolute"},onChange:b.change,name:h.name,type:"checkbox",checked:f.val,disabled:h.disabled},null,8,["class","onChange","name","checked","disabled"])])),_:1},8,["class","style"]))])),_:1},8,["style"])}],["__scopeId","data-v-a8735963"]]);export{n as _};
