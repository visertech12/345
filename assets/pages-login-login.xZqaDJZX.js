import{bB as e,q as t,v as s,t as i,w as o,x as a,bm as l,D as r,y as n,z as c,A as d,E as h,u,H as g,G as f,g as p,k as m,f as y,bi as w,bj as _,bl as x,I as v,aW as b,$ as C,l as k,m as A,a as S,b as I,b8 as N,i as j,b9 as B,bC as R,n as $,ba as O,B as T,F,b5 as P,J as M}from"./index-DJtkXLbk.js";import{_ as W}from"./fui-icon.Di2eQoC1.js";import{r as Q}from"./uni-app.es.DnKBEGT2.js";import{_ as G}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{c as D,_ as H}from"./areacode.D1oZi0ud.js";import{_ as Y}from"./alert.Dea_H56C.js";import{_ as z}from"./loading.4tTz4-j4.js";import"./fui-nav-bar.jzMwm7nO.js";import"./uni-popup.CzvQehha.js";import"./uni-popup-dialog.BcHbARwi.js";import"./fui-loading.PBeNzzTK.js";var U=0,E=0;function K(){if("object"!=typeof navigator)return!1;for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],s=!0,i=0;i<t.length-1;i++)if(e.indexOf(t[i])>0){s=!1;break}return s}var V=!1;function L(e,t){var s=e.instance.getState(),i=e.touches[0]||e.changedTouches[0];V&&K()&&(i=e);var o=e.instance.getDataset();s.startX=i.pageX,U=+o.width,E=+o.swidth,s.disabled=1==+o.disabled}function Z(e,t,s){if(s){var i=s.selectComponent(".fui-rv__slider"),o=s.selectComponent(".fui-rv__image");o&&i&&(0==e&&0==t?(i.removeClass("fui-rv__un-ani"),o.removeClass("fui-rv__un-ani"),i.addClass("fui-rv__rest-ani"),o.addClass("fui-rv__rest-ani")):(i.removeClass("fui-rv__rest-ani"),o.removeClass("fui-rv__rest-ani"),i.addClass("fui-rv__un-ani"),o.addClass("fui-rv__un-ani")),i.setStyle({transform:"translate3d("+e+"px,0,0)"}),o.setStyle({transform:"rotate("+t+"deg)"}))}}function J(e,t,s){e.preventDefault&&e.preventDefault();var i={},o={};if(V&&K()?(o=e,i=s.instance.getState()):(i=e.instance.getState(),o=e.touches[0]||e.changedTouches[0]),!i.disabled){var a=o.pageX,l=a-i.startX+(i.lastLeft||0),r=U-E;l=(l=l<0?0:l)>=r?r:l,i.startX=a,i.lastLeft=l,Z(l,360/r*l,t)}}function X(e,t,s){var i={};if(!(i=V&&K()?s.instance.getState():e.instance.getState()).disabled){var o=360/(U-E)*i.lastLeft;t.callMethod("verify",{angle:o})}}"object"==typeof window&&(V=!0);var q=!1;const ee={touchstart:L,touchmove:J,touchend:X,mousedown:function(e,t){V&&K()&&(L(e),q=!0,window.onmousemove=function(s){V&&K()&&q&&J(s,t,e)},window.onmouseup=function(s){V&&K()&&q&&(X(s,t,e),q=!1)})},slidereset:function(e,t,s,i){var o=i.getState();e>0&&(o.startX=0,o.lastLeft=0,o.disabled=!1,Z(0,0,s))}},te=e=>{e.$wxs||(e.$wxs=[]),e.$wxs.push("parse"),e.mixins||(e.mixins=[]),e.mixins.push({beforeCreate(){this.parse=ee}})},se={name:"fui-rotate-verify",mixins:[{},{}],emits:["verify"],props:{width:{type:[Number,String],default:600},background:{type:String,default:"#FFFFFF"},title:{type:String,default:"安全验证"},color:{type:String,default:"#B2B2B2"},size:{type:[Number,String],default:28},desc:{type:String,default:""},descrColor:{type:String,default:"#333333"},descrSize:{type:[Number,String],default:32},src:{type:String,default:""},imgWidth:{type:[Number,String],default:240},borderColor:{type:String,default:"#EEEEEE"},sliderBgColor:{type:String,default:"#FFFFFF"},closeColor:{type:String,default:"#B2B2B2"},slideColor:{type:String,default:"#333333"},passColor:{type:String,default:""},failColor:{type:String,default:""},zIndex:{type:[Number,String],default:996},maskBgColor:{type:String,default:"rgba(0,0,0,.6)"},maskClosable:{type:Boolean,default:!1}},watch:{imgWidth(e){this.imgW=this.getPx(e)},width(e){this.sliderWidth=this.getPx(Number(e)-64)}},computed:{getColor(){const e=uni&&uni.$fui&&uni.$fui.color;let t=this.passColor||e&&e.success||"#09BE4F",s=this.failColor||e&&e.danger||"#FF2B2B";return this.isPass?t:s}},data:()=>({isNvue:!1,isShow:!1,isPass:!1,disabled:!1,showRes:!1,sliderHeight:0,imgW:0,sliderWidth:0,resetNum:0}),created(){this.sliderWidth=this.getPx(Number(this.width)-64),this.sliderHeight=this.getPx(92),this.imgW=this.getPx(this.imgWidth)},methods:{getPx(t){let s=parseInt(e(Number(t)));return s%2==0?s:s+1},success(){this.isPass=!0},fail(){this.showRes=!0,this.isPass=!1,setTimeout((()=>{this.reset()}),300)},verify(e){this.disabled=!0,this.$emit("verify",e)},verifyRes(e,t,s,i){let o=!1;(Math.abs(e+t-360)<=s||Math.abs(e+t)<=s)&&(o=!0),i&&i(o)},maskClose(){this.maskClosable&&this.closeVerify()},closeVerify(){this.reset(),this.isShow=!1},show(){this.isShow=!0},reset(){this.resetNum+=1,this.isPass=!1,this.disabled=!1,this.showRes=!1},stop(){}}};te(se);const ie=G(se,[["render",function(e,p,m,y,w,_){const x=Q(t("fui-icon"),W),v=u,b=g,C=f;return w.isShow||!w.isNvue?(s(),i(v,{key:0,class:h(["fui-rotate__verify-wrap",{"fui-rv__wrap-show":w.isShow}]),style:r({background:m.maskBgColor,zIndex:m.zIndex}),onClick:_.maskClose,onTouchmove:l(_.stop,["stop","prevent"]),ref:"fui_rv_ani"},{default:o((()=>[a(v,{class:"fui-rotate__verify",style:r({width:m.width+"rpx",background:m.background}),onClick:l(_.stop,["stop"])},{default:o((()=>[a(v,{class:"fui-rv__close",onClick:l(_.closeVerify,["stop"])},{default:o((()=>[a(x,{name:"close",color:m.closeColor},null,8,["color"])])),_:1},8,["onClick"]),a(b,{class:"fui-rv__title",style:r({color:m.color,fontSize:m.size+"rpx"})},{default:o((()=>[n(c(m.title),1)])),_:1},8,["style"]),a(b,{class:"fui-rv__descr",style:r({color:m.descrColor,fontSize:m.descrSize+"rpx"})},{default:o((()=>[n(c(m.desc),1)])),_:1},8,["style"]),a(v,{class:"fui-rv__image-box",style:r({width:w.imgW+"px",height:w.imgW+"px",borderRadius:w.isNvue?w.imgW+"px":"50%"})},{default:o((()=>[a(C,{class:"fui-rv__image",src:m.src,style:r({width:w.imgW+"px",height:w.imgW+"px",borderRadius:w.isNvue?w.imgW+"px":"50%"}),ref:"imgRef"},null,8,["src","style"]),w.showRes||w.isPass?(s(),i(v,{key:0,class:"fui-rv__result",style:r({width:w.imgW+"px",height:w.imgW+"px",borderRadius:w.isNvue?w.imgW+"px":"50%"})},{default:o((()=>[a(x,{name:w.isPass?"check":"close",size:96,color:_.getColor},null,8,["name","color"])])),_:1},8,["style"])):d("",!0)])),_:1},8,["style"]),a(v,{class:"fui-rv__slidebar",style:r({width:w.sliderWidth+"px",height:w.sliderHeight+"px",borderColor:m.borderColor,borderRadius:w.sliderHeight+"px"})},{default:o((()=>[a(v,{class:"fui-rv__slider",style:r({width:w.sliderHeight+"px",height:w.sliderHeight-2+"px",background:m.sliderBgColor,borderColor:m.borderColor,borderRadius:w.isNvue?w.sliderHeight+"px":"50%"}),"change:prop":e.parse.slidereset,prop:w.resetNum,"data-width":w.sliderWidth,"data-swidth":w.sliderHeight,"data-disabled":w.isPass||w.disabled||!w.isShow?1:0,onTouchstart:e.parse.touchstart,onTouchmove:e.parse.touchmove,onTouchend:e.parse.touchend,onMousedown:e.parse.mousedown},{default:o((()=>[a(x,{name:"slide",size:60,color:m.slideColor},null,8,["color"])])),_:1},8,["style","change:prop","prop","data-width","data-swidth","data-disabled","onTouchstart","onTouchmove","onTouchend","onMousedown"])])),_:1},8,["style"])])),_:1},8,["style","onClick"])])),_:1},8,["class","style","onClick","onTouchmove"])):d("",!0)}],["__scopeId","data-v-3f1387e1"]]);var oe=300,ae=32,le=3,re=0,ne=0,ce=1;function de(){if("object"!=typeof navigator)return!1;for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],s=!0,i=0;i<t.length-1;i++)if(e.indexOf(t[i])>0){s=!1;break}return s}var he=!1;function ue(e){var t=oe-re-44,s=e/(oe-ae)*t;return s>t?t:s}function ge(e,t){if(t&&t.selectComponent(".fui-sc__slot-box")){var s=ue(e),i=t.selectComponent(".fui-sc__slider"),o=t.selectComponent(".fui-sc__slot-box");i&&o&&(0==e?(i.removeClass("fui-sc__un-ani"),o.removeClass("fui-sc__un-ani"),i.addClass("fui-sc__reset-ani"),o.addClass("fui-sc__reset-ani")):(i.removeClass("fui-sc__reset-ani"),o.removeClass("fui-sc__reset-ani"),i.addClass("fui-sc__un-ani"),o.addClass("fui-sc__un-ani")),i.setStyle({transform:"translate3d("+e+"px,0,0)"}),o.setStyle({transform:"translate3d("+s+"px,0,0)"}))}}function fe(e,t){var s=e.instance.getState(),i=e.touches[0]||e.changedTouches[0];he&&de()&&(i=e);var o=e.instance.getDataset();s.startX=i.pageX,ce=+o.type,re=+o.start,ne=+o.end,ae=+o.swidth,le=+o.range,oe=+o.width,s.disabled=1==+o.disabled}function pe(e,t,s){e.preventDefault&&e.preventDefault();var i={},o={};if(he&&de()?(o=e,i=s.instance.getState()):(i=e.instance.getState(),o=e.touches[0]||e.changedTouches[0]),!i.disabled){var a=o.pageX,l=a-i.startX+(i.lastLeft||0),r=oe-ae;l=(l=l<0?0:l)>=r?r:l,i.startX=a,i.lastLeft=l,ge(l,t)}}function me(e,t,s){var i={};if(!(i=he&&de()?s.instance.getState():e.instance.getState()).disabled){var o=ue(i.lastLeft);if(1==ce){var a=ne-re;Math.abs(o-a)<=le?(i.disabled=!0,t.callMethod("success")):(i.startX=0,i.lastLeft=0,i.disabled=!1,ge(0,t),t.callMethod("fail"))}else t.callMethod("verify",{slip:o})}}"object"==typeof window&&(he=!0);var ye=!1;const we={touchstart:fe,touchmove:pe,touchend:me,mousedown:function(e,t){he&&de()&&(fe(e),ye=!0,window.onmousemove=function(s){he&&de()&&ye&&pe(s,t,e)},window.onmouseup=function(s){he&&de()&&ye&&(me(s,t,e),ye=!1)})},slidereset:function(e,t,s,i){var o=i.getState();e>0&&(o.startX=0,o.lastLeft=0,o.disabled=!1,ge(0,s))}},_e=e=>{e.$wxs||(e.$wxs=[]),e.$wxs.push("parse"),e.mixins||(e.mixins=[]),e.mixins.push({beforeCreate(){this.parse=we}})},xe={name:"fui-slider-captcha",mixins:[{},{}],emits:["success","fail","verify","init"],props:{type:{type:[Number,String],default:1},range:{type:[Number,String],default:3},location:{type:Object,default:()=>({})},src:{type:String,default:""},imageType:{type:[Number,String],default:1},width:{type:[Number,String],default:550},height:{type:[Number,String],default:280},background:{type:String,default:"#FFFFFF"},title:{type:String,default:"安全验证"},desc:{type:String,default:"拖动下方滑块完成拼图"},color:{type:String,default:"#B2B2B2"},size:{type:[Number,String],default:28},descrColor:{type:String,default:"#333333"},descrSize:{type:[Number,String],default:32},closeColor:{type:String,default:"#B2B2B2"},sliderBgColor:{type:String,default:""},slideColor:{type:String,default:"#FFFFFF"},zIndex:{type:[Number,String],default:996},maskBgColor:{type:String,default:"rgba(0,0,0,.6)"},maskClosable:{type:Boolean,default:!1}},watch:{src(e,t){1==this.type?e&&this.handleImage():void 0!==this.location.x&&e&&this.handleImage()},location(e){2==this.type&&e&&(this.x=e.x||10,this.y=e.y||10,this.x1=e.x1||160,(this.x+this.y+this.x1)%2==0?this.circle=!0:this.circle=!1,this.src&&this.handleImage())}},computed:{getSliderBgColor(){return this.sliderBgColor}},data(){let e=p();const t=`fui_sc_${Math.ceil(1e6*Math.random()).toString(36)}`;let s=2;return s=1==e.pixelRatio?2:e.pixelRatio,{pixelRatio:s,isNvueAndroid:!1,canvasId:t,isNvue:!1,isShow:!1,w:320,h:160,sliderH:0,imgSrc:"",slotSrc:"",x:0,y:0,x1:0,circle:!1,resetNum:0,isPass:!1,disabled:!1,times:0}},created(){this.w=this.getPx(this.width),this.h=this.getPx(this.height),this.sliderH=this.getPx(64),this.$emit("init",{width:this.w,height:this.h,cutGraphWidth:44})},mounted(){this.$nextTick((()=>{setTimeout((()=>{1==this.type?this.src&&this.handleImage():void 0!==this.location.x&&this.src&&this.handleImage()}),50)}))},methods:{getPx(t){let s=parseInt(e(Number(t)));return s%2==0?s:s+1},getImage(e,t){m({url:e,success:e=>{t&&t(e.tempFilePath)},fail:e=>{t&&t(!1)}})},getImagebyBase64(e,t){Math.ceil(1e6*Math.random()).toString(36),t&&t(e)},toast(e){y({title:e,icon:"none"})},getRandom(e,t){let s=Array.from(new Array(t+1).keys()).slice(e);return s[Math.floor(Math.random()*s.length)]},getXY(){this.x=this.getRandom(20,this.w/2-44),this.y=this.getRandom(20,this.h-60),this.x1=this.getRandom(this.w/2+44,this.w-60),(this.x+this.y+this.x1)%2==0?this.circle=!0:this.circle=!1},darwImage(e){let t=w(this.canvasId,this);t.drawImage(e,0,0,this.w,this.h),t.draw(!1,(()=>{setTimeout((()=>{_({canvasId:this.canvasId,x:this.x1,y:this.y,width:44,height:44,success:e=>{this.slotSrc=e.tempFilePath},fail:e=>{this.toast("图片资源处理失败~")}},this)}),200)}))},handleImage(){this.slotSrc="",this.times=0,1==this.type&&this.getXY(),this.reset(),1==this.imageType?this.getImage(this.src,(e=>{e?(this.imgSrc=e,this.darwImage(e)):this.toast("图片资源处理失败~")})):2==this.imageType?this.getImagebyBase64(this.src,(e=>{e?(this.imgSrc=e,this.darwImage(e)):this.toast("图片资源处理失败~")})):(this.imgSrc=this.src,this.darwImage(this.imgSrc))},reset(){this.resetNum+=1,this.isPass=!1,this.disabled=!1},verify(e){this.disabled=!0,this.$emit("verify",{x:this.x,x1:this.x1,slipDistance:e.slip})},success(){this.isPass=!0,1==this.type&&this.$emit("success",{})},fail(){1==this.type&&(this.times+=1,this.$emit("fail",{times:this.times})),this.reset()},maskClose(){this.maskClosable&&this.closeVerify()},closeVerify(){this.reset(),this.isShow=!1},show(e){e&&(1==this.type?this.src&&this.handleImage():void 0!==this.location.x&&this.src&&this.handleImage()),this.isShow=!0},stop(){}}};_e(xe);const ve=G(xe,[["render",function(e,p,m,y,w,_){const v=x,b=g,C=f,k=u,A=Q(t("fui-icon"),W);return w.isShow||!w.isNvue?(s(),i(k,{key:0,class:h(["fui-slider__captcha-wrap",{"fui-sc__wrap-show":w.isShow}]),style:r({background:m.maskBgColor,zIndex:m.zIndex}),onClick:_.maskClose,onTouchmove:l(_.stop,["stop","prevent"]),ref:"fui_sc_ani"},{default:o((()=>[w.canvasId?(s(),i(v,{key:0,class:"fui-sc__canvas","canvas-id":w.canvasId,id:w.canvasId,style:r({width:w.w+"px",height:w.h+"px"})},null,8,["canvas-id","id","style"])):d("",!0),a(k,{class:"fui-slider__captcha",style:r({background:m.background}),onClick:l(_.stop,["stop"])},{default:o((()=>[a(b,{class:"fui-sc__title",style:r({width:w.w+"px",color:m.color,fontSize:m.size+"rpx"})},{default:o((()=>[n(c(m.title),1)])),_:1},8,["style"]),a(b,{class:"fui-sc__descr",style:r({width:w.w+"px",color:m.descrColor,fontSize:m.descrSize+"rpx"})},{default:o((()=>[n(c(m.desc),1)])),_:1},8,["style"]),a(k,{class:"fui-sc__img-box",style:r({width:w.w+"px"})},{default:o((()=>[m.src?(s(),i(C,{key:0,class:"fui-sc__img",src:m.src,style:r({width:w.w+"px",height:w.h+"px"})},null,8,["src","style"])):d("",!0),w.slotSrc?(s(),i(k,{key:1,class:h(["fui-sc__slot",{"fui-sc__slot-circle":w.circle,"fui-sc__slot-bs":!w.isNvueAndroid}]),style:r({left:w.x1+"px",top:w.y+"px"})},null,8,["class","style"])):d("",!0),a(k,{class:h(["fui-sc__slot-box",{"fui-sc__slot-circle":w.circle,"fui-sc__sb-hidden":!w.slotSrc,"fui-sc__sb-bs":!w.isNvueAndroid}]),ref:"imgRef",style:r({left:w.x+"px",top:w.y+"px"})},{default:o((()=>[a(C,{src:w.slotSrc,class:h(["fui-sc__slot-img",{"fui-sc__slot-circle":w.circle&&w.isNvue,"fui-sc__img-border":w.isNvueAndroid}])},null,8,["src","class"])])),_:1},8,["class","style"])])),_:1},8,["style"]),a(k,{class:"fui-sc__sliderbar",style:r({width:w.w+"px",height:w.sliderH+"px"})},{default:o((()=>[a(k,{class:"fui-sc__bar",style:r({width:w.w+"px",height:w.sliderH/2+"px",borderRadius:w.sliderH+"px"})},null,8,["style"]),a(k,{class:h(["fui-sc__slider",{"fui-sc__slider-bg":!_.getSliderBgColor}]),style:r({width:2*w.sliderH+"px",height:w.sliderH+"px",borderRadius:w.sliderH+"px",background:_.getSliderBgColor}),"change:prop":e.parse.slidereset,prop:w.resetNum,"data-type":m.type,"data-width":w.w,"data-start":w.x,"data-end":w.x1,"data-swidth":2*w.sliderH,"data-disabled":!w.slotSrc||w.isPass||w.disabled||!w.isShow?1:0,"data-range":m.range,onTouchstart:e.parse.touchstart,onTouchmove:e.parse.touchmove,onTouchend:e.parse.touchend,onMousedown:e.parse.mousedown},{default:o((()=>[a(A,{name:"slide",size:56,color:m.slideColor},null,8,["color"])])),_:1},8,["class","style","change:prop","prop","data-type","data-width","data-start","data-end","data-swidth","data-disabled","data-range","onTouchstart","onTouchmove","onTouchend","onMousedown"])])),_:1},8,["style"]),a(k,{class:"fui-sc__close",onClick:l(_.closeVerify,["stop"])},{default:o((()=>[a(A,{name:"close",color:m.closeColor},null,8,["color"])])),_:1},8,["onClick"])])),_:1},8,["style","onClick"])])),_:1},8,["class","style","onClick","onTouchmove"])):d("",!0)}],["__scopeId","data-v-3e324f7f"]]);var be;const Ce=G({components:{[v.name]:v,fuiSliderCaptcha:ve,fuiRotateVerify:ie},data(){return{login:1,height:"100%",active:0,eye:"visible",itype:"password",onFocus:"",showareacode:"+0",verifyRes:!1,phone:"",email:"",invaiteCode:"",title:"",content:"",ctxt:this.$t("login.cancel"),ftxt:this.$t("login.confirm"),password:"",src:"",resUrl:"https://res.firstui.cn/static/images",index:0,istatus:!1,wallet:!1}},onLoad(e){e.code&&""!=e.code&&b("invaite-code",e.code)},onReady(){C("getLocal",(e=>{console.log(e)}));var e=k("local-country");if(void 0!==e&&""!=e)for(var t=0;t<D.countryList.length;t++)if(D.countryList[t].code.toLowerCase()===e.toLowerCase()){this.showareacode=D.countryList[t].dialingCode;break}},onShow(){var e=k("invaite-code");void 0!==e&&""!=e&&(this.invaiteCode=e,this.istatus=!0),this.getVerifyImage();const t=k("login_phone");void 0!==t&&""!=t&&(this.phone=t);const s=k("login_email");void 0!==s&&""!=s&&(this.email=s),1===parseInt(this.config.register_type)&&(this.active=1),2===parseInt(this.config.register_type)&&(this.active=0)},computed:{...A(["config"]),...S(["userTheme"])},methods:{...I(["userLogin"]),loginWallet(){},checkWalletEnv(){(window.tronWeb||window.ethereum)&&(this.wallet=!0)},download(){window.location.href=this.config.download},getVerifyImage(){let e=this.index;e++,e>3&&(e=1),this.index=e,this.src=`${this.resUrl}/component/sc/img_sc_${e}.png`},verifyFail(e){e.times>=3&&this.getVerifyImage()},verifyResult(e){if(console.log(e),e.angle<170||e.angle>200)this.$refs.scRef.fail();else{if(this.verifyHide(),0===this.active&&0==this.login){if(N(),console.log(this.showareacode),"+86"==this.showareacode||"+886"==this.showareacode||"+852"==this.showareacode)return void y({icon:"none",title:"该地区不支持.不能进行下一步操作"});j.sendPhoneVerifyCode(this.phone,this.showareacode).then((e=>{B(),200==e.code?(b("invite_code",this.invaiteCode),this.$mroute.authVerify("phone",this.phone,this.showareacode)):(this.title=this.$t("login.tip_t2"),this.content=e.message,this.$refs.alert.open())}))}if(1==this.active&&0==this.login&&(N(),j.sendEmailVerifyCode(this.email).then((e=>{B(),200==e.code?(b("invite_code",this.invaiteCode),this.$mroute.authVerify("email",this.email,"")):(this.title=this.$t("login.tip_t2"),this.content=e.message,this.$refs.alert.open())}))),1==this.login){var t={password:this.password,type:0==this.active?1:2};if(0==this.active){if(""==this.phone)return this.title=this.$t("login.tip_t2"),this.content=this.$t("login.phone_p"),this.$refs.alert.open(),!1;t.phone=this.phone,t.code=this.showareacode.replace("+",""),b("login_phone",this.phone)}else{if(""==this.email)return this.title=this.$t("login.tip_t2"),this.content=this.$t("login.email_p"),this.$refs.alert.open(),!1;t.email=this.email,b("login_email",this.email)}if(""==this.password)return this.title=this.$t("login.tip_t2"),this.content=this.$t("login.pwd_p"),this.$refs.alert.open(),!1;N({title:this.$t("login.load_log")}),j.login(t).then((e=>{console.log(e),B(),be=e.code,200!=e.code?(this.title=this.$t("login.log_t1"),this.content=e.message,this.$refs.alert.open()):(this.userLogin(e.data),this.ctxt="",this.content=this.$t("login.verify_c2"),this.$refs.alert.open())}))}}},alertConfirm(){if(1==this.login&&200===be)return this.$mroute.switchIndex()},googleLogin(){console.log("gogole");var e=this;this.$refs.loading.open(),R({provider:"google",complete(t){"login:ok"===t.errMsg&&uni.getUserInfo({provider:"google",success(s){j.googleLogin(s.userInfo.email,t.authResult.access_token).then((i=>{e.$refs.loading.close(),200===i.code&&void 0===i.data.action?(e.userLogin(i.data),e.login,be=200,e.ctxt="",e.content=e.$t("login.verify_c2"),e.$refs.alert.open()):(b("google-token",t.authResult.access_token),b("google-info",s.userInfo),$({url:"/pages/auth/setpwd/setpwd?a="+s.userInfo.email+"&type=google"}))}))},fail(){e.$refs.loading.close()}})},fail(t){e.$refs.loading.close(),console.log(t)}})},register(){this.$mroute.authVerify("email")},showArea(){this.$refs.areacode.open()},areacode(e){this.showareacode=e.dialingCode},verifyShow(){if(1==this.login&&(""==this.phone&&0==this.active||""==this.email&&1==this.active))return this.title=this.$t("login.tip_t1"),this.content=this.$t("login.tip_c1"),this.$refs.alert.open(),!1;this.$refs.scRef&&this.$refs.scRef.show()},verifyHide(){this.$refs.scRef&&this.$refs.scRef.closeVerify()},open(){this.$refs.popup.closeVerify()},close(){O()},switchPanel(){},changeInput(){"text"==this.itype?(this.itype="password",this.eye="visible"):(this.itype="text",this.eye="invisible")},sliderChange(e){this.active=e,0==this.active?this.email="":this.phone="",this.password=""}}},[["render",function(e,l,r,p,m,y){const w=Q(t("fui-icon"),W),_=g,x=u,v=f,b=P,C=M,k=Q(t("fui-rotate-verify"),ie),A=Q(t("areacode"),H),S=Q(t("alert"),Y),I=Q(t("loading"),z);return s(),T(F,null,[a(x,{class:"login","data-theme":e.userTheme},{default:o((()=>[a(x,{class:"login-top"},{default:o((()=>[a(w,{name:"close",size:"56",color:"var(--text-black)",onClick:l[0]||(l[0]=e=>y.close())}),a(x,{class:"title"},{default:o((()=>[a(_,{class:"color-black font-bold"},{default:o((()=>[n(c(1==m.login?(e.config.site_name?e.config.site_name:"")+" "+e.$t("login.t1"):(e.config.site_name?e.config.site_name:"")+" "+e.$t("login.t2")),1)])),_:1})])),_:1}),a(x,{class:"bg-box"},{default:o((()=>[a(v,{src:"data:image/png;base64,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",mode:"widthFix"})])),_:1})])),_:1}),a(x,{class:"login-bottom"},{default:o((()=>[a(x,{class:"switchTab"},{default:o((()=>[a(x,{class:h(["item",0==m.active?"active":""]),onClick:l[1]||(l[1]=e=>y.sliderChange(0))},{default:o((()=>[a(_,null,{default:o((()=>[n(c(e.$t("login.phone")),1)])),_:1})])),_:1},8,["class"]),a(x,{class:h(["item",1==m.active?"active":""]),onClick:l[2]||(l[2]=e=>y.sliderChange(1))},{default:o((()=>[a(_,null,{default:o((()=>[n(c(e.$t("login.email")),1)])),_:1})])),_:1},8,["class"])])),_:1}),a(x,{class:"container-box"},{default:o((()=>[a(x,{class:"item"},{default:o((()=>[0==m.active?(s(),i(_,{key:0,class:"font-13 color-gray"},{default:o((()=>[n(c(e.$t("login.phone")),1)])),_:1})):d("",!0),1==m.active?(s(),i(_,{key:1,class:"font-13 color-gray"},{default:o((()=>[n(c(e.$t("login.email")),1)])),_:1})):d("",!0),0==m.active?(s(),i(x,{key:2,class:"input-box phone-box"},{default:o((()=>[a(x,{class:"area-code",onClick:y.showArea},{default:o((()=>[a(_,{class:"font-14 color-black font-weight"},{default:o((()=>[n(c(m.showareacode),1)])),_:1}),a(v,{class:"down-icon",src:`/static/img/tactic/down-${e.userTheme}.png`,mode:"widthFix"},null,8,["src"])])),_:1},8,["onClick"]),a(b,{class:"font-14 color-black font-weight",modelValue:m.phone,"onUpdate:modelValue":l[3]||(l[3]=e=>m.phone=e),type:"number",placeholder:this.$t("login.phone_p"),"placeholder-class":"placeholder"},null,8,["modelValue","placeholder"])])),_:1})):d("",!0),1==m.active?(s(),i(x,{key:3,class:"input-box"},{default:o((()=>[a(b,{class:"font-14 color-black font-weight",modelValue:m.email,"onUpdate:modelValue":l[4]||(l[4]=e=>m.email=e),type:"text",placeholder:this.$t("login.email_p"),"placeholder-class":"placeholder"},null,8,["modelValue","placeholder"])])),_:1})):d("",!0)])),_:1}),1==m.login?(s(),i(x,{key:0,class:"item"},{default:o((()=>[a(_,{class:"font-13 color-gray"},{default:o((()=>[n(c(e.$t("login.password")),1)])),_:1}),a(x,{class:"input-box"},{default:o((()=>[a(b,{class:"font-14 color-black font-weight",modelValue:m.password,"onUpdate:modelValue":l[5]||(l[5]=e=>m.password=e),placeholder:this.$t("login.pwd_p"),type:m.itype,"placeholder-class":"placeholder"},null,8,["modelValue","placeholder","type"]),a(x,{class:"icon-box",onClick:y.changeInput},{default:o((()=>[a(w,{name:m.eye,size:"40",color:"var(--dark-gray)"},null,8,["name","color"])])),_:1},8,["onClick"])])),_:1})])),_:1})):d("",!0),0==m.login?(s(),i(x,{key:1,class:"item"},{default:o((()=>[a(_,{class:"font-13 color-gray"},{default:o((()=>[n(c(e.$t("login.invite")),1)])),_:1}),a(x,{class:"input-box"},{default:o((()=>[a(b,{class:"font-14 color-black font-weight",modelValue:m.invaiteCode,"onUpdate:modelValue":l[6]||(l[6]=e=>m.invaiteCode=e),disabled:m.istatus,placeholder:this.$t("login.inputInviteCode"),type:"text","placeholder-class":"placeholder"},null,8,["modelValue","disabled","placeholder"]),a(x,{class:"icon-box",onClick:y.changeInput},{default:o((()=>[a(w,{name:m.eye,size:"40",color:"var(--dark-gray)"},null,8,["name","color"])])),_:1},8,["onClick"])])),_:1})])),_:1})):d("",!0),a(x,{class:"button"},{default:o((()=>[a(C,{disabled:""==m.phone&&""==m.email,class:h({"active-btn":""!=m.phone||""!=m.email}),onClick:y.verifyShow},{default:o((()=>[n(c(1==m.login?this.$t("login.login_t"):this.$t("login.register")),1)])),_:1},8,["disabled","class","onClick"])])),_:1}),1==m.login?(s(),i(x,{key:2,class:"cell"},{default:o((()=>[a(_,{class:"font-13 font-weight color-primary",onClick:l[7]||(l[7]=e=>m.login=0)},{default:o((()=>[n(c(e.$t("login.reg_t")),1)])),_:1}),a(_,{class:"font-13 color-black",onClick:l[8]||(l[8]=t=>e.$mroute.forgetpwd())},{default:o((()=>[n(c(e.$t("login.forget_t")),1)])),_:1})])),_:1})):d("",!0),1!=m.login?(s(),i(x,{key:3,class:"cell log-cell"},{default:o((()=>[a(_,{class:"font-13 font-weight color-primary",onClick:l[9]||(l[9]=e=>m.login=1)},{default:o((()=>[n(c(e.$t("login.log_t")),1)])),_:1})])),_:1})):d("",!0)])),_:1})])),_:1}),a(x,{class:"con-footer"},{default:o((()=>[m.wallet?(s(),i(x,{key:0,class:"download-box"},{default:o((()=>[a(_,{class:"font-18 font-weight",style:{"font-size":"28rpx !important"}},{default:o((()=>[n(" 使用 "),a(_,{onClick:y.loginWallet,style:{"font-size":"28rpx !important"}},{default:o((()=>[n("Wallet Web")])),_:1},8,["onClick"]),n(" 快捷登录 ")])),_:1})])),_:1})):d("",!0),a(x,{class:"download-box"},{default:o((()=>[a(_,null,{default:o((()=>[n(c(e.$t("login.downlod_t"))+" ",1),a(_,{onClick:y.download},{default:o((()=>[n(c(e.config.site_name)+" APP",1)])),_:1},8,["onClick"]),n(" "+c(e.$t("login.downlod_t1")),1)])),_:1})])),_:1}),1!=m.login?(s(),i(x,{key:1,class:"download-box"},{default:o((()=>[a(_,null,{default:o((()=>[n(c(e.$t("login.reg_statement"))+" ",1),a(_,{onClick:l[10]||(l[10]=t=>e.$mroute.webview(1,"yhxy",e.$t("login.agr_t")))},{default:o((()=>[n("《"+c(e.$t("login.agr_t"))+"》",1)])),_:1}),n(" "+c(e.$t("login.and"))+" ",1),a(_,{onClick:l[11]||(l[11]=t=>e.$mroute.webview(1,"ysxy",e.$t("login.privacy_t")))},{default:o((()=>[n("《"+c(e.$t("login.privacy_t"))+"》 ",1)])),_:1})])),_:1})])),_:1})):d("",!0)])),_:1}),a(k,{background:"var(--background-primary)",ref:"scRef",title:e.$t("login.t11"),color:"var(--content-tertiary)",descrColor:"var(--content-primary)",sliderBgColor:"var(--background-dark)",slideColor:"var(--content-tertiary)",borderColor:"var(--background-secondary-100)",passColor:"var(--color-primary)",failColor:"var(--content-trade-sell)",closeColor:"var(--content-primary)",maskBgColor:"rgba(0, 0, 0, .8)",desc:e.$t("login.t22"),src:"/static/verify.jpeg",onVerify:y.verifyResult},null,8,["title","desc","onVerify"])])),_:1},8,["data-theme"]),a(A,{ref:"areacode",onItemclick:y.areacode},null,8,["onItemclick"]),a(S,{ref:"alert",ctxt:m.ctxt,ftxt:m.ftxt,title:m.title,onConfirm:l[12]||(l[12]=e=>y.alertConfirm()),content:m.content},null,8,["ctxt","ftxt","title","content"]),a(I,{ref:"loading"},null,512)],64)}],["__scopeId","data-v-84eccb28"]]);export{Ce as default};
